"use strict";(self.webpackChunkasp_net=self.webpackChunkasp_net||[]).push([[613],{2613:function(Nee,Ub,ke){ke.r(Ub),ke.d(Ub,{SharesModule:function(){return Aee}});var x=ke(8583);function h(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function ue(t,n){return function(e,o){n(e,o,t)}}function u(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var i=ke(7716);function Nn(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function Ln(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}const ll=(t,n)=>e=>n(t(e)),Wn=(t,n,e)=>t.addEventListener&&t.addEventListener(n,e),Xi=(t,n,e)=>t&&t.removeEventListener&&t.removeEventListener(n,e),cl=()=>{},$g=t=>t.preventDefault(),DE=/touch/;function dl(t){return t.type.match(DE)?{pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,type:t.type,originalEvent:t,isTouch:!0}:{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,type:t.type,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,originalEvent:t}}var eC=(()=>{class t{static supportPointerEvent(){return"undefined"!=typeof window&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=cl,drag:o=cl,release:s=cl,mouseOnly:r=!1}){this._pressHandler=ll(dl,e),this._dragHandler=ll(dl,o),this._releaseHandler=ll(dl,s),this._ignoreMouse=!1,this._mouseOnly=r,this._touchstart=a=>{1===a.touches.length&&this._pressHandler(a)},this._touchmove=a=>{1===a.touches.length&&this._dragHandler(a)},this._touchend=a=>{0===a.touches.length&&1===a.changedTouches.length&&(this._releaseHandler(a),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=a=>{const{which:l}=a;l&&l>1||this._ignoreMouse||(Wn(this.document,"mousemove",this._mousemove),Wn(this.document,"mouseup",this._mouseup),this._pressHandler(a))},this._mousemove=a=>{this._dragHandler(a)},this._mouseup=a=>{Xi(this.document,"mousemove",this._mousemove),Xi(this.document,"mouseup",this._mouseup),this._releaseHandler(a)},this._pointerdown=a=>{a.isPrimary&&0===a.button&&(Wn(this.document,"pointermove",this._pointermove),Wn(this.document,"pointerup",this._pointerup),Wn(this.document,"pointercancel",this._pointerup),Wn(this.document,"contextmenu",$g),this._pressHandler(a))},this._pointermove=a=>{a.isPrimary&&this._dragHandler(a)},this._pointerup=a=>{a.isPrimary&&(Xi(this.document,"pointermove",this._pointermove),Xi(this.document,"pointerup",this._pointerup),Xi(this.document,"pointercancel",this._pointerup),Xi(this.document,"contextmenu",$g),this._releaseHandler(a))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?Wn(e,"pointerdown",this._pointerdown):(Wn(e,"mousedown",this._mousedown),this._mouseOnly||(Wn(e,"touchstart",this._touchstart),Wn(e,"touchmove",this._touchmove),Wn(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return Xi(e,"pointerdown",this._pointerdown),Xi(this.document,"pointermove",this._pointermove),Xi(this.document,"pointerup",this._pointerup),Xi(this.document,"contextmenu",$g),void Xi(this.document,"pointercancel",this._pointerup);Xi(e,"mousedown",this._mousedown),this._mouseOnly||(Xi(e,"touchstart",this._touchstart),Xi(e,"touchmove",this._touchmove),Xi(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&t.supportPointerEvent()}update({press:e=cl,drag:o=cl,release:s=cl,mouseOnly:r=!1}){this._pressHandler=ll(dl,e),this._dragHandler=ll(dl,o),this._releaseHandler=ll(dl,s),this._mouseOnly=r}destroy(){this._unbindFromCurrent(),this._element=null}}return t.default=t,t})(),ul=ke(3637),is=ke(5345);class BE{constructor(n){this.durationSelector=n}call(n,e){return e.subscribe(new FE(n,this.durationSelector))}}class FE extends is.Ds{constructor(n,e){super(n),this.durationSelector=e,this.hasValue=!1}_next(n){if(this.value=n,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(n)}catch(s){return this.destination.error(s)}const o=(0,is.ft)(e,new is.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:n,hasValue:e,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Kn=ke(7574),tC=ke(9796);function Jg(t){return!(0,tC.k)(t)&&t-parseFloat(t)+1>=0}var iC=ke(4869);function RE(t){const{index:n,period:e,subscriber:o}=t;if(o.next(n),!o.closed){if(-1===e)return o.complete();t.index=n+1,this.schedule(t,e)}}function wc(t,n=ul.P){return function(t){return function(e){return e.lift(new BE(t))}}(()=>function(t=0,n,e){let o=-1;return Jg(n)?o=Number(n)<1?1:Number(n):(0,iC.K)(n)&&(e=n),(0,iC.K)(e)||(e=ul.P),new Kn.y(s=>{const r=Jg(t)?t:+t-e.now();return e.schedule(RE,r,{index:0,period:o,subscriber:s})})}(t,n))}var We=ke(6682),mt=ke(2759),Es=ke(4402);const W=()=>"undefined"!=typeof document,ht=(t,n,e=!0)=>!(void 0===n[t]||n[t].isFirstChange()&&e||n[t].previousValue===n[t].currentValue),bt=(t,n,e=!0)=>t.some(o=>ht(o,n,e)),ne=t=>t&&t.observers.length>0,Ve=()=>{let t="";for(let n=0;n<32;n++){const e=16*Math.random()|0;(8===n||12===n||16===n||20===n)&&(t+="-"),t+=(12===n?4:16===n?3&e|8:e).toString(16)}return t};let Pn=(()=>{let t=class{constructor(e,o){this.element=e,this.ngZone=o,this.enableDrag=!0,this.kendoPress=new i.vpe,this.kendoDrag=new i.vpe,this.kendoRelease=new i.vpe}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){ht("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){W()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new eC({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[i.TTD]}),Nn([(0,i.IIB)(),Ln("design:type",Boolean)],t.prototype,"enableDrag",void 0),Nn([(0,i.r_U)(),Ln("design:type",i.vpe)],t.prototype,"kendoPress",void 0),Nn([(0,i.r_U)(),Ln("design:type",i.vpe)],t.prototype,"kendoDrag",void 0),Nn([(0,i.r_U)(),Ln("design:type",i.vpe)],t.prototype,"kendoRelease",void 0),t=Nn([Ln("design:paramtypes",[i.SBq,i.R0b])],t),t})(),Lu=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez]]}),t})(),kt=(()=>{let t=class{constructor(e,o,s){this.element=e,this.ngZone=o,this.renderer=s,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let o in e)e.hasOwnProperty(o)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,o,this.scope?e[o].bind(this.scope):e[o]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),Nn([(0,i.IIB)("kendoEventsOutsideAngular"),Ln("design:type",Object)],t.prototype,"events",void 0),Nn([(0,i.IIB)(),Ln("design:type",Object)],t.prototype,"scope",void 0),t=Nn([Ln("design:paramtypes",[i.SBq,i.R0b,i.Qsj])],t),t})(),Kt=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();class rC{constructor(n){this.resizeBatchService=n,this.resize=new i.vpe,this.acceptedSize=!1,this.state=0}acceptSize(n=this.measure()){this.lastWidth=n.width,this.lastHeight=n.height,this.acceptedSize=!0}checkChanges(){!W()||0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:n,height:e}=this.measure();return n!==this.lastWidth||e!==this.lastHeight?(this.lastWidth=n,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0):void 0}initSize(){const n=this.measure();this.lastWidth=n.width,this.lastHeight=n.height}measure(){let n=0,e=0;return this.parentElement&&(e=this.parentElement.offsetHeight,n=this.parentElement.offsetWidth),{height:e,width:n}}}const Pu=t=>{const n=document.createElement("div");return n.style.cssText=t,n},Zg="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class VE extends rC{constructor(n,e,o){super(n),this.element=e,this.ngZone=o}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const n=this.element.nativeElement;n.removeChild(this.expand),n.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const n=this.parentElement=this.element.nativeElement.parentElement;"static"===((t,n)=>getComputedStyle(t,null).getPropertyValue("position"))(n)&&(n.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const n=this.element.nativeElement;n.style.cssText=Zg,n.setAttribute("dir","ltr"),this.expand=Pu(Zg),this.expandChild=Pu("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),n.appendChild(this.expand),this.shrink=Pu(Zg);const e=Pu("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(e),n.appendChild(this.shrink)}reset(){const n=this.expandChild;n.style.width="100000px",n.style.height="100000px";const e=this.expand;e.scrollLeft=1e5,e.scrollTop=1e5;const o=this.shrink;o.scrollLeft=1e5,o.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=(0,We.T)((0,mt.R)(this.shrink,"scroll"),(0,mt.R)(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const HE="undefined"!=typeof ResizeObserver;class lC extends rC{constructor(n,e,o){super(n),this.element=e,this.ngZone=o}static supported(){return HE}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let Ug=(()=>{let t=class{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,o){this.scheduled.push({instance:e,method:o}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=(0,Es.D)(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(o=>o.instance===e))}cancel(e){const o=this.scheduled,s=o.length;for(let r=0;r<s;r++)if(o[r].instance===e)return o.splice(r,1),void(o.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=Nn([Ln("design:paramtypes",[i.R0b])],t),t})(),ai=(()=>{let t=class{constructor(e,o,s){this.rateLimit=10,this.resize=new i.vpe;const r=lC.supported()?lC:VE;this.resizeService=new r(e,o,s),this.subscription=this.resizeService.resize.pipe(wc(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ug),i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),Nn([(0,i.IIB)(),Ln("design:type",Number)],t.prototype,"rateLimit",void 0),Nn([(0,i.r_U)(),Ln("design:type",i.vpe)],t.prototype,"resize",void 0),t=Nn([Ln("design:paramtypes",[Ug,i.SBq,i.R0b])],t),t})(),_o=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Ug]}),t})();class qe{}var R=(()=>{return(t=R||(R={}))[t.Alt=18]="Alt",t[t.ArrowDown=40]="ArrowDown",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowUp=38]="ArrowUp",t[t.Backspace=8]="Backspace",t[t.Control=17]="Control",t[t.Delete=46]="Delete",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.End=35]="End",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F10=121]="F10",t[t.Home=36]="Home",t[t.Insert=45]="Insert",t[t.KeyA=65]="KeyA",t[t.KeyB=66]="KeyB",t[t.KeyC=67]="KeyC",t[t.KeyD=68]="KeyD",t[t.KeyE=69]="KeyE",t[t.KeyF=70]="KeyF",t[t.KeyG=71]="KeyG",t[t.KeyH=72]="KeyH",t[t.KeyI=73]="KeyI",t[t.KeyJ=74]="KeyJ",t[t.KeyK=75]="KeyK",t[t.KeyL=76]="KeyL",t[t.KeyM=77]="KeyM",t[t.KeyN=78]="KeyN",t[t.KeyO=79]="KeyO",t[t.KeyP=80]="KeyP",t[t.KeyQ=81]="KeyQ",t[t.KeyR=82]="KeyR",t[t.KeyS=83]="KeyS",t[t.KeyT=84]="KeyT",t[t.KeyU=85]="KeyU",t[t.KeyV=86]="KeyV",t[t.KeyW=87]="KeyW",t[t.KeyX=88]="KeyX",t[t.KeyY=89]="KeyY",t[t.KeyZ=90]="KeyZ",t[t.NumpadDecimal=110]="NumpadDecimal",t[t.PageDown=34]="PageDown",t[t.PageUp=33]="PageUp",t[t.Shift=16]="Shift",t[t.Space=32]="Space",t[t.Tab=9]="Tab",R;var t})(),cn=ke(5917),Ze=ke(9765),Ie=ke(5319);function Sc(t=0,n=ul.P){return(!Jg(t)||t<0)&&(t=0),(!n||"function"!=typeof n.schedule)&&(n=ul.P),new Kn.y(e=>(e.add(n.schedule(YE,t,{subscriber:e,counter:0,period:t})),e))}function YE(t){const{subscriber:n,counter:e,period:o}=t;n.next(e),this.schedule({subscriber:n,counter:e+1,period:o},o)}ke(6693);var zn=ke(7393);ke(377);var eo=ke(6215);function Gu(t,n){return function(e,o){n(e,o,t)}}function WE(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var pC=ke(3653),xe=ke(8002),ze=ke(3342);let Bs=(()=>{let t=class{constructor(){this.changes=new eo.X({rtl:void 0})}notify(e){this.changes.next({rtl:e})}get(e){}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),zi=(()=>{class t{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(o=>!e[o].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe((0,pC.T)(1)).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(s=>this.service.register(s,this[s],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,features:[i.TTD]}),t})();const Gi=new i.OlP("Kendo UI Right-to-Left token"),Fe=new i.OlP("Localization key prefix");let I=(()=>{let t=class{constructor(e,o,s){this.prefix=e,this.messageService=o,this._rtl=s,this.changes=new eo.X({rtl:this._rtl}),this.dictionary={},o&&(this.subscription=o.changes.pipe((0,xe.U)(({rtl:r})=>void 0!==r?r:this._rtl),(0,ze.b)(r=>this._rtl=r)).subscribe(r=>{this.dictionary={},this.changes.next({rtl:r})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const o=this.key(e);return this.dictionary[o]}register(e,o,s=!1){const r=this.key(e);let a=o;if(!s){if(this.dictionary.hasOwnProperty(r))return;a=this.defaultValue(r,o)}this.dictionary[r]=a}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,o){if(!this.messageService)return o;const s=this.messageService.get(e);return void 0===s?o:s}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Fe),i.LFG(Bs,8),i.LFG(Gi,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=function(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}([Gu(0,(0,i.tBr)(Fe)),Gu(1,(0,i.FiY)()),Gu(2,(0,i.FiY)()),Gu(2,(0,i.tBr)(Gi)),WE("design:paramtypes",[String,Bs,Boolean])],t),t})();var vi=ke(3190),nt=ke(5257),ee=ke(5435),Wi=ke(6782);function Hu(t,n){return n?(0,vi.w)(()=>t,n):(0,vi.w)(()=>t)}var eB=ke(9989),Ic=ke(3098);function pl(t,n=ul.P){const o=(0,eB.J)(t)?+t-n.now():Math.abs(t);return s=>s.lift(new tB(o,n))}class tB{constructor(n,e){this.delay=n,this.scheduler=e}call(n,e){return e.subscribe(new Xg(n,this.delay,this.scheduler))}}class Xg extends zn.L{constructor(n,e,o){super(n),this.delay=e,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const e=n.source,o=e.queue,s=n.scheduler,r=n.destination;for(;o.length>0&&o[0].time-s.now()<=0;)o.shift().notification.observe(r);if(o.length>0){const a=Math.max(0,o[0].time-s.now());this.schedule(n,a)}else this.unsubscribe(),e.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(Xg.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const e=this.scheduler,o=new iB(e.now()+this.delay,n);this.queue.push(o),!1===this.active&&this._schedule(e)}_next(n){this.scheduleNotification(Ic.P.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(Ic.P.createComplete()),this.unsubscribe()}}class iB{constructor(n,e){this.time=n,this.notification=e}}var nB=ke(7519);const hC={leading:!0,trailing:!1};function Wg(t,n=ul.P,e=hC){return o=>o.lift(new rB(t,n,e.leading,e.trailing))}class rB{constructor(n,e,o,s){this.duration=n,this.scheduler=e,this.leading=o,this.trailing=s}call(n,e){return e.subscribe(new aB(n,this.duration,this.scheduler,this.leading,this.trailing))}}class aB extends zn.L{constructor(n,e,o,s,r){super(n),this.duration=e,this.scheduler=o,this.leading=s,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(lB,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)}}function lB(t){const{subscriber:n}=t;n.clearThrottle()}var Yu=ke(4395);var X=ke(665),lt=ke(9813);const Et=t=>null!=t,$u=t=>null==t,Kg=t=>Array.isArray(t),Fs=t=>t&&t.getTime,ns=t=>Et(t.filters),gC=(t,n,e)=>o=>t(o)?n(o):e(o),to=(...t)=>n=>t.reduceRight((e,o)=>o(e),n),kc=("",{}),bB=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;kc.undefined=t=>t;const yo=(t,n)=>{const e=t+n;if(kc[e])return kc[e];const o=[];return t.replace(bB,(s,r,a,l)=>{o.push(Et(r)?r:a||l)}),kc[e]=s=>{let r=s;for(let a=0;a<o.length;a++)if(r=r[o[a]],!Et(r)&&n)return r;return r},kc[e]},xc=t=>n=>[t,n],kB=()=>null,tm=t=>n=>Et(t(n)),_C=t=>n=>(t=>Et(t)&&Kg(t)&&t.length>0)(t(n)),hl=(t,n)=>gC(t,n,kB),im=(t,n)=>e=>t(e).map(n).join("~"),MB=to(...[['"',""],[":","-"]].map(([n,e])=>o=>o.replace(new RegExp(n,"g"),e))),EB=n=>n.slice(0,n.indexOf(".")),yC=({field:t,dir:n="asc"})=>`${t}-${n}`,bC=yo("take"),CC=yo("aggregates"),FB=yo("skip"),wC=yo("group"),nm=yo("sort",!0),OB=im(nm,yC),RB=im(wC,yC),AB=im(CC,({field:t,aggregate:n})=>`${t}-${n}`),NB=to(t=>`datetime'${t}'`,EB,MB,JSON.stringify,t=>new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))),zB=to(xc("page"),({skip:t,take:n})=>Math.floor((t||0)/n)+1),GB=to(xc("pageSize"),bC),VB=to(xc("group"),RB),HB=to(xc("sort"),OB),YB=to(xc("aggregate"),AB),om=(hl(tm(FB),zB),hl(tm(bC),GB),hl(_C(wC),VB),hl(tm(CC),YB),to(hl(_C(nm),HB),t=>Object.assign({},t,{sort:(nm(t)||[]).filter(({dir:n})=>(t=>!(t=>$u(t)||0===t.trim().length)(t))(n))})),({field:t,operator:n,value:e})=>`${t}~${n}~${e}`),Ju=(gC(t=>Fs(t.value),to(om,({field:t,value:n,ignoreCase:e,operator:o})=>({value:NB(n),field:t,ignoreCase:e,operator:o})),om),(t,n,e)=>(n[t]=e,n)),sm=t=>n=>{const e=n[t];return Et(e)?e:n[(t=>t.replace(/(^[A-Z])/g,(n,e)=>e.toLowerCase()))(t)]},xC=(sm("Member"),sm("AggregateMethodName"),sm("Value"),t=>n=>Object.keys(n).reduce(t.bind(null,n),{})),nF=xC((t,n,e)=>Ju(e.toLowerCase(),n,t[e])),oF=xC((t,n,e)=>Ju(e,n,nF(t[e]))),TC=(t,n)=>Et(t)?t:n,DC=to(({field:t,hasSubgroups:n,value:e,aggregates:o,items:s})=>({aggregates:oF(o),field:t,items:n?s.map(DC):s,value:e}),t=>({aggregates:t.Aggregates||t.aggregates,field:t.Member||t.member||t.field,hasSubgroups:t.HasSubgroups||t.hasSubgroups||!1,items:t.Items||t.items,value:TC(t.Key,TC(t.key,t.value))})),MC=(t,n)=>$u(t)?t===n?0:-1:$u(n)?1:t.localeCompare?t.localeCompare(n):t>n?1:t<n?-1:0,sF=(t,n)=>MC(n,t),rF=t=>{const n=yo(t.field,!0);return(e,o)=>("asc"===t.dir?MC:sF)(n(e),n(o))},aF=(t,n)=>0,EC=t=>n=>(e,o,s)=>n(e,t(o,s)),lm=(EC(t=>t),EC(t=>t),(t,n,e,o)=>{if(e-n<2)return;const s=n+e>>>1;lm(t,n,s,o),lm(t,s,e,o),((t,n,e,o,s)=>{let r=e-n,a=o-e;const l=[];for(let m=0;m<r;m++)l.push(t[n+m]);let d=0,c=e,p=n;do{s(t[c],l[d])<0?(t[p++]=t[c++],a--):(t[p++]=l[d++],r--)}while(a>0&&r>0);for(;r;)t[p++]=l[d++],r--;for(;a;)t[p++]=t[c++],a--})(t,n,s,e,o)}),ju=(t,n)=>{if(n.some(e=>Et(e.dir))){t=t.slice(0);const e=(t=>t.filter(n=>Et(n.dir)).map(n=>rF(n)).reduce((n,e)=>(o,s)=>n(o,s)||e(o,s),aF))(n);lm(t,0,t.length,e)}return t};function At(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function fl(t,n){return function(e,o){n(e,o,t)}}function Nt(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function qC(t){return t.ownerDocument||t.document||t}var dm=t=>qC(t).defaultView,um=t=>qC(t).documentElement;let pm=0;function hm(t){const n=dm(t),e=um(t),o={height:n.innerHeight,width:n.innerWidth};return e.scrollHeight-e.clientHeight>0&&(o.width-=function(){if(!pm&&"undefined"!=typeof document){const t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),pm=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return pm}()),o}var Os=t=>{let n=t.getBoundingClientRect(),{left:e,top:o}=n;return!n.height&&!n.width&&(n=(t=>{const{display:n,left:e,position:o}=t.style;t.style.display="",t.style.left="-10000px",t.style.position="absolute";const s=t.getBoundingClientRect();return t.style.display=n,t.style.left=e,t.style.position=o,s})(t)),{top:o,left:e,height:n.height,width:n.width}},fm=(t,n)=>{const e=[];let o=t.parentNode;for(;o&&(e.push(o),o!==n);)o=o.parentNode;return e};function gm(t){const n=um(t),e=dm(t);return{x:e.pageXOffset||n.scrollLeft||0,y:e.pageYOffset||n.scrollTop||0}}var UC=t=>t===(t.ownerDocument||{}).body?gm(t):{x:t.scrollLeft,y:t.scrollTop},mm=t=>{let n=t.offsetParent;for(;n&&"static"===n.style.position;)n=n.offsetParent;return n||um(t)},QC=(t,n,e=1)=>{const o=n?mm(n):null,{top:s,left:r,height:a,width:l}=((t,n)=>{const e=dm(t),o=e.getComputedStyle(t),s=Os(t),r=n||mm(t),a=t.ownerDocument;let d={top:0,left:0};if("fixed"!==o.position&&r!==a.body&&r!==a.documentElement){const c=e.getComputedStyle(r);d=Os(r),d.top+=parseInt(c.borderTopWidth,10),d.left+=parseInt(c.borderLeftWidth,10)}return{top:s.top-d.top,left:s.left-d.left,height:s.height,width:s.width}})(t,o),{x:d,y:c}=((t,n)=>t?UC(t):function(t){const n=mm(t);return n?UC(n):{x:0,y:0}}(n))(o,t),p=t.ownerDocument,m=o===p.body||o===p.documentElement?1:e;return{top:s+c*m,left:r+d*m,height:a,width:l}};const WC=function(t,n,e){let o=0;return t+n>e&&(o=e-(t+n)),t<0&&(o=-t),o},KC=function({offset:t,size:n,anchorSize:e,viewPortSize:o,anchorAlignPoint:s,elementAlignPoint:r,margin:a}){let l=0;const p=2*a;if(r!==s&&"center"!==r&&"middle"!==r&&"center"!==s&&"middle"!==s){const m="top"===s||"left"===s;t<0&&m?(l=n+e+p,t+l+n>o&&(l=0)):t>=0&&!m&&(t+n>o&&(l+=-(e+n+p)),t+l<0&&(l=0))}return l};var PF=t=>{const n=[];let e=t.parentNode.firstElementChild;for(;e;)e!==t&&n.push(e),e=e.nextElementSibling;return n};var Le=ke(7238);const c6=["container"];function d6(t,n){}const u6=["*"],vm=(t,n)=>t||{height:0,left:n.left,top:n.top,width:0},Uu=()=>"undefined"!=typeof window,f6=/auto|scroll/,v6=t=>(t=>`${t.style.overflow}${t.style.overflowX}${t.style.overflowY}`)(t)||(t=>{const n=window.getComputedStyle(t);return`${n.overflow}${n.overflowX}${n.overflowY}`})(t),sw=1e3/60,b6=function(t){let n,e=!1;return(...o)=>(e||(n=(()=>{if(!W()&&null!==document.body)return!1;const n=document.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(n);const e=10!==n.children[0].getBoundingClientRect().top;return document.body.removeChild(n),e})(...o),e=!0),n)}(),Mc=(t,n)=>t&&1!==n?{height:t.height/n,left:t.left/n,top:t.top/n,width:t.width/n}:t,w6=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let io=(()=>{let t=class{addOffset(e,o){return{left:e.left+o.left,top:e.top+o.top}}addScroll(e,o){return function(t,n){return{top:t.top+n.y,left:t.left+n.x,height:t.height,width:t.width}}(e,o)}align(e){return(t=>{const{anchorRect:n,anchorAlign:e,elementRect:o,elementAlign:s,margin:r={}}=t,a=e.horizontal,l=e.vertical,d=s.horizontal,c=s.vertical;let p=r.horizontal||0,m=r.vertical||0,f=n.top,y=n.left;return"bottom"===l&&(f+=n.height),("center"===l||"middle"===l)&&(f+=Math.round(n.height/2)),"bottom"===c&&(f-=o.height,m*=-1),("center"===c||"middle"===c)&&(f-=Math.round(o.height/2),m*=-1),"right"===a&&(y+=n.width),("center"===a||"middle"===a)&&(y+=Math.round(n.width/2)),"right"===d&&(y-=o.width,p*=-1),("center"===d||"middle"===d)&&(y-=Math.round(o.width/2),p*=-1),{top:f+m,left:y+p}})(e)}boundingOffset(e){return(t=>{if(!t.getBoundingClientRect){const r=hm(t);return{bottom:r.height,left:0,right:r.width,top:0}}const{bottom:n,left:e,right:o,top:s}=t.getBoundingClientRect();return{bottom:n,left:e,right:o,top:s}})(e)}getFontStyles(e){const o=this.getWindow();if(!o||!e)return[];const s=o.getComputedStyle(e);return w6.map(r=>({key:r,value:s[r]}))}getWindow(){return Uu()?window:null}hasOffsetParent(e){return!!e&&!!this.nativeElement(e).offsetParent}offset(e){return e?Os(e):null}offsetAtPoint(e,o){if(!e)return null;const s=this.nativeElement(e),{left:r,top:a,transition:l}=s.style;s.style.transition="none",s.style.left=`${o.left}px`,s.style.top=`${o.top}px`;const d=Os(s);return s.style.left=r,s.style.top=a,s.style.transition=l,d}nativeElement(e){return e?e.nativeElement||e:null}position(e,o,s=1){return e&&o?QC(e,this.nativeElement(o),s):null}removeScroll(e,o){return function(t,n){return{top:t.top-n.y,left:t.left-n.x,height:t.height,width:t.width}}(e,o)}restrictToView(e){return(t=>{const{anchorRect:n,anchorAlign:e,elementRect:o,elementAlign:s,collisions:r,viewPort:a,margin:l={}}=t,{top:d,left:c,height:p,width:m}=o,{height:f,width:y}=a,S=l.horizontal||0,D=l.vertical||0;let P=0,E=0;const M="fit"===r.vertical,H="fit"===r.horizontal,F="flip"===r.vertical,O="flip"===r.horizontal;M&&(E+=WC(d,p,f)),H&&(P+=WC(c,m,y)),F&&(E+=KC({margin:D,offset:d,size:p,anchorSize:n.height,viewPortSize:f,anchorAlignPoint:e.vertical,elementAlignPoint:s.vertical})),O&&(P+=KC({margin:S,offset:c,size:m,anchorSize:n.width,viewPortSize:y,anchorAlignPoint:e.horizontal,elementAlignPoint:s.horizontal}));const V=F&&0!==E,z=O&&0!==P,j=M&&0!==E,K=H&&0!==P;return{flipped:z||V,fitted:j||K,flip:{horizontal:z,vertical:V},fit:{horizontal:K,vertical:j},offset:{left:P,top:E}}})(e)}scrollPosition(e){return gm(this.nativeElement(e))}scrollableParents(e){return(t=>{const n=[];if(!W()||!Uu())return n;let e=t.parentElement;for(;e;)(f6.test(v6(e))||e.hasAttribute("data-scrollable"))&&n.push(e),e=e.parentElement;return n.push(window),n})(e)}stackingElementOffset(e){const o=this.getRelativeContextElement(e);return o?Os(o):null}stackingElementScroll(e){const o=this.getRelativeContextElement(e);return o?{x:o.scrollLeft,y:o.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!b6())return null;let o=this.nativeElement(e).parentElement;for(;o;){if("none"!==window.getComputedStyle(o).transform)return o;o=o.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return hm(this.nativeElement(e))}zIndex(e,o){return((t,n)=>{if(!t||!W()||!Uu())return null;const e=((t,n)=>{const e=fm(t);let s,r,o=n;for(;o&&(s=PF(o),r=e.reduce((a,l)=>a.concat(s.filter(d=>d===l)),[])[0],!r);)o=o.parentElement;return r})(t,n);if(!e)return null;const o=[t].concat(fm(t,e)).reduce((s,r)=>{const a=r.style.zIndex||window.getComputedStyle(r).zIndex,l=parseInt(a,10);return l>s?l:s},0);return o?o+1:null})(e,this.nativeElement(o))}zoomLevel(){return W()&&Uu()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const Qu=new i.OlP("Popup Document Scale");let _m=(()=>{let t=class{constructor(e,o=1){this._dom=e,this.scale=o}alignElement(e){const{anchor:o,element:s,anchorAlign:r,elementAlign:a,margin:l,offset:d,positionMode:c}=e,p=this.scale||1,f="fixed"!==c&&this._dom.hasOffsetParent(s)?this.relativeRect(o,s,d,p):this.absoluteRect(o,s,d,p),y=Mc(this._dom.offset(s.nativeElement),p);return this._dom.align({anchorAlign:r,anchorRect:f,elementAlign:a,elementRect:y,margin:l})}absoluteRect(e,o,s,r){const a=this.elementScrollPosition(e,o),l=vm(this._dom.offset(e),s),d=2*r,c=this._dom.stackingElementScroll(o);1!==r&&c&&(c.x/=d,c.y/=d);const p=this._dom.stackingElementOffset(o);return 1!==r&&p&&(p.left/=d,p.top/=d),this._dom.removeScroll(this._dom.addScroll(((t,n)=>n?{height:t.height,left:t.left-n.left,top:t.top-n.top,width:t.width}:t)(Mc(l,r),p),c),a)}elementScrollPosition(e,o){return e?{x:0,y:0}:this._dom.scrollPosition(o)}relativeRect(e,o,s,r){const a=vm(this._dom.position(e,o,r),s);return Mc(a,r)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(io),i.LFG(Qu,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=At([fl(1,(0,i.tBr)(Qu)),fl(1,(0,i.FiY)()),Nt("design:paramtypes",[io,Number])],t),t})(),ym=(()=>{let t=class{constructor(e,o=1){this._dom=e,this.scale=o}positionElement(e){const{anchor:o,currentLocation:s,element:r,anchorAlign:a,elementAlign:l,collisions:d,margin:c}=e,p=this._dom,m=this.scale||1,f=p.offsetAtPoint(r,s),y=Mc(f,m),S=Mc(p.offset(o),m),D=vm(S,s),P=e.viewPort||p.windowViewPort(r);P.width=P.width/m,P.height=P.height/m;const E=p.restrictToView({anchorAlign:a,anchorRect:D,collisions:d,elementAlign:l,elementRect:y,margin:c,viewPort:P}),M=p.addOffset(s,E.offset);return{flip:E.flip,flipped:E.flipped,offset:M}}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(io),i.LFG(Qu,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=At([fl(1,(0,i.tBr)(Qu)),fl(1,(0,i.FiY)()),Nt("design:paramtypes",[io,Number])],t),t})(),bm=(()=>{let t=class{constructor(e,o){this._dom=e,this._zone=o}subscribe(e){!W()||this._zone.runOutsideAngular(()=>{this.subscription=(0,mt.R)(this._dom.getWindow(),"resize").pipe(wc(sw)).subscribe(()=>e())})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(io),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=At([Nt("design:paramtypes",[io,i.R0b])],t),t})(),Cm=(()=>{let t=class{constructor(e,o){this._dom=e,this._zone=o}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!W()||!this.element)return;const o=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const s=o.map(a=>(0,mt.R)(a,"scroll").pipe(wc(sw)));this.subscription=(0,We.T)(...s).subscribe(a=>{const l=a.target;(o.filter(m=>m===l).length>0||l===document||l===window)&&e(this.isVisible(this.element,l))})})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isVisible(e,o){const s=this._dom.boundingOffset(e),r=this._dom.boundingOffset(this._dom.nativeElement(o));return!(1<r.top-s.bottom||1<s.top-r.bottom||1<s.left-r.right||1<r.left-s.right)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(io),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=At([Nt("design:paramtypes",[io,i.R0b])],t),t})();const Ec="left",gl="right",ml="down",Bc={expand:t=>{const n="up"===t||t===ml?"scaleY":"scaleX";let s;return s=t===ml?"top":t===Ec?gl:t===gl?Ec:"bottom",{start:{transform:`${n}(0)`,transformOrigin:s},end:{transform:`${n}(1)`}}},slide:t=>{const n=t===Ec||t===gl?"translateX":"translateY";return{start:{transform:`${n}(${t===gl||t===ml?-100:100}%)`},end:{transform:`${n}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let Sm=(()=>{let t=class{constructor(e){this.animationBuilder=e,this.start=new i.vpe,this.end=new i.vpe}play(e,o,s){if(!this.flip||this.flip.horizontal!==s.horizontal||this.flip.vertical!==s.vertical){this.flip=s;const r=o.type||"slide",a=Bc[r];if(a){const d=a(this.getDirection(s,o));this.playStates(e,d,o)}else if((0,i.X6Q)())throw new Error(`Unsupported animation type: "${r}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,o,s){this.stopPlayer();const r=s.duration||100,a=this.animationBuilder.build([(0,Le.oB)(o.start),(0,Le.jt)(`${r}ms ease-in`,(0,Le.oB)(o.end))]),l=this.player=a.create(e);l.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),l.play()}getDirection(e,o){let s=o.direction||ml;return e.horizontal&&(s===Ec?s=gl:s===gl&&(s=Ec)),e.vertical&&(s===ml?s="up":"up"===s&&(s=ml)),s}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Le._j))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=At([Nt("design:paramtypes",[Le._j])],t),t})();const k6={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1648554200,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},rw={left:-1e4,top:0};let aw=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c,p){this.container=e,this._alignService=o,this.domService=s,this._positionService=r,this._resizeService=a,this._scrollableService=l,this.animationService=d,this._renderer=c,this._zone=p,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=rw,this.anchorViewportLeave=new i.vpe,this.close=new i.vpe,this.open=new i.vpe,this.positionChange=new i.vpe,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,(0,lt.s)(k6),this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=rw,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=(0,Es.D)(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",`${e.left}px`),this.setContainerStyle("top",`${e.top}px`),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!W())return;const{flip:e,offset:o}=this.position();(!this.currentOffset||((t,n)=>{const{left:e,top:o}=t,{left:s,top:r}=n;return Math.abs(e-s)>=1||Math.abs(o-r)>=1})(this.currentOffset,o))&&(this.currentOffset=o,ne(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:o,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const o=ne(this.anchorViewportLeave);e||!o?this.reposition():o&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,o){this._renderer.setStyle(this.container.nativeElement,e,o)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(_m),i.Y36(io),i.Y36(ym),i.Y36(bm),i.Y36(Cm),i.Y36(Sm),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-popup"]],viewQuery:function(e,o){if(1&e&&(i.Gf(c6,7),i.Gf(ai,7)),2&e){let s;i.iGM(s=i.CRH())&&(o.contentContainer=s.first),i.iGM(s=i.CRH())&&(o.resizeSensor=s.first)}},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[i._Bn([_m,Sm,io,ym,bm,Cm]),i.TTD],ngContentSelectors:u6,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,o){1&e&&(i.F$t(),i.TgZ(0,"div",0,1),i.Hsn(2),i.YNc(3,d6,0,0,"ng-template",2),i.TgZ(4,"kendo-resize-sensor",3),i.NdJ("resize",function(){return o.onResize()}),i.qZA(),i.qZA()),2&e&&(i.Q6J("ngClass",o.popupClass),i.xp6(3),i.Q6J("ngTemplateOutlet",o.content)("ngIf",o.content),i.xp6(1),i.Q6J("rateLimit",100))},directives:[x.mk,x.tP,x.O5,ai],encapsulation:2}),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"animate",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"anchor",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"anchorAlign",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"collision",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"popupAlign",void 0),At([(0,i.IIB)(),Nt("design:type",Boolean)],t.prototype,"copyAnchorStyles",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"popupClass",void 0),At([(0,i.IIB)(),Nt("design:type",String)],t.prototype,"positionMode",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"offset",void 0),At([(0,i.IIB)(),Nt("design:type",Object)],t.prototype,"margin",void 0),At([(0,i.r_U)(),Nt("design:type",i.vpe)],t.prototype,"anchorViewportLeave",void 0),At([(0,i.r_U)(),Nt("design:type",i.vpe)],t.prototype,"close",void 0),At([(0,i.r_U)(),Nt("design:type",i.vpe)],t.prototype,"open",void 0),At([(0,i.r_U)(),Nt("design:type",i.vpe)],t.prototype,"positionChange",void 0),At([(0,i.i9L)("container",{static:!0}),Nt("design:type",i.SBq)],t.prototype,"contentContainer",void 0),At([(0,i.i9L)(ai,{static:!0}),Nt("design:type",ai)],t.prototype,"resizeSensor",void 0),t=At([Nt("design:paramtypes",[i.SBq,_m,io,ym,bm,Cm,Sm,i.Qsj,i.R0b])],t),t})();const lw=new i.OlP("Popup Container");let $e=(()=>{let t=class{constructor(e,o,s,r){this.applicationRef=e,this.componentFactoryResolver=o,this.injector=s,this.container=r}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:o,nodes:s}=this.contentFrom(e.content),r=this.appendPopup(s,e.appendTo),a=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),o&&o.changeDetectorRef.detectChanges();const l=this.getComponentRootNode(r);return{close:()=>{o&&o.destroy(),r.destroy(),(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)})(l)},content:o,popup:r,popupAnchorViewportLeave:a.anchorViewportLeave,popupClose:a.close,popupElement:l,popupOpen:a.open,popupPositionChange:a.positionChange}}appendPopup(e,o){const s=this.createComponent(aw,e,o);return o||this.rootViewContainerNode.appendChild(this.getComponentRootNode(s)),s}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,o,s){const r=this.getComponentFactory(e);if(s)return s.createComponent(r,void 0,this.injector,o);{const a=r.create(this.injector,o);return this.applicationRef.attachView(a.hostView),a}}projectComponentInputs(e,o){return Object.getOwnPropertyNames(o).filter(s=>"content"!==s||o.content instanceof i.Rgc).map(s=>{e.instance[s]=o[s]}),e}contentFrom(e){if(!e||e instanceof i.Rgc)return{component:null,nodes:[[]]};const o=this.createComponent(e);return{component:o,nodes:[o?[o.location.nativeElement]:[]]}}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.z2F),i.LFG(i._Vd),i.LFG(i.zs3),i.LFG(lw,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=At([fl(3,(0,i.tBr)(lw)),fl(3,(0,i.FiY)()),Nt("design:paramtypes",[i.z2F,i._Vd,i.zs3,i.SBq])],t),t})(),yn=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[$e],imports:[[x.ez,_o]]}),t})();ke(9075);const dw=()=>"undefined"!=typeof window,Im={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},M6={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},km={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},E6={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},uw=(t,n,e)=>{for(let o in n)if(n.hasOwnProperty(o)&&n[o].test(t))return o;return void 0!==e?e:t},xm=t=>{let n,e=[];for(let o in Im)if(Im.hasOwnProperty(o)){if(e=t.match(Im[o]),!e)continue;if("windows"===o&&"plugins"in window.navigator)return null;const s={};return s.device=o,s.browser=uw(t,E6,"default"),s.name=uw(o,M6),s[s.name]=!0,s.majorVersion=e[2],s.minorVersion=e[3]?e[3].replace("_","."):".0",n=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+n+new Array(3-(n.length<3?n.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null},pw=t=>{let n=null,e=[];for(let o in km)if(km.hasOwnProperty(o)&&(e=t.match(km[o]),e)){n={},n[o]=!0,n[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||e[2],10);break}return n},Wu=dw()&&window.navigator?window.navigator.userAgent:null,vl=Wu?pw(Wu):null,hw=Wu?xm(Wu):null,B6=dw()&&"ontouchstart"in window,F6=vl&&!vl.chrome&&window.MSPointerEvent,fw=vl&&!vl.chrome&&window.PointerEvent,Fc=hw&&(B6||F6||fw),O6=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;const Oc={};function qt(t){if(Oc[t])return Oc[t];const n=function(t){const n=[];return t.replace(O6,function(e,o,s,r){n.push(void 0!==o?o:s||r)}),n}(t);return Oc[t]=function(e){let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o},Oc[t]}function b(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function bn(t,n){return function(e,o){n(e,o,t)}}function _(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}function L(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function _l(t,n){return function(e,o){n(e,o,t)}}function B(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}Oc.undefined=t=>t;var bw=ke(9193),tp=ke(5304),L6=ke(8939);function w(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function xt(t,n){return function(e,o){n(e,o,t)}}function C(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var Bm=ke(4612),z6=ke(9761),Oe=ke(9238);class Rs{}let np=null;var yl={get browser(){return"undefined"==typeof window||np||(np=function(t){const n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let e={};for(let o in n)if(n.hasOwnProperty(o)){const s=t.match(n[o]);if(s){e[o]=!0,e[s[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||s[2],10);break}}return e}(window.navigator.userAgent)),np}},bl={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};const Sw=yl.browser;let Iw=t=>{const n=Object.keys(bl);n.push("transparent");const e=new RegExp("^("+n.join("|")+")(\\W|$)","i");return Iw=o=>e.exec(o),e.exec(t)};class op extends Rs{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(n){return this.toBytes().toHex(n)}toBytes(){return this}toCss(n){return"#"+this.toHex(n)}toCssRgba(){const n=this.toBytes();return`rgba(${n.r}, ${n.g}, ${n.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return Sw.msie&&Sw.version<9?this.toCss():this.toCssRgba()}equals(n){return n===this||null!==n&&this.toCssRgba()===bo(n).toCssRgba()}diff(n){if(null===n)return NaN;const e=this.toBytes(),o=n.toBytes();return Math.sqrt(Math.pow(.3*(e.r-o.r),2)+Math.pow(.59*(e.g-o.g),2)+Math.pow(.11*(e.b-o.b),2))}clone(){let n=this.toBytes();return n===this&&(n=new os(n.r,n.g,n.b,n.a)),n}}class As extends op{constructor(n,e,o,s){super(),this.r=n,this.g=e,this.b=o,this.a=s}toHSV(){const{r:n,g:e,b:o}=this,s=Math.min(n,e,o),r=Math.max(n,e,o),a=r-s,l=r;let d,c;return 0===a?new Fm(0,0,l,this.a):(0!==r?(c=a/r,d=n===r?(e-o)/a:e===r?2+(o-n)/a:4+(n-e)/a,d*=60,d<0&&(d+=360)):(c=0,d=-1),new Fm(d,c,l,this.a))}toHSL(){const{r:n,g:e,b:o}=this,s=Math.max(n,e,o),r=Math.min(n,e,o);let a,l,d=(s+r)/2;if(s===r)a=l=0;else{const c=s-r;switch(l=d>.5?c/(2-s-r):c/(s+r),s){case n:a=(e-o)/c+(e<o?6:0);break;case e:a=(o-n)/c+2;break;case o:a=(n-e)/c+4}}return new kw(60*a,100*l,100*d,this.a)}toBytes(){return new os(255*this.r,255*this.g,255*this.b,this.a)}}class os extends As{constructor(n,e,o,s){super(Math.round(n),Math.round(e),Math.round(o),s)}toRGB(){return new As(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(n){let e=sp(this.r,2)+sp(this.g,2)+sp(this.b,2);return n&&n.alpha&&(e+=sp(Math.round(255*this.a),2)),e}toBytes(){return this}}function sp(t,n,e="0"){let o=t.toString(16);for(;n>o.length;)o=e+o;return o}class Fm extends op{constructor(n,e,o,s){super(),this.h=n,this.s=e,this.v=o,this.a=s}toRGB(){let s,r,a,{h:n,s:e,v:o}=this;if(0===e)s=r=a=o;else{n/=60;const l=Math.floor(n),d=n-l,c=o*(1-e),p=o*(1-e*d),m=o*(1-e*(1-d));switch(l){case 0:s=o,r=m,a=c;break;case 1:s=p,r=o,a=c;break;case 2:s=c,r=o,a=m;break;case 3:s=c,r=p,a=o;break;case 4:s=m,r=c,a=o;break;default:s=o,r=c,a=p}}return new As(s,r,a,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class kw extends op{constructor(n,e,o,s){super(),this.h=n,this.s=e,this.l=o,this.a=s}toRGB(){let s,r,a,n=this.h/360,e=this.s/100,o=this.l/100;if(0===e)s=r=a=o;else{const l=o<.5?o*(1+e):o+e-o*e,d=2*o-l;s=Om(d,l,n+1/3),r=Om(d,l,n),a=Om(d,l,n-1/3)}return new As(s,r,a,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function Om(t,n,e){let o=e;return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+6*(n-t)*o:o<.5?n:o<2/3?t+(n-t)*(2/3-o)*6:t}function xw(t){return parseFloat(parseFloat(parseInt(t,16)/255).toFixed(3))}function bo(t,n){let e,o;if(null==t||"none"===t)return null;if(t instanceof op)return t;let s=t.toLowerCase();if(e=Iw(s))return s="transparent"===e[1]?new As(1,1,1,0):bo(bl[e[1]],n),s.match=[e[1]],s;if((e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?o=new os(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?o=new os(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?o=new os(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),xw(e[4]+e[4])):(e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?o=new os(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),xw(e[4])):(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(s))?o=new os(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),1):(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(s))?o=new os(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(s))?o=new As(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1):(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(s))&&(o=new As(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]))),o)o.match=e;else if(!n)throw new Error("Cannot parse color: "+s);return o}var Tw=(()=>{class t extends Rs{constructor(e){if(super(),1===arguments.length){const o=t.formats,s=this.resolveColor(e);for(let r=0;r<o.length;r++){const l=o[r].process,d=o[r].re.exec(s);if(d){const c=l(d);this.r=c[0],this.g=c[1],this.b=c[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const e=this.padDigit,o=this.r.toString(16),s=this.g.toString(16),r=this.b.toString(16);return"#"+e(o)+e(s)+e(r)}resolveColor(e){let o=e||"black";return"#"===o.charAt(0)&&(o=o.substr(1,6)),o=o.replace(/ /g,""),o=o.toLowerCase(),o=t.namedColors[o]||o,o}normalizeByte(e){return e<0||isNaN(e)?0:e>255?255:e}padDigit(e){return 1===e.length?"0"+e:e}brightness(e){const o=Math.round;return this.r=o(this.normalizeByte(this.r*e)),this.g=o(this.normalizeByte(this.g*e)),this.b=o(this.normalizeByte(this.b*e)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(e,o,s,r){return new os(e,o,s,null!=r?r:1)}static fromRGB(e,o,s,r){return new As(e,o,s,null!=r?r:1)}static fromHSV(e,o,s,r){return new Fm(e,o,s,null!=r?r:1)}static fromHSL(e,o,s,r){return new kw(e,o,s,null!=r?r:1)}}return t.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}}],t.namedColors=bl,t})();const H6=["wrap"],Y6=["track"],$6=["sliderSelection"],Dw=["ticks"],J6=["draghandle"],j6=["decreaseButton"],q6=["increaseButton"];function Z6(t,n){if(1&t&&(i.TgZ(0,"button",14,15),i._UZ(2,"span",16),i.qZA()),2&t){const e=i.oxw();i.Q6J("title",e.decrementMessage),i.uIk("tabindex",-1),i.xp6(2),i.ekj("k-i-arrow-w",!e.vertical)("k-i-arrow-s",e.vertical)}}function U6(t,n){if(1&t&&i._UZ(0,"ul",17,18),2&t){const e=i.oxw();i.Q6J("tickTitle",e.title)("vertical",e.vertical)("step",e.smallStep)("largeStep",e.largeStep)("min",e.min)("max",e.max)("labelTemplate",null==e.labelTemplate?null:e.labelTemplate.templateRef),i.uIk("aria-hidden",!0)}}function Q6(t,n){if(1&t&&(i.TgZ(0,"button",19,20),i.NdJ("click",function(o){return o.preventDefault()}),i._UZ(2,"span",16),i.qZA()),2&t){const e=i.oxw();i.Q6J("title",e.incrementMessage),i.uIk("tabindex",-1)("aria-label",e.currentValue),i.xp6(2),i.ekj("k-i-arrow-e",!e.vertical)("k-i-arrow-n",e.vertical)}}const Mw=function(t,n){return{click:t,keydown:n}},X6=["draghandleStart"],W6=["draghandleEnd"];function K6(t,n){if(1&t&&i._UZ(0,"ul",13,14),2&t){const e=i.oxw();i.Q6J("tickTitle",e.title)("vertical",e.vertical)("step",e.smallStep)("largeStep",e.largeStep)("min",e.min)("max",e.max)("labelTemplate",null==e.labelTemplate?null:e.labelTemplate.templateRef),i.uIk("aria-hidden",!0)}}const Ew=["wrapper"],e3=function(t,n,e,o){return{click:t,keydown:n,focus:e,blur:o}},i3=["numericInput"],n3=["numericWrap"],o3=function(t,n){return{mouseup:t,mouseleave:n}},Bw=function(t){return{mousedown:t}};function s3(t,n){if(1&t&&(i.TgZ(0,"span",6),i.TgZ(1,"span",7),i._UZ(2,"span",8),i.qZA(),i.TgZ(3,"span",9),i._UZ(4,"span",10),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.Q6J("kendoEventsOutsideAngular",i.WLB(11,o3,e.releaseArrow,e.releaseArrow)),i.xp6(1),i.ekj("k-state-active",e.arrowDirection===e.ArrowDirection.Up),i.Q6J("kendoEventsOutsideAngular",i.VKq(14,Bw,e.increasePress))("title",e.incrementTitle),i.uIk("aria-label",e.incrementTitle),i.xp6(2),i.ekj("k-state-active",e.arrowDirection===e.ArrowDirection.Down),i.Q6J("kendoEventsOutsideAngular",i.VKq(16,Bw,e.decreasePress))("title",e.decrementTitle),i.uIk("aria-label",e.decrementTitle)}}const r3=function(t,n){return{mousewheel:t,DOMMouseScroll:n}},a3=function(t,n,e,o,s,r,a){return{mousedown:t,dragenter:n,keydown:e,input:o,focus:s,blur:r,paste:a}},Rm=["input"],l3=function(t,n,e,o,s){return{focus:t,blur:n,click:e,dragstart:o,drop:s}},c3=["tickElement"],d3=["kendoSliderTicks",""];function u3(t,n){if(1&t&&(i.TgZ(0,"span",7),i.GkF(1,8),i.qZA()),2&t){const e=i.oxw().$implicit,o=i.oxw(),s=i.MAs(2);i.xp6(1),i.Q6J("ngTemplateOutlet",o.labelTemplate||s)("ngTemplateOutletContext",e)}}function p3(t,n){1&t&&(i.ynx(0),i._uU(1,"\xa0"),i.BQk())}function h3(t,n){if(1&t&&(i.TgZ(0,"li",2,3),i.ynx(2,4),i.YNc(3,u3,2,2,"span",5),i.YNc(4,p3,2,0,"ng-container",6),i.BQk(),i.qZA()),2&t){const e=n.$implicit,o=i.oxw();i.s9C("title",o.tickTitle(e.value)),i.Q6J("ngClass",e.classes),i.xp6(2),i.Q6J("ngSwitch",e.large),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1)}}function f3(t,n){if(1&t&&i._uU(0),2&t){const e=n.value,o=i.oxw();i.hij(" ",o.tickTitle(e)," ")}}function g3(t,n){}function m3(t,n){if(1&t&&i.YNc(0,g3,0,0,"ng-template",8),2&t){const e=i.oxw();i.Q6J("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function v3(t,n){if(1&t&&i._UZ(0,"span",9),2&t){const e=i.oxw();i.Q6J("ngClass",e.errorIconClasses)}}function _3(t,n){if(1&t&&i._UZ(0,"span",9),2&t){const e=i.oxw();i.Q6J("ngClass",e.successIconClasses)}}function y3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",10),i.NdJ("click",function(){return i.CHM(e),i.oxw().clearValue()})("mousedown",function(s){return s.preventDefault()})("keydown.enter",function(s){return i.CHM(e),i.oxw().clearValue(s)})("keydown.space",function(s){return i.CHM(e),i.oxw().clearValue(s)}),i._UZ(1,"span",9),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("tabindex",e.tabIndex)("title",e.clearTitle()),i.uIk("aria-label",e.clearTitle()),i.xp6(1),i.Q6J("ngClass",e.clearButtonClasses)}}function b3(t,n){}function C3(t,n){if(1&t&&i.YNc(0,b3,0,0,"ng-template",8),2&t){const e=i.oxw();i.Q6J("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}const Fw=function(t,n,e){return{focus:t,blur:n,input:e}},w3=[[["kendo-textarea-suffix"]]],I3=["opacityInput"],k3=["toggleFormatButton"];function x3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"input",6,7),i.NdJ("blur",function(){return i.CHM(e),i.oxw().handleHexInputBlur()})("input",function(){i.CHM(e);const s=i.MAs(1);return i.oxw().handleHexValueChange(s.value)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("disabled",e.disabled)("readonly",e.readonly)("value",e.hex||"")("placeholder",e.textFor("hexInputPlaceholder"))}}function T3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"kendo-numerictextbox",14,15),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw(2).rgba.a=s})("blur",function(){return i.CHM(e),i.oxw(2).handleRgbaInputBlur()})("valueChange",function(){return i.CHM(e),i.oxw(2).handleRgbaValueChange()}),i.qZA(),i.TgZ(4,"label",10),i._uU(5,"A"),i.qZA(),i.qZA()}if(2&t){const e=i.MAs(3),o=i.oxw(2);i.xp6(1),i.Q6J("disabled",o.disabled)("readonly",o.readonly)("min",0)("max",1)("placeholder",o.textFor("alphaInputPlaceholder"))("value",o.rgba.a)("autoCorrect",!0)("spinners",!1)("step",.01)("format","n2")("decimals",2),i.xp6(3),i.Q6J("for",e.focusableId)}}function D3(t,n){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"div",0),i.TgZ(2,"kendo-numerictextbox",8,9),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().rgba.r=s})("blur",function(){return i.CHM(e),i.oxw().handleRgbaInputBlur()})("valueChange",function(){return i.CHM(e),i.oxw().handleRgbaValueChange()}),i.qZA(),i.TgZ(4,"label",10),i._uU(5,"R"),i.qZA(),i.qZA(),i.TgZ(6,"div",0),i.TgZ(7,"kendo-numerictextbox",8,11),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().rgba.g=s})("blur",function(){return i.CHM(e),i.oxw().handleRgbaInputBlur()})("valueChange",function(){return i.CHM(e),i.oxw().handleRgbaValueChange()}),i.qZA(),i.TgZ(9,"label",10),i._uU(10,"G"),i.qZA(),i.qZA(),i.TgZ(11,"div",0),i.TgZ(12,"kendo-numerictextbox",8,12),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().rgba.b=s})("blur",function(){return i.CHM(e),i.oxw().handleRgbaInputBlur()})("valueChange",function(){return i.CHM(e),i.oxw().handleRgbaValueChange()}),i.qZA(),i.TgZ(14,"label",10),i._uU(15,"B"),i.qZA(),i.qZA(),i.YNc(16,T3,6,12,"div",13),i.BQk()}if(2&t){const e=i.MAs(3),o=i.MAs(8),s=i.MAs(13),r=i.oxw();i.xp6(2),i.Q6J("disabled",r.disabled)("readonly",r.readonly)("min",0)("max",255)("placeholder",r.textFor("redInputPlaceholder"))("value",r.rgba.r)("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),i.xp6(2),i.Q6J("for",e.focusableId),i.xp6(3),i.Q6J("disabled",r.disabled)("readonly",r.readonly)("min",0)("max",255)("placeholder",r.textFor("greenInputPlaceholder"))("value",r.rgba.g)("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),i.xp6(2),i.Q6J("for",o.focusableId),i.xp6(3),i.Q6J("disabled",r.disabled)("readonly",r.readonly)("min",0)("max",255)("placeholder",r.textFor("blueInputPlaceholder"))("value",r.rgba.b)("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),i.xp6(2),i.Q6J("for",s.focusableId),i.xp6(2),i.Q6J("ngIf",r.opacity)}}const M3=["gradientDragHandle"],E3=["inputs"],B3=["alphaSlider"],F3=["gradientWrapper"];function O3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",13),i.NdJ("click",function(){return i.CHM(e),i.oxw().reset()})("keydown.enter",function(){return i.CHM(e),i.oxw().reset()})("keydown.space",function(){return i.CHM(e),i.oxw().reset()}),i._UZ(1,"span",14),i.qZA()}if(2&t){const e=i.oxw();i.uIk("aria-label",e.clearButtonTitle)("title",e.clearButtonTitle)}}const Ow=function(t){return{"k-align-self-end":t}};function R3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-slider",15,16),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().handleAlphaSliderChange(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("ngClass",i.VKq(12,Ow,e.clearButton))("dragHandleTitle",e.opacitySliderTitle)("disabled",e.disabled)("readonly",e.readonly)("showButtons",!1)("tickPlacement","none")("vertical",!0)("min",0)("max",100)("smallStep",1)("largeStep",10)("value",e.alphaSliderValue)}}function A3(t,n){if(1&t&&i._UZ(0,"div",17),2&t){const e=i.oxw();i.Q6J("value",e.value)("ratio",e.contrastTool)}}const N3=["palette"],L3=["container"],P3=["popupTemplate"],z3=["colorGradient"];function G3(t,n){1&t&&i._UZ(0,"span",11)}function V3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",9),i.NdJ("click",function(){return i.CHM(e),i.oxw().handleActiveColorClick()}),i.YNc(1,G3,1,0,"span",10),i.qZA()}if(2&t){const e=i.oxw();i.Udp("background-color",e.value),i.xp6(1),i.Q6J("ngIf",!e.value)}}function H3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",12),i.NdJ("click",function(){return i.CHM(e),i.oxw().handleActiveColorClick()}),i._UZ(1,"span",13),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("ngClass",e.iconStyles),i.xp6(1),i.Udp("background-color",e.value)}}function Y3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-colorgradient",16,17),i.NdJ("focusout",function(s){return i.CHM(e),i.oxw(2).handlePopupBlur(s)})("valueChange",function(s){return i.CHM(e),i.oxw(2).handleValueChange(s,!1)})("keydown",function(s){return i.CHM(e),i.oxw(2).handlePopupKeyDown(s)}),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("value",e.value)("format",e.format)("opacity",e.gradientSettings.opacity)("clearButton",e.gradientSettings.clearButton)("delay",e.gradientSettings.delay)}}function $3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-colorpalette",18,19),i.NdJ("blur",function(s){return i.CHM(e),i.oxw(2).handlePopupBlur(s)})("cellSelection",function(s){return i.CHM(e),i.oxw(2).handleValueChange(s,!0)})("mousedown",function(s){return s.preventDefault()})("keydown",function(s){return i.CHM(e),i.oxw(2).handlePopupKeyDown(s)}),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("palette",e.paletteSettings.palette)("columns",e.paletteSettings.columns)("tileSize",e.paletteSettings.tileSize)("format",e.format)("value",e.value)}}function J3(t,n){if(1&t&&(i.YNc(0,Y3,2,5,"kendo-colorgradient",14),i.YNc(1,$3,2,5,"kendo-colorpalette",15)),2&t){const e=i.oxw();i.Q6J("ngIf","gradient"===e.view||"combo"===e.view),i.xp6(1),i.Q6J("ngIf","palette"===e.view||"combo"===e.view)}}const j3=function(t,n){return{"k-picker-wrap":!0,"k-state-disabled":t,"k-state-focused":n}},q3=function(t,n,e,o){return{backgroundColor:t,width:n,height:e,minWidth:o}};function Z3(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"td",5),i.NdJ("click",function(){const s=i.CHM(e),r=s.$implicit,a=s.index,l=i.oxw().index;return i.oxw().handleCellSelection(r,{row:l,col:a})}),i.qZA()}if(2&t){const e=n.$implicit,o=n.index,s=i.oxw().index,r=i.oxw();i.ekj("k-state-selected",(null==r.selectedCell?null:r.selectedCell.row)===s&&(null==r.selectedCell?null:r.selectedCell.col)===o)("k-state-focus",r.focusInComponent&&(null==r.focusedCell?null:r.focusedCell.row)===s&&(null==r.focusedCell?null:r.focusedCell.col)===o),i.Q6J("id",s+"-"+o)("ngStyle",i.l5B(9,q3,e,r.tileLayout.width+"px",r.tileLayout.height+"px",r.tileLayout.width+"px")),i.uIk("aria-selected",(null==r.selectedCell?null:r.selectedCell.row)===s&&(null==r.selectedCell?null:r.selectedCell.col)===o)("aria-label",e)("value",e)}}function U3(t,n){if(1&t&&(i.TgZ(0,"tr"),i.YNc(1,Z3,1,14,"td",4),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Q6J("ngForOf",e)}}const Q3=["kendoContrastValidation",""];function X3(t,n){if(1&t&&(i.TgZ(0,"span",2),i._uU(1),i._UZ(2,"span",3),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.passMessage," ")}}function W3(t,n){if(1&t&&(i.TgZ(0,"span",4),i._uU(1),i._UZ(2,"span",5),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.failMessage," ")}}const K3=["kendoContrastTool",""];function eO(t,n){1&t&&i._UZ(0,"span",7)}function tO(t,n){if(1&t&&(i.TgZ(0,"span",6),i._UZ(1,"span",7),i.YNc(2,eO,1,0,"span",8),i.qZA()),2&t){const e=i.oxw();i.xp6(2),i.Q6J("ngIf",e.satisfiesAAACondition)}}function iO(t,n){1&t&&(i.TgZ(0,"span",9),i._UZ(1,"span",10),i.qZA())}const Pe=t=>null!=t,Cl=(t,n)=>t===n||null===t&&void 0===n||void 0===t&&null===n,Ns=t=>t&&(!t.touched||t.control&&"blur"===t.control.updateOn),Ei=(t,n,e)=>!Pe(t)||isNaN(t)||t<=n?n:t>=e?e:t,Rw=t=>Math.min(t,20),Ac=t=>(String(t).split(".")[1]||"").length,Aw=(t,n)=>Math.max(Ac(t),Ac(n)),ap=(t,n)=>{const e=Rw(n);return parseFloat(t.toFixed(e))},Cr=(t,n)=>{const e=Aw(t,n);return ap(t+n,e)},ss=(t,n)=>Cr(t,-n),lp=(t,n)=>{const e=Ac(t)+Ac(n);return ap(t*n,e)},Nw=(t,n)=>{if(0===n)return NaN;const e=Aw(t,n),o=Math.pow(10,e);return o*t/(o*n)},Lw=(t,n)=>Math.abs(ss(t,lp(n,Math.floor(Nw(t,n))))),Pw=({max:t,min:n,smallStep:e,fixedTickWidth:o})=>(t-n)/e*o,zw=(t=0,n=0,e=1)=>{if(e<=0)throw new Error("Invalid argument: smallStep must be a positive number");const o=Math.abs(ss(n,t)),s=Math.floor(Nw(o,e));return Cr(s,1)},lO=(t,{max:n,min:e,smallStep:o,reverse:s,vertical:r})=>{const a=Cr(e,lp(t,o));return r||s?Math.abs(ss(a,n)):a},Am=({trackWidth:t,min:n,max:e,reverse:o,value:s})=>{const r=t/Math.abs(e-n);let a=Pe(s)?r*(s-n):n;return o&&(a=t-a),Math.floor(a)},cp=(t,{max:n,min:e,smallStep:o,largeStep:s},r=!1)=>{const a=r&&s?lp(o,s):o,l=ss(t,e);let d;const c=Lw(l,a);return d=ss(l,0===c?a:c),Lm(Cr(d,e),e,n)},dp=(t,{max:n,min:e,smallStep:o,largeStep:s},r=!1)=>{const a=r&&s?lp(o,s):o,l=ss(t,e),d=Lw(l,a),c=Cr(ss(l,d),a);return Lm(Cr(c,e),e,n)},up=t=>t.id.indexOf("k-start-handle")>-1,wl=(t,n,e)=>e>t?t:e<n?n:e,Nm=(t,n,e)=>e?[wl(t,n,e[0]),wl(t,n,e[1])]:[n,n],dO=t=>t,Lm=(t,n,e)=>Math.max(Math.min(t,e),n),wr=(t,n,e)=>{const{min:o,max:s,vertical:r,rtl:a}=e,l=(t=>{const n=t.getBoundingClientRect(),e=document.documentElement;return{left:n.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:n.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}})(n),p=(s-o)/(r?n.clientHeight:n.clientWidth)*(r?t.pageY-l.top:t.pageX-l.left);let m=a||r?s-p:o+p;const f=Ac(e.smallStep);return m=ap(m,f+1),((t,n)=>{const{smallStep:e,min:o,max:s}=n,r=Lm(t,o,s);if(t!==r)return r;const a=cp(t,n),l=dp(t,n);return(t-o)%e==0?t:l-t<=(l-a)/2?l:a})(m,e)},Gw=t=>t.className.indexOf("k-button-increase")>=0||t.className.indexOf("k-button-decrease")>=0,Pm=t=>dp(t.value,t),zm=t=>cp(t.value,t),hO=t=>dp(t.value,t,!0),fO=t=>cp(t.value,t,!0),Vw=t=>{if(i.X6Q&&t&&t[0]>t[1])throw new Error("[RangeSlider] The start value should not be greater than the end value.")};class Hw{constructor(n,e,o,s){this.props=n,this.wrapper=e,this.track=o,this.renderer=s,this.props=n,this.wrapper=e,this.track=o,this.tickSizes=this.getTickSizes()}resizeTrack(){const n=this.props.vertical?"height":"width",e=this.props.vertical?"width":"height",o=this.trackWidth();this.track.parentElement.style[n]=`${o}px`,this.track.parentElement.style[e]=""}resizeTicks(n,e){const o=this.props.vertical?"height":"width";[...e].map((s,r)=>s.style[o]=`${this.tickSizes[r]}px`),this.props.vertical&&this.adjustPadding(n)}resizeWrapper(){const n=this.props.vertical?"height":"width";Pw(this.props)&&(this.wrapper.parentElement.style[n]="auto")}trackWidth(){return this.props.fixedTickWidth?Pw(this.props):this.elementSize(this.track.parentElement)}getTickSizes(){const{min:n,max:e,smallStep:o}=this.props,s=zw(n,e,o),r=this.trackWidth(),a=r/ss(e,n),l=[];let d=0,c=0;for(let p=0;p<s;p++){c+=0===p||p===s-1?o/2*a:o*a,c=+c.toFixed(2)-.01;const m=Math.round(c-d);l.push(m),d+=m}return d>=r&&(l[l.length-1]-=1),l}adjustPadding(n){const e=this.tickSizes.reduce((r,a)=>r+a,0),s=this.trackWidth()-e;if(0!==s){const r=s+this.elementOffset(this.track);n.style.paddingTop=`${r}px`}}elementOffset(n){const{vertical:e}=this.props,o=getComputedStyle(n);return parseInt(e?o.bottom:o.left,10)}elementSize(n){const{vertical:e}=this.props;return e?n.clientHeight:n.clientWidth}}class gO extends Hw{positionHandle(n){const{max:e,min:o,reverse:s,vertical:r}=this.props,a=r?"bottom":"left",l=this.trackWidth(),d=wl(e,o,this.props.value);this.handlePosition=Am({min:o,max:e,reverse:s,value:d,trackWidth:l}),this.renderer.setStyle(n,a,`${this.handlePosition}px`)}positionSelection(n){const{reverse:e,vertical:o}=this.props,s=o?"height":"width";let r=this.handlePosition;e&&(r=this.trackWidth()-r),this.renderer.setStyle(n,s,`${r}px`)}}function Cn(t,n,...e){if(t&&t.nativeElement)return t.nativeElement[n].apply(t.nativeElement,e)}const Yw=(t,n)=>{for(;t&&!n(t);)t=t.parentNode;return t},Ls={name:"@progress/kendo-angular-inputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1642518309,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let Gm=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoSliderLabelTemplate",""]]}),t=w([xt(0,(0,i.FiY)()),C("design:paramtypes",[i.Rgc])],t),t})(),$w=(()=>{class t{constructor(e,o,s,r,a,l){this.localizationService=e,this.injector=o,this.renderer=s,this.ngZone=r,this.changeDetector=a,this.hostElement=l,this.title=dO,this.tickPlacement="both",this.vertical=!1,this.min=0,this.max=10,this.smallStep=1,this.largeStep=null,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.valueChange=new i.vpe,this.sliderClass=!0,this.widgetClass=!0,this.subscriptions=new Ie.w,this.ifEnabled=(d,c)=>{this.isDisabled||d.call(this,c)},(0,lt.s)(Ls),this.direction=e.rtl?"rtl":"ltr"}get horizontalClass(){return!this.vertical}get verticalClass(){return this.vertical}get disabledClass(){return this.disabled}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}ngOnInit(){this.subscriptions.add(this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.sizeComponent()})),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(X.a5,null)}get isDisabled(){return this.disabled||this.readonly}isEmpty(){return!1}get reverse(){return this.localizationService.rtl&&!this.vertical}get keyBinding(){const e=this.reverse;return{[R.ArrowLeft]:e?Pm:zm,[R.ArrowRight]:e?zm:Pm,[R.ArrowDown]:zm,[R.ArrowUp]:Pm,[R.PageUp]:hO,[R.PageDown]:fO,[R.Home]:({min:o})=>o,[R.End]:({max:o})=>o}}resetStyles(e){e.forEach(o=>{o&&(this.vertical?(this.renderer.removeStyle(o,"width"),this.renderer.removeStyle(o,"left"),this.renderer.removeStyle(o,"right")):(this.renderer.removeStyle(o,"height"),this.renderer.removeStyle(o,"bottom")),this.renderer.removeStyle(o,"padding-top"))})}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,contentQueries:function(e,o,s){if(1&e&&i.Suo(s,Gm,5),2&e){let r;i.iGM(r=i.CRH())&&(o.labelTemplate=r.first)}},viewQuery:function(e,o){if(1&e&&(i.Gf(H6,7),i.Gf(Y6,7),i.Gf($6,7),i.Gf(Dw,5,i.SBq),i.Gf(Dw,5)),2&e){let s;i.iGM(s=i.CRH())&&(o.wrapper=s.first),i.iGM(s=i.CRH())&&(o.track=s.first),i.iGM(s=i.CRH())&&(o.sliderSelection=s.first),i.iGM(s=i.CRH())&&(o.ticksContainer=s.first),i.iGM(s=i.CRH())&&(o.ticks=s.first)}},hostVars:11,hostBindings:function(e,o){2&e&&(i.uIk("dir",o.direction),i.ekj("k-slider",o.sliderClass)("k-widget",o.widgetClass)("k-slider-horizontal",o.horizontalClass)("k-slider-vertical",o.verticalClass)("k-state-disabled",o.disabledClass))},inputs:{title:"title",tickPlacement:"tickPlacement",vertical:"vertical",min:"min",max:"max",smallStep:"smallStep",largeStep:"largeStep",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",fixedTickWidth:"fixedTickWidth"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"}}),w([(0,i.IIB)(),C("design:type",Function)],t.prototype,"title",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"tickPlacement",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"vertical",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"min",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"max",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"smallStep",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"largeStep",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"fixedTickWidth",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"tabindex",void 0),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],t.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],t.prototype,"onBlur",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],t.prototype,"valueChange",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],t.prototype,"direction",void 0),w([(0,i.pfw)("class.k-slider-horizontal"),C("design:type",Boolean),C("design:paramtypes",[])],t.prototype,"horizontalClass",null),w([(0,i.pfw)("class.k-slider-vertical"),C("design:type",Boolean),C("design:paramtypes",[])],t.prototype,"verticalClass",null),w([(0,i.pfw)("class.k-slider"),C("design:type",Boolean)],t.prototype,"sliderClass",void 0),w([(0,i.pfw)("class.k-widget"),C("design:type",Boolean)],t.prototype,"widgetClass",void 0),w([(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],t.prototype,"disabledClass",null),w([(0,i.i9L)("wrap",{static:!0}),C("design:type",i.SBq)],t.prototype,"wrapper",void 0),w([(0,i.i9L)("track",{static:!0}),C("design:type",i.SBq)],t.prototype,"track",void 0),w([(0,i.i9L)("sliderSelection",{static:!0}),C("design:type",i.SBq)],t.prototype,"sliderSelection",void 0),w([(0,i.i9L)("ticks",{read:i.SBq,static:!1}),C("design:type",i.SBq)],t.prototype,"ticksContainer",void 0),w([(0,i.i9L)("ticks",{static:!1}),C("design:type",Object)],t.prototype,"ticks",void 0),w([(0,i.aQ5)(Gm,{static:!1}),C("design:type",Gm)],t.prototype,"labelTemplate",void 0),t})();var pp;const hp="k-pressed";let li=pp=class extends $w{constructor(n,e,o,s,r,a){super(n,e,o,s,r,a),this.localization=n,this.injector=e,this.renderer=o,this.ngZone=s,this.changeDetector=r,this.hostElement=a,this.focusableId=`k-${Ve()}`,this.animate=!0,this.showButtons=!0,this.value=this.min,this.focusChangedProgrammatically=!1,this.onWrapClick=l=>{const d=l.target;if(!this.isDisabled&&!Gw(d)&&!Gw(d.parentNode)){const c=wr(l,this.track.nativeElement,this.getProps());this.changeValue(c)}Cn(this.draghandle,"focus")},this.onKeyDown=l=>{const d=this.getProps(),{max:c,min:p}=d,m=this.keyBinding[l.keyCode];if(this.isDisabled||!m)return;const f=m(d);this.changeValue(wl(c,p,f)),l.preventDefault()},this.ngChange=l=>{},this.ngTouched=()=>{},this.decreaseValue=()=>{this.changeValue(cp(this.value,this.getProps()))},this.increaseValue=()=>{this.changeValue(dp(this.value,this.getProps()))},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,(ne(this.onBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.focusChangedProgrammatically||this.onBlur.emit()})}}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}get currentValue(){return Pe(this.value)?this.value.toString():""}focus(){this.disabled||(this.focusChangedProgrammatically=!0,Cn(this.draghandle,"focus"),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0,Cn(this.draghandle,"blur"),this.handleBlur(),this.focusChangedProgrammatically=!1}ngOnChanges(n){bt(["value","fixedTickWidth","tickPlacement"],n,!0)&&this.ngZone.onStable.asObservable().pipe((0,nt.q)(1)).subscribe(()=>{this.sizeComponent(!1)})}ngAfterViewInit(){!W()||(this.showButtons&&(this.setValueChangeInterval(this.increaseButton.nativeElement,()=>this.increaseValue()),this.setValueChangeInterval(this.decreaseButton.nativeElement,()=>this.decreaseValue())),this.sizeComponent(!1),this.ticks&&this.ticks.tickElements.changes.subscribe(()=>this.sizeComponent(!1)),this.attachElementEventHandlers())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}get incrementMessage(){return this.incrementTitle||this.localizationService.get("increment")}get decrementMessage(){return this.decrementTitle||this.localizationService.get("decrement")}get dragHandleMessage(){return this.dragHandleTitle||this.localizationService.get("dragHandle")}handleDragPress(n){n.originalEvent&&n.originalEvent.preventDefault(),this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions")}onHandleDrag(n){this.dragging=!0,this.changeValue(wr(n,this.track.nativeElement,this.getProps()))}onHandleRelease(){this.dragging=!1,this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")}writeValue(n){this.changeDetector.markForCheck(),this.value=n,this.sizeComponent(this.animate)}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}changeValue(n){Cl(this.value,n)||this.ngZone.run(()=>{this.value=n,this.ngChange(n),this.valueChange.emit(n),this.sizeComponent(this.animate),this.changeDetector.markForCheck()})}sizeComponent(n){if(!W())return;const e=this.wrapper.nativeElement,o=this.track.nativeElement,s=this.sliderSelection.nativeElement,r=this.draghandle.nativeElement,a=this.ticks?this.ticksContainer.nativeElement:null;n||this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions"),this.resetStyles([o,s,r,a,this.hostElement.nativeElement]);const l=this.getProps(),d=new gO(l,e,o,this.renderer);d.resizeTrack(),this.ticks&&d.resizeTicks(this.ticksContainer.nativeElement,this.ticks.tickElements.map(c=>c.nativeElement)),d.positionHandle(r),d.positionSelection(s),n||(this.hostElement.nativeElement.getBoundingClientRect(),this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")),this.fixedTickWidth&&d.resizeWrapper()}set focused(n){this.isFocused!==n&&this.hostElement&&(this.isFocused=n)}set dragging(n){if(this.isDragged!==n&&this.sliderSelection&&this.draghandle){const e=this.sliderSelection.nativeElement,o=this.draghandle.nativeElement;n?(this.renderer.addClass(e,hp),this.renderer.addClass(o,hp)):(this.renderer.removeClass(e,hp),this.renderer.removeClass(o,hp)),this.isDragged=n}}setValueChangeInterval(n,e){this.ngZone.runOutsideAngular(()=>{const o=(0,mt.R)(n,"mousedown"),s=(0,mt.R)(n,"mouseup"),r=(0,mt.R)(n,"mouseout"),a=o.pipe((0,ee.h)(l=>0===l.button&&!this.isDisabled),(0,Bm.b)(()=>Sc(150).pipe((0,z6.O)(-1),(0,Wi.R)((0,We.T)(s,r))))).subscribe(()=>{this.isFocused||Cn(this.draghandle,"focus"),e()});this.subscriptions.add(a)})}getProps(){return{buttons:this.showButtons,disabled:this.disabled,fixedTickWidth:this.fixedTickWidth,largeStep:this.largeStep,max:this.max,min:this.min,readonly:this.readonly,reverse:this.reverse,rtl:this.localizationService.rtl,smallStep:this.smallStep,value:wl(this.max,this.min,this.value),vertical:this.vertical}}attachElementEventHandlers(){const n=this.hostElement.nativeElement;let e=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(n,"focusin",()=>{this.isFocused||this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onFocus.emit(),this.focused=!0})})),this.subscriptions.add(this.renderer.listen(n,"focusout",s=>{!this.isFocused||(e?(s.relatedTarget!==this.draghandle.nativeElement&&this.handleBlur(),e=!1):o||this.handleBlur())})),this.subscriptions.add(this.renderer.listen(n,"mouseenter",()=>{o=!0})),this.subscriptions.add(this.renderer.listen(n,"mouseleave",()=>{o=!1})),this.subscriptions.add(this.renderer.listen(n,"keydown",s=>{e=s.keyCode===R.Tab}))})}};li.\u0275fac=function(n){return new(n||li)(i.Y36(I),i.Y36(i.zs3),i.Y36(i.Qsj),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.SBq))},li.\u0275cmp=i.Xpm({type:li,selectors:[["kendo-slider"]],viewQuery:function(n,e){if(1&n&&(i.Gf(J6,7),i.Gf(j6,5),i.Gf(q6,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.draghandle=o.first),i.iGM(o=i.CRH())&&(e.decreaseButton=o.first),i.iGM(o=i.CRH())&&(e.increaseButton=o.first)}},inputs:{focusableId:"focusableId",animate:"animate",showButtons:"showButtons",value:"value",tabIndex:"tabIndex",dragHandleTitle:"dragHandleTitle",incrementTitle:"incrementTitle",decrementTitle:"decrementTitle"},exportAs:["kendoSlider"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.slider"},{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>pp)},{provide:qe,useExisting:(0,i.Gpc)(()=>pp)}]),i.qOj,i.TTD],decls:14,vars:25,consts:function(){let t,n,e;return t=$localize`:kendo.slider.increment|The title of the **Increase** button of the Slider.␟0fa71630d40c425b9c366afd7f6c3cecc5bef59d␟8302125540024939132:increment`,n=$localize`:kendo.slider.decrement|The title of the **Decrease** button of the Slider.␟042c26f68d78afd6834ea46a5f7533850fe8c800␟652458644240352212:decrement`,e=$localize`:kendo.slider.dragHandle|The title of the drag handle of the Slider.␟481eb98e9cd8ef8e8b22051796441901e883763d␟9117416417579607469:Drag`,[["kendoSliderLocalizedMessages","","increment",t,"decrement",n,"dragHandle",e],[1,"k-slider-wrap",3,"kendoEventsOutsideAngular"],["wrap",""],["type","button","class","k-button-decrease k-button k-button-md k-rounded-full k-button-rectangle k-button-solid k-button-solid-base k-icon-button","role","presentation",3,"title",4,"ngIf"],[1,"k-slider-track-wrap"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate",4,"ngIf"],[1,"k-slider-track"],["track",""],[1,"k-slider-selection"],["sliderSelection",""],["role","slider","kendoDraggable","",1,"k-draghandle",3,"title","id","kendoPress","kendoDrag","kendoRelease"],["draghandle",""],["type","button","class","k-button-increase k-button k-button-md k-rounded-full k-button-rectangle k-button-solid k-button-solid-base k-icon-button","role","presentation",3,"title","click",4,"ngIf"],[3,"resize"],["type","button","role","presentation",1,"k-button-decrease","k-button","k-button-md","k-rounded-full","k-button-rectangle","k-button-solid","k-button-solid-base","k-icon-button",3,"title"],["decreaseButton",""],[1,"k-button-icon","k-icon"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate"],["ticks",""],["type","button","role","presentation",1,"k-button-increase","k-button","k-button-md","k-rounded-full","k-button-rectangle","k-button-solid","k-button-solid-base","k-icon-button",3,"title","click"],["increaseButton",""]]},template:function(n,e){1&n&&(i.ynx(0,0),i.TgZ(1,"div",1,2),i.YNc(3,Z6,3,6,"button",3),i.TgZ(4,"div",4),i.YNc(5,U6,2,8,"ul",5),i.TgZ(6,"div",6,7),i._UZ(8,"div",8,9),i.TgZ(10,"a",10,11),i.NdJ("kendoPress",function(s){return e.ifEnabled(e.handleDragPress,s)})("kendoDrag",function(s){return e.ifEnabled(e.onHandleDrag,s)})("kendoRelease",function(s){return e.ifEnabled(e.onHandleRelease,s)}),i.qZA(),i.qZA(),i.qZA(),i.YNc(12,Q6,3,7,"button",12),i.TgZ(13,"kendo-resize-sensor",13),i.NdJ("resize",function(){return e.sizeComponent(!1)}),i.qZA(),i.qZA(),i.BQk()),2&n&&(i.xp6(1),i.ekj("k-slider-buttons",e.showButtons)("k-slider-topleft","before"===e.tickPlacement)("k-slider-bottomright","after"===e.tickPlacement),i.Q6J("kendoEventsOutsideAngular",i.WLB(22,Mw,e.onWrapClick,e.onKeyDown)),i.xp6(2),i.Q6J("ngIf",e.showButtons),i.xp6(2),i.Q6J("ngIf","none"!==e.tickPlacement),i.xp6(5),i.Udp("touch-action",e.isDisabled?"":"none"),i.Q6J("title",e.dragHandleMessage)("id",e.focusableId),i.uIk("aria-valuemin",e.min)("aria-valuemax",e.max)("aria-valuenow",e.currentValue)("aria-valuetext",e.currentValue)("aria-disabled",!!e.disabled||void 0)("aria-readonly",!!e.readonly||void 0)("aria-orientation",e.vertical?"vertical":"horizontal")("tabindex",e.disabled?"-1":e.tabIndex),i.xp6(2),i.Q6J("ngIf",e.showButtons))},directives:function(){return[xr,kt,x.O5,Pn,ai,oS]},encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],li.prototype,"focusableId",void 0),w([(0,i.IIB)(),C("design:type",String)],li.prototype,"dragHandleTitle",void 0),w([(0,i.IIB)(),C("design:type",String)],li.prototype,"incrementTitle",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],li.prototype,"animate",void 0),w([(0,i.IIB)(),C("design:type",String)],li.prototype,"decrementTitle",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],li.prototype,"showButtons",void 0),w([(0,i.IIB)(),C("design:type",Number)],li.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],li.prototype,"tabIndex",null),w([(0,i.i9L)("draghandle",{static:!0}),C("design:type",i.SBq)],li.prototype,"draghandle",void 0),w([(0,i.i9L)("decreaseButton",{static:!1}),C("design:type",i.SBq)],li.prototype,"decreaseButton",void 0),w([(0,i.i9L)("increaseButton",{static:!1}),C("design:type",i.SBq)],li.prototype,"increaseButton",void 0),li=pp=w([C("design:paramtypes",[I,i.zs3,i.Qsj,i.R0b,i.sBO,i.SBq])],li);class CO extends Hw{positionHandle(n){if(!n.id)return;const{max:e,min:o,reverse:s,vertical:r}=this.props,a=r?"bottom":"left",l=this.trackWidth(),d=up(n)?Nm(e,o,this.props.value)[0]:Nm(e,o,this.props.value)[1];up(n)?(this.startHandlePosition=Am({min:o,max:e,reverse:s,value:d,trackWidth:l}),this.renderer.setStyle(n,a,`${this.startHandlePosition}px`)):(this.endHandlePosition=Am({min:o,max:e,reverse:s,value:d,trackWidth:l}),this.renderer.setStyle(n,a,`${this.endHandlePosition}px`))}positionSelection(n,e){const{reverse:o,vertical:s}=this.props,r=s?"height":"width",a=s?"bottom":o?"right":"left",l=Math.abs(this.endHandlePosition-this.startHandlePosition),d=s?n.style.bottom:n.style.left;this.renderer.setStyle(e,r,`${l}px`),this.renderer.setStyle(e,a,o?this.trackWidth()-parseFloat(d)+"px":parseFloat(d)+"px")}}var fp;const gp="k-pressed";let rs=fp=class extends $w{constructor(n,e,o,s,r,a){super(n,e,o,s,r,a),this.localization=n,this.injector=e,this.renderer=o,this.ngZone=s,this.changeDetector=r,this.hostElement=a,this.startHandleId=`k-start-handle-${Ve()}`,this.endHandleId=`k-end-handle-${Ve()}`,this.focusableId=this.startHandleId,this.handleZIndex=0,this.activeHandle="startHandle",this.focusChangedProgrammatically=!1,this.onWrapClick=l=>{if(!this.isDisabled){this.value=this.value||[this.min,this.min];const d=wr(l,this.track.nativeElement,this.getProps());let c;const[p,m]=c=this.value;d<=p?(c=[d,m],this.activeHandle="startHandle"):p<d&&d<m?d<(p+m)/2?(c=[d,m],this.activeHandle="startHandle"):(c=[p,d],this.activeHandle="endHandle"):d>=m&&(c=[p,d],this.activeHandle="endHandle"),Cn("startHandle"===this.activeHandle?this.draghandleStart:this.draghandleEnd,"focus"),this.changeValue(c)}},this.onKeyDown=l=>{this.value=this.value||[this.min,this.min];const d=this.getProps(),{max:c,min:p}=d,m=this.keyBinding[l.keyCode];if(this.isDisabled||!m)return;this.renderer.setStyle(l.target,"zIndex",++this.handleZIndex);const f=up(l.target),y=m(Object.assign({},d,{value:f?this.value[0]:this.value[1]}));f?y>this.value[1]&&(this.value[1]=y):y<this.value[0]&&(this.value[0]=y);const S=wl(c,p,y);this.changeValue(f?[S,this.value[1]]:[this.value[0],S]),l.preventDefault()},this.ngChange=l=>{},this.ngTouched=()=>{},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,(ne(this.onBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.focusChangedProgrammatically||this.onBlur.emit()})}}focus(){this.focusChangedProgrammatically=!0,Cn(this.draghandleStart,"focus"),this.focusChangedProgrammatically=!1}blur(){this.focusChangedProgrammatically=!0,Cn("startHandle"===this.activeHandle?this.draghandleStart:this.draghandleEnd,"blur"),this.handleBlur(),this.focusChangedProgrammatically=!1}ngOnInit(){this.value||(this.value=[this.min,this.max]),super.ngOnInit()}ngOnChanges(n){bt(["value","fixedTickWidth","tickPlacement"],n,!0)&&(n.value&&n.value.currentValue&&Vw(n.value.currentValue),this.ngZone.onStable.asObservable().pipe((0,nt.q)(1)).subscribe(()=>{this.sizeComponent()}))}ngAfterViewInit(){!W()||(this.sizeComponent(),this.ticks&&this.ticks.tickElements.changes.subscribe(()=>this.sizeComponent()),this.attachElementEventHandlers())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(n){return this.localization.get(n)}get valueText(){return this.value?`${this.value[0]} - ${this.value[1]}`:""}handleDragPress(n){n.originalEvent&&n.originalEvent.preventDefault();const e=n.originalEvent.target;this.draggedHandle=e,this.renderer.setStyle(e,"zIndex",++this.handleZIndex)}onHandleDrag(n){this.value=this.value||[this.min,this.min];const e=n.originalEvent.target,o=this.draggedHandle.getBoundingClientRect();this.lastHandlePosition={x:o.left,y:o.top},this.dragging={value:!0,target:e};const s=n.pageX<this.lastHandlePosition.x,r=n.pageX>this.lastHandlePosition.x,a=n.pageY>this.lastHandlePosition.y,l=()=>this.changeValue([wr(n,this.track.nativeElement,this.getProps()),this.value[1]]),d=()=>this.changeValue([this.value[0],wr(n,this.track.nativeElement,this.getProps())]),c=()=>this.changeValue([wr(n,this.track.nativeElement,this.getProps()),wr(n,this.track.nativeElement,this.getProps())]),p=up(this.draggedHandle),m=this.vertical,f=!m;this.value[0]===this.value[1]?m&&a||(this.reverse?f&&r:f&&s)?p?l():c():p?c():d():p?l():d()}onHandleRelease(n){this.dragging={value:!1,target:n.originalEvent.target},this.draggedHandle=void 0}writeValue(n){Vw(n),this.value=n,this.sizeComponent()}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}changeValue(n){(!this.value||!((t,n)=>Cl(t[0],n[0])&&Cl(t[1],n[1]))(this.value,n))&&this.ngZone.run(()=>{this.value=n,this.ngChange(n),this.value&&this.valueChange.emit(n),this.sizeComponent()})}sizeComponent(){if(!W())return;const n=this.wrapper.nativeElement,e=this.track.nativeElement,o=this.sliderSelection.nativeElement,s=this.draghandleStart.nativeElement,r=this.draghandleEnd.nativeElement;this.resetStyles([e,o,s,r,this.ticks?this.ticksContainer.nativeElement:null,this.hostElement.nativeElement]);const l=this.getProps(),d=new CO(l,n,e,this.renderer);d.resizeTrack(),this.ticks&&d.resizeTicks(this.ticksContainer.nativeElement,this.ticks.tickElements.map(c=>c.nativeElement)),d.positionHandle(s),d.positionHandle(r),d.positionSelection(s,o),this.fixedTickWidth&&d.resizeWrapper()}get isDisabled(){return this.disabled||this.readonly}isEmpty(){return!1}set focused(n){this.isFocused!==n&&this.hostElement&&(this.isFocused=n)}set dragging(n){if(this.isDragged!==n.value&&this.sliderSelection&&this.draghandleStart&&this.draghandleEnd){const e=this.sliderSelection.nativeElement,o=n.target;n.value?(this.renderer.addClass(e,gp),this.renderer.addClass(o,gp)):(this.renderer.removeClass(e,gp),this.renderer.removeClass(o,gp)),this.isDragged=n.value}}getProps(){return{disabled:this.disabled,fixedTickWidth:this.fixedTickWidth,largeStep:this.largeStep,max:this.max,min:this.min,readonly:this.readonly,reverse:this.reverse,rtl:this.localizationService.rtl,smallStep:this.smallStep,value:Nm(this.max,this.min,this.value),vertical:this.vertical,buttons:!1}}attachElementEventHandlers(){const n=this.hostElement.nativeElement;let e=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(n,"focusin",()=>{this.isFocused||this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onFocus.emit(),this.focused=!0})})),this.subscriptions.add(this.renderer.listen(n,"focusout",s=>{!this.isFocused||(e?(s.relatedTarget!==this.draghandleStart.nativeElement&&s.relatedTarget!==this.draghandleEnd.nativeElement&&this.handleBlur(),e=!1):o||this.handleBlur())})),this.subscriptions.add(this.renderer.listen(n,"mouseenter",()=>{o=!0})),this.subscriptions.add(this.renderer.listen(n,"mouseleave",()=>{o=!1})),this.subscriptions.add(this.renderer.listen(n,"keydown",s=>{e=s.keyCode===R.Tab}))})}};var mp;rs.\u0275fac=function(n){return new(n||rs)(i.Y36(I),i.Y36(i.zs3),i.Y36(i.Qsj),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.SBq))},rs.\u0275cmp=i.Xpm({type:rs,selectors:[["kendo-rangeslider"]],viewQuery:function(n,e){if(1&n&&(i.Gf(X6,7),i.Gf(W6,7)),2&n){let o;i.iGM(o=i.CRH())&&(e.draghandleStart=o.first),i.iGM(o=i.CRH())&&(e.draghandleEnd=o.first)}},inputs:{value:"value"},exportAs:["kendoRangeSlider"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.rangeslider"},{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>fp)},{provide:qe,useExisting:(0,i.Gpc)(()=>fp)}]),i.qOj,i.TTD],decls:14,vars:33,consts:function(){let t,n;return t=$localize`:kendo.rangeslider.dragHandleStart|The title of the **Start** drag handle of the Slider.␟4487c64285c2d8cdb336be783b6cb9304ce86007␟1512034289801794423:Drag`,n=$localize`:kendo.rangeslider.dragHandleEnd|The title of the **End** drag handle of the Slider.␟d6af522570cc1aff06104cee4b7780d6835e01d1␟6915505327582510906:Drag`,[["kendoSliderLocalizedMessages","","dragHandleStart",t,"dragHandleEnd",n],[1,"k-slider-wrap",3,"kendoEventsOutsideAngular"],["wrap",""],[1,"k-slider-track-wrap"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate",4,"ngIf"],[1,"k-slider-track"],["track",""],[1,"k-slider-selection"],["sliderSelection",""],["role","slider","kendoDraggable","",1,"k-draghandle",3,"id","title","kendoPress","kendoDrag","kendoRelease"],["draghandleStart",""],["draghandleEnd",""],[3,"resize"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate"],["ticks",""]]},template:function(n,e){1&n&&(i.ynx(0,0),i.TgZ(1,"div",1,2),i.TgZ(3,"div",3),i.YNc(4,K6,2,8,"ul",4),i.TgZ(5,"div",5,6),i._UZ(7,"div",7,8),i.TgZ(9,"a",9,10),i.NdJ("kendoPress",function(s){return e.ifEnabled(e.handleDragPress,s)})("kendoDrag",function(s){return e.ifEnabled(e.onHandleDrag,s)})("kendoRelease",function(s){return e.ifEnabled(e.onHandleRelease,s)}),i.qZA(),i.TgZ(11,"a",9,11),i.NdJ("kendoPress",function(s){return e.ifEnabled(e.handleDragPress,s)})("kendoDrag",function(s){return e.ifEnabled(e.onHandleDrag,s)})("kendoRelease",function(s){return e.ifEnabled(e.onHandleRelease,s)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"kendo-resize-sensor",12),i.NdJ("resize",function(){return e.sizeComponent()}),i.qZA(),i.qZA(),i.BQk()),2&n&&(i.xp6(1),i.ekj("k-slider-topleft","before"===e.tickPlacement)("k-slider-bottomright","after"===e.tickPlacement),i.Q6J("kendoEventsOutsideAngular",i.WLB(30,Mw,e.onWrapClick,e.onKeyDown)),i.xp6(3),i.Q6J("ngIf","none"!==e.tickPlacement),i.xp6(5),i.Udp("touch-action",e.isDisabled?"":"none"),i.Q6J("id",e.startHandleId)("title",e.textFor("dragHandleStart")),i.uIk("tabindex",e.disabled?void 0:e.tabindex)("aria-valuemin",e.min)("aria-valuemax",e.max)("aria-valuenow",e.value?e.value[0]:null)("aria-valuetext",e.valueText)("aria-disabled",!!e.disabled||void 0)("aria-readonly",!!e.readonly||void 0)("aria-orientation",e.vertical?"vertical":"horizontal"),i.xp6(2),i.Udp("touch-action",e.isDisabled?"":"none"),i.Q6J("id",e.endHandleId)("title",e.textFor("dragHandleEnd")),i.uIk("tabindex",e.disabled?void 0:e.tabindex)("aria-valuemin",e.min)("aria-valuemax",e.max)("aria-valuenow",e.value?e.value[1]:null)("aria-valuetext",e.valueText)("aria-disabled",!!e.disabled||void 0)("aria-readonly",!!e.readonly||void 0)("aria-orientation",e.vertical?"vertical":"horizontal"))},directives:function(){return[Tr,kt,x.O5,Pn,ai,oS]},encapsulation:2}),w([(0,i.IIB)(),C("design:type",Array)],rs.prototype,"value",void 0),w([(0,i.i9L)("draghandleStart",{static:!0}),C("design:type",i.SBq)],rs.prototype,"draghandleStart",void 0),w([(0,i.i9L)("draghandleEnd",{static:!0}),C("design:type",i.SBq)],rs.prototype,"draghandleEnd",void 0),rs=fp=w([C("design:paramtypes",[I,i.zs3,i.Qsj,i.R0b,i.sBO,i.SBq])],rs);const Jw="k-state-focused";let Bt=mp=class{constructor(n,e,o,s,r,a){this.renderer=n,this.hostElement=e,this.localizationService=o,this.injector=s,this.changeDetector=r,this.ngZone=a,this.focusableId=`k-${Ve()}`,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.valueChange=new i.vpe,this.hostClasses=!0,this.initialized=!1,this._checked=!1,this.ngChange=l=>{},this.ngTouched=()=>{},this.handleFocus=()=>{this.focused=!0,ne(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,(ne(this.onBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},(0,lt.s)(Ls),this.direction=o.rtl?"rtl":"ltr",this.keyDownHandler=this.keyDownHandler.bind(this),this.clickHandler=this.clickHandler.bind(this)}set checked(n){this.setHostClasses(n),this._checked=n}get checked(){return this._checked}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}get ieClass(){return vl&&vl.msie}get ariaDisabled(){return!!this.disabled||void 0}get ariaReadonly(){return this.readonly}get disabledClass(){return this.disabled}get onLabelMessage(){return this.onLabel||this.localizationService.get("on")}get offLabelMessage(){return this.offLabel||this.localizationService.get("off")}get isEnabled(){return!this.disabled&&!this.readonly}ngOnInit(){this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangeSubscription=this.localizationService.changes.pipe((0,pC.T)(1)).subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr"}),this.control=this.injector.get(X.a5,null),this.ngZone.onStable.pipe((0,nt.q)(1)).subscribe(()=>this.initialized=!0)}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}focus(){!this.wrapper||this.wrapper.nativeElement.focus()}blur(){!this.wrapper||this.wrapper.nativeElement.blur()}setDisabledState(n){this.disabled=n,this.changeDetector.markForCheck()}writeValue(n){this.checked=null!==n&&n,this.changeDetector.markForCheck()}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}keyDownHandler(n){const e=n.keyCode;this.isEnabled&&(e===R.Space||e===R.Enter)&&(this.changeValue(!this.checked),n.preventDefault())}clickHandler(){this.isEnabled&&this.changeValue(!this.checked)}isEmpty(){return!1}changeValue(n){this.checked!==n&&this.ngZone.run(()=>{this.checked=n,this.ngChange(n),this.valueChange.emit(n),this.changeDetector.markForCheck()})}set focused(n){if(this.isFocused!==n&&this.hostElement){const e=this.hostElement.nativeElement;n?this.renderer.addClass(e,Jw):this.renderer.removeClass(e,Jw),this.isFocused=n}}setHostClasses(n){n?(this.renderer.removeClass(this.hostElement.nativeElement,"k-switch-off"),this.renderer.addClass(this.hostElement.nativeElement,"k-switch-on")):(this.renderer.removeClass(this.hostElement.nativeElement,"k-switch-on"),this.renderer.addClass(this.hostElement.nativeElement,"k-switch-off"))}};var vp;Bt.\u0275fac=function(n){return new(n||Bt)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(I),i.Y36(i.zs3),i.Y36(i.sBO),i.Y36(i.R0b))},Bt.\u0275cmp=i.Xpm({type:Bt,selectors:[["kendo-switch"]],viewQuery:function(n,e){if(1&n&&i.Gf(Ew,7),2&n){let o;i.iGM(o=i.CRH())&&(e.wrapper=o.first)}},hostVars:9,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction)("aria-disabled",e.ariaDisabled)("aria-readonly",e.ariaReadonly),i.ekj("k-switch",e.hostClasses)("k-ie",e.ieClass)("k-state-disabled",e.disabledClass))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",checked:"checked",tabIndex:"tabIndex",onLabel:"onLabel",offLabel:"offLabel"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoSwitch"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.switch"},{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>mp)},{provide:qe,useExisting:(0,i.Gpc)(()=>mp)}])],decls:8,vars:17,consts:function(){let t,n;return t=$localize`:kendo.switch.on|The **On** label of the Switch.␟155f0a38198ffbf0429c5dbf9765e74f246a8617␟818154782831456441:ON`,n=$localize`:kendo.switch.off|The **Off** label of the Switch.␟79df1a6d2b35c32b2948e3cee56dd3ffe28127bc␟759820891948194060:OFF`,[["kendoSwitchLocalizedMessages","","on",t,"off",n],["role","switch",1,"k-switch-container",3,"id","kendoEventsOutsideAngular"],["wrapper",""],[1,"k-switch-label-on"],[1,"k-switch-label-off"],[1,"k-switch-handle"]]},template:function(n,e){1&n&&(i.ynx(0,0),i.TgZ(1,"span",1,2),i.TgZ(3,"span",3),i._uU(4),i.qZA(),i.TgZ(5,"span",4),i._uU(6),i.qZA(),i._UZ(7,"span",5),i.qZA(),i.BQk()),2&n&&(i.xp6(1),i.Udp("transition-duration",e.initialized?"200ms":"0ms"),i.Q6J("id",e.focusableId)("kendoEventsOutsideAngular",i.l5B(12,e3,e.clickHandler,e.keyDownHandler,e.handleFocus,e.handleBlur)),i.uIk("aria-checked",e.checked)("tabindex",e.disabled?void 0:e.tabIndex),i.xp6(2),i.uIk("aria-hidden",!0),i.xp6(1),i.Oqu(e.onLabelMessage),i.xp6(1),i.uIk("aria-hidden",!0),i.xp6(1),i.Oqu(e.offLabelMessage),i.xp6(1),i.Udp("transition-duration",e.initialized?"200ms":"0ms"))},directives:function(){return[Dr,kt]},encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],Bt.prototype,"focusableId",void 0),w([(0,i.IIB)(),C("design:type",String)],Bt.prototype,"onLabel",void 0),w([(0,i.IIB)(),C("design:type",String)],Bt.prototype,"offLabel",void 0),w([(0,i.IIB)(),C("design:type",Boolean),C("design:paramtypes",[Boolean])],Bt.prototype,"checked",null),w([(0,i.IIB)(),C("design:type",Boolean)],Bt.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Bt.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",Number)],Bt.prototype,"tabindex",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],Bt.prototype,"tabIndex",null),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],Bt.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],Bt.prototype,"onBlur",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Bt.prototype,"valueChange",void 0),w([(0,i.i9L)("wrapper",{static:!0}),C("design:type",Object)],Bt.prototype,"wrapper",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],Bt.prototype,"direction",void 0),w([(0,i.pfw)("class.k-ie"),C("design:type",Boolean),C("design:paramtypes",[])],Bt.prototype,"ieClass",null),w([(0,i.pfw)("attr.aria-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],Bt.prototype,"ariaDisabled",null),w([(0,i.pfw)("attr.aria-readonly"),C("design:type",Boolean),C("design:paramtypes",[])],Bt.prototype,"ariaReadonly",null),w([(0,i.pfw)("class.k-switch"),C("design:type",Boolean)],Bt.prototype,"hostClasses",void 0),w([(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],Bt.prototype,"disabledClass",null),Bt=mp=w([C("design:paramtypes",[i.Qsj,i.SBq,I,i.zs3,i.sBO,i.R0b])],Bt);let Vi=vp=class{constructor(n,e,o,s,r,a){this.renderer=n,this.element=e,this.zone=o,this.changeDetector=s,this.injector=r,this.elementClass=!0,this.autofillClass=!0,this.valueChange=new i.vpe,this.autoSize=!1,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.onValueChange=new i.vpe,this.autoFillStart=new i.vpe,this.autoFillEnd=new i.vpe,this.listeners=[],this.ngChange=l=>{},this.ngTouched=()=>{},this.direction=a?"rtl":"ltr"}get id(){return this.element.nativeElement.id}set id(n){this.renderer.setAttribute(this.element.nativeElement,"id",n)}writeValue(n){this.elementValue=n,this.resize()}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}setDisabledState(n){this.setElementProperty("disabled",n)}ngOnInit(){const n=this.element.nativeElement;this.zone.runOutsideAngular(()=>{this.listeners=[this.renderer.listen(n,"focus",this.handleFocus.bind(this)),this.renderer.listen(n,"blur",this.handleBlur.bind(this)),this.renderer.listen(n,"animationstart",e=>{"autoFillStart"===e.animationName?this.autoFillStart.emit():"autoFillEnd"===e.animationName&&this.autoFillEnd.emit()})],W()&&this.autoSize&&(this.resizeSubscription=(0,mt.R)(window,"resize").pipe((0,Yu.b)(50)).subscribe(()=>this.resize())),this.inputSubscription=(0,mt.R)(n,"input").subscribe(this.handleInput.bind(this))}),this.control=this.injector.get(X.a5,null)}ngOnChanges(n){const e=this.element.nativeElement;n.value&&(this.elementValue=this.value),n.autoSize&&(this.autoSize?(this.initialHeight=e.offsetHeight,this.renderer.setStyle(e,"resize","none")):(this.renderer.setStyle(e,"overflow-y","auto"),this.renderer.setStyle(e,"resize","both"),e.style.height=`${this.initialHeight}px`)),this.resize()}ngOnDestroy(){this.listeners.forEach(n=>n()),this.inputSubscription&&this.inputSubscription.unsubscribe(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}get elementValue(){return this.element?this.element.nativeElement.value:""}set elementValue(n){this.setElementProperty("value",null==n?"":n)}setElementProperty(n,e){this.element&&this.renderer.setProperty(this.element.nativeElement,n,e)}resize(){if(!this.autoSize)return;const n=this.element.nativeElement;this.renderer.setStyle(n,"overflow-y","hidden"),n.style.height=`${this.initialHeight}px`;const e=n.scrollHeight;e>this.initialHeight&&(n.style.height=`${e}px`)}handleInput(){const n=this.elementValue;this.value=n,(this.control||ne(this.onValueChange)||ne(this.valueChange))&&this.zone.run(()=>{this.ngChange(n),this.onValueChange.emit(n),this.valueChange.emit(n),this.changeDetector.markForCheck()}),this.resize()}handleFocus(){ne(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()})}handleBlur(){(ne(this.onBlur)||Ns(this.control))&&this.zone.run(()=>{this.ngTouched(),this.onBlur.emit(),this.changeDetector.markForCheck()})}};var Vm;Vi.\u0275fac=function(n){return new(n||Vi)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.zs3),i.Y36(Gi,8))},Vi.\u0275dir=i.lG2({type:Vi,selectors:[["textarea","kendoTextArea",""]],hostVars:5,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction),i.ekj("k-textarea",e.elementClass)("k-autofill",e.autofillClass))},inputs:{autoSize:"autoSize",value:"value"},outputs:{valueChange:"valueChange"},features:[i._Bn([{provide:X.JU,useExisting:(0,i.Gpc)(()=>vp),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>vp)}]),i.TTD]}),w([(0,i.pfw)("class.k-textarea"),C("design:type",Boolean)],Vi.prototype,"elementClass",void 0),w([(0,i.pfw)("class.k-autofill"),C("design:type",Boolean)],Vi.prototype,"autofillClass",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],Vi.prototype,"direction",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Vi.prototype,"valueChange",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Vi.prototype,"autoSize",void 0),w([(0,i.IIB)(),C("design:type",String)],Vi.prototype,"value",void 0),Vi=vp=w([xt(5,(0,i.FiY)()),xt(5,(0,i.tBr)(Gi)),C("design:paramtypes",[i.Qsj,i.SBq,i.R0b,i.sBO,i.zs3,Boolean])],Vi);let Ps=Vm=class{constructor(n,e,o){this.renderer=n,this.inputElement=e,this.ngZone=o,this.hostClass=!0,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.onValueChange=new i.vpe,this.autoFillStart=new i.vpe,this.autoFillEnd=new i.vpe,this.listeners=[]}set value(n){!this.inputElement||(this.inputElement.nativeElement.value=null==n?"":n,this.onValueChange.emit())}get value(){return this.inputElement.nativeElement.value}get id(){return this.inputElement.nativeElement.id}set id(n){this.renderer.setAttribute(this.inputElement.nativeElement,"id",n)}ngAfterViewInit(){const n=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(n,"focus",()=>this.onFocus.emit()),this.renderer.listen(n,"blur",()=>this.onBlur.emit())],this.ngZone.runOutsideAngular(()=>{this.renderer.listen(n,"animationstart",e=>{"autoFillStart"===e.animationName?this.autoFillStart.emit():"autoFillEnd"===e.animationName&&this.autoFillEnd.emit()})})}ngOnDestroy(){this.listeners.forEach(n=>n())}};Ps.\u0275fac=function(n){return new(n||Ps)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b))},Ps.\u0275dir=i.lG2({type:Ps,selectors:[["input","kendoTextBox",""]],hostVars:2,hostBindings:function(n,e){2&n&&i.ekj("k-textbox",e.hostClass)},inputs:{value:"value"},features:[i._Bn([{provide:qe,useExisting:(0,i.Gpc)(()=>Vm)}])]}),w([(0,i.pfw)("class.k-textbox"),C("design:type",Boolean)],Ps.prototype,"hostClass",void 0),w([(0,i.IIB)(),C("design:type",String),C("design:paramtypes",[String])],Ps.prototype,"value",null),Ps=Vm=w([C("design:paramtypes",[i.Qsj,i.SBq,i.R0b])],Ps);const qw=/[eE][\-+]?([0-9]+)/,Zw=t=>t>=0?Math.floor(t):Math.ceil(t),Sr=t=>{},Ir=t=>!isNaN(t)&&null!==t;function Uw(t,n){const e=n-String(t).length;let o=t;if(e>0){const s=new Array(e+1).join("0");o=parseFloat(t+s)}return o}var Nc,as=(()=>(function(t){t[t.Down=-1]="Down",t[t.None=0]="None",t[t.Up=1]="Up"}(as||(as={})),as))();const Qw=["min","max","step","decimals"],AO={decimals:null,max:null,min:null,step:1},Xw="k-state-focused",Ww="k-formatted-value";let Ne=Nc=class{constructor(n,e,o,s,r,a,l){this.intl=n,this.renderer=e,this.localizationService=o,this.injector=s,this.ngZone=r,this.changeDetector=a,this.hostElement=l,this.focusableId=`k-${Ve()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.changeValueOnScroll=!0,this.selectOnFocus=!0,this.value=null,this.valueChange=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.ArrowDirection=as,this.arrowDirection=as.None,this.inputValue="",this.minValidateFn=Sr,this.maxValidateFn=Sr,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=Sr,this.ngTouched=Sr,this.ngValidatorChange=Sr,this.increasePress=d=>{this.arrowPress(as.Up,d)},this.decreasePress=d=>{this.arrowPress(as.Down,d)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==as.None&&(this.arrowDirection=as.None,this.changeDetector.detectChanges())},this.handlePaste=()=>{this.isPasted=!0},this.handleInput=()=>{const d=this.numericInput.nativeElement;let{selectionStart:c,selectionEnd:p,value:m}=d;if(this.pressedKey===R.NumpadDecimal&&(m=this.replaceNumpadDotValue()),this.isPasted&&(m=this.formatInputValue(this.intl.parseNumber(m))),!this.isValid(m))return d.value=this.inputValue,void this.setSelection(c-1,p-1);const f=this.intl.parseNumber(m);let y=this.restrictDecimals(f);if(this.autoCorrect){const S=this.limitInputValue(y);y=S.value,c=S.selectionStart,p=S.selectionEnd}f!==y||this.hasTrailingZeros(m)||!this.focused?(this.setInputValue(y),this.setSelection(c,p)):this.inputValue=m,this.isPasted&&(d.value=this.inputValue),this.updateValue(y),this.previousSelection=null,this.isPasted=!1},this.handleDragEnter=()=>{!this.focused&&!this.isDisabled&&this.setInputValue(this.value,!0)},this.handleMouseDown=()=>{this.mouseDown=!0},this.handleFocus=()=>{if(!this.focused&&(this.focused=!0,!this.isDisabled)){const d=this.selectOnFocus||!this.mouseDown;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{d?this.selectAll():this.selectCaret()},0)})}this.mouseDown=!1,ne(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(ne(this.onBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleKeyDown=d=>{if(this.isDisabled)return;let c;d.keyCode===R.ArrowDown?c=-1:d.keyCode===R.ArrowUp&&(c=1),c&&this.step&&(d.preventDefault(),this.addStep(c));const p=this.numericInput.nativeElement;this.previousSelection={end:p.selectionEnd,start:p.selectionStart},this.pressedKey=d.keyCode},this.handleWheel=d=>{if(this.focused&&!this.isDisabled&&this.changeValueOnScroll){d.preventDefault();const c=(t=>{let n=0;return t.wheelDelta?(n=t.wheelDelta/120,n=n>0?Math.ceil(n):Math.floor(n)):t.detail&&(n=Math.round(-t.detail/3)),n})(d);this.addStep(c)}},(0,lt.s)(Ls),this.direction=o.rtl?"rtl":"ltr"}get format(){const n=this._format;return null!=n?n:"n2"}set format(n){this._format=n}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}get widgetClasses(){return!0}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(X.a5,null)}ngOnChanges(n){bt(Qw,n,!1)&&this.parseOptions(Qw.filter(e=>n[e])),this.verifySettings(),bt(["min","max","rangeValidation"],n,!1)&&(this.minValidateFn=this.rangeValidation?(t=>n=>!Pe(t)||!Pe(n.value)||n.value>=t?null:{minError:{minValue:t,value:n.value}})(this.min):Sr,this.maxValidateFn=this.rangeValidation?(t=>n=>!Pe(t)||!Pe(n.value)||n.value<=t?null:{maxError:{maxValue:t,value:n.value}})(this.max):Sr,this.ngValidatorChange()),bt(["autoCorrect","decimals","min"],n)&&delete this.numericRegex,bt(["value","format"],n,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),(!this.focused||this.intl.parseNumber(this.elementValue)!==this.value)&&this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}validate(n){return this.minValidateFn(n)||this.maxValidateFn(n)}registerOnValidatorChange(n){this.ngValidatorChange=n}writeValue(n){this.verifyValue(n);let e=this.restrictModelValue(n);this.value=e,this.setInputValue()}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}setDisabledState(n){this.changeDetector.markForCheck(),this.disabled=n}focus(){Cn(this.numericInput,"focus")}blur(){Cn(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(n){this.renderer.setProperty(this.numericInput.nativeElement,"value",n)}get focused(){return this.isFocused}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}set focused(n){if(this.isFocused!==n&&this.numericWrap){const e=this.numericWrap.nativeElement,o=this.numericInput.nativeElement;n?(this.renderer.addClass(e,Xw),this.isDisabled||this.renderer.removeClass(o,Ww)):(this.renderer.removeClass(e,Xw),this.renderer.addClass(o,Ww)),this.isFocused=n}}get isDisabled(){return this.disabled||this.readonly}arrowPress(n,e){e.preventDefault(),!this.isDisabled&&!(t=>t.button&&2===t.button||t.which&&3===t.which)(e)&&(hw||(this.focused=!0,this.focus()),this.arrowDirection!==n&&(this.arrowDirection=n,this.changeDetector.detectChanges()),this.step?this.spin(n,500):this.setInputValue())}updateValue(n){Cl(this.value,n)||this.ngZone.run(()=>{this.value=n,this.ngChange(n),this.valueChange.emit(n),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let n=this.inputValue||"";if(this.previousSelection){const e=this.numericInput.nativeElement,{selectionStart:o,selectionEnd:s}=e,{start:r,end:a}=this.previousSelection;e.value=n=n.substring(0,r)+this.decimalSeparator+n.substring(a),this.setSelection(o,s)}return n}isValid(n){return this.numericRegex||(this.numericRegex=(t=>{const{autoCorrect:n,decimals:e,min:o}=t;let a,s=t.separator;return"."===s&&(s="\\"+s),a=0===e?"\\d*":`(?:(?:\\d+(${s}\\d*)?)|(?:${s}\\d*))?`,new RegExp(`^${n&&null!==o&&o>=0?"":"-?"}${a}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(n)}spin(n,e){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(n,50)},e),this.addStep(n)}addStep(n){let e=Cr(this.value||0,this.step*n);e=this.limitValue(e),e=this.restrictDecimals(e),this.setInputValue(e),this.updateValue(e)}setSelection(n,e){this.focused&&Cn(this.numericInput,"setSelectionRange",n,e)}limitValue(n){let e=n;return this.isInRange(n)||(Ir(this.max)&&n>this.max&&(e=this.max),Ir(this.min)&&n<this.min&&(e=this.min)),e}limitInputValue(n){let{selectionStart:e,selectionEnd:o,value:s}=this.numericInput.nativeElement,r=n,a=!1;if(!this.isInRange(n)){const l=s.length-String(this.inputValue).length,{min:d,max:c}=this,p=Ir(c),m=Ir(d);let f,y,S=n;if(0===e&&this.inputValue.substr(1)===s)return{selectionEnd:o,selectionStart:e,value:null};if(p&&n>c?n>0?y=!0:f=c:m&&n<d&&(n>0?f=d:y=!0),f){const D=this.tryPadValue(n,f);D&&Zw(n)!==Zw(f)&&(S=D,a=!0)}else y&&this.inputValue&&e!==s.length&&(S=parseFloat(s.substr(0,e)+s.substr(e+l)));r=this.limitValue(S),a=(a||r!==S)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+l>0}return{selectionEnd:a?String(r).length:o,selectionStart:e,value:r}}tryPadValue(n,e){const o=String(Math.floor(e)).length,s=Uw(n,o),r=Uw(n,o+1);let a;return this.isInRange(s)?a=s:this.isInRange(r)&&(a=r),a}isInRange(n){return!Ir(n)||(!Ir(this.min)||this.min<=n)&&(!Ir(this.max)||n<=this.max)}restrictModelValue(n){let e=this.restrictDecimals(n,!0);return this.autoCorrect&&this.limitValue(e)!==e&&(e=null),e}restrictDecimals(n,e){let o=n;if(n&&this.hasDecimals){const s=this.decimals,r=String(n);if(e||qw.test(r))o=ap(n,s);else{const a=r.split(".");let l=a[1];l&&l.length>s&&(l=l.substr(0,s),o=parseFloat(`${a[0]}.${l}`))}}return o}formatInputValue(n){let e=String(n);const o=qw.exec(e);return o&&(e=n.toFixed(Rw(parseInt(o[1],10)))),e.replace(".",this.decimalSeparator)}formatValue(n,e){let o;return o=null!==n&&(t=>void 0!==t)(n)&&""!==n?e&&!this.readonly?this.formatInputValue(n):this.intl.formatNumber(n,this.format):"",o}setInputValue(n=this.value,e=this.focused){const o=this.formatValue(n,e);this.elementValue=o,this.inputValue=o}verifySettings(){if((0,i.X6Q)()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(n){if((0,i.X6Q)()&&n&&"number"!=typeof n)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(n)} was set.`)}parseOptions(n){for(let e=0;e<n.length;e++){const o=n[e],s=this[o];if("string"==typeof s){const r=parseFloat(s),a=!isNaN(r);if((0,i.X6Q)()&&!a&&""!==s)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${o} property and ${JSON.stringify(s)} was set.`);this[o]=a?r:AO[o]}}}intlChange(){delete this.numericRegex,this.numericInput&&(!this.focused||!this.isValid(this.elementValue))&&this.setInputValue()}hasTrailingZeros(n){if(this.hasDecimals&&this.focused){const e=n.split(this.decimalSeparator)[1];return e&&e.length>this.decimals&&e.lastIndexOf("0")===e.length-1}}selectAll(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}selectCaret(){const n=(t=>this.numericInput.nativeElement.selectionStart)(),e=this.elementValue,o=e.substring(0,n);if(this.setInputValue(),o.length){const s=((t,n)=>{const e=`${this.decimalSeparator}0123456789-`;return t.split("").reduce((o,s)=>e.includes(s)?++o:o,0)})(o),r=this.adjustSignificantChars(e,s);this.setSelection(r,r)}else this.setSelection(0,0)}numberOfLeadingZeroes(n){const e=n.indexOf(this.decimalSeparator),o=n.match(/^[^1-9]*?(0+)/);if(o){const r=o[1].length;return o[0].length===e?r-1:r}return 0}adjustSignificantChars(n,e){const o=this.numberOfLeadingZeroes(n);return o>0?Math.max(0,e-o):e}};Ne.\u0275fac=function(n){return new(n||Ne)(i.Y36(Oe.aJ),i.Y36(i.Qsj),i.Y36(I),i.Y36(i.zs3),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.SBq))},Ne.\u0275cmp=i.Xpm({type:Ne,selectors:[["kendo-numerictextbox"]],viewQuery:function(n,e){if(1&n&&(i.Gf(i3,7),i.Gf(n3,7)),2&n){let o;i.iGM(o=i.CRH())&&(e.numericInput=o.first),i.iGM(o=i.CRH())&&(e.numericWrap=o.first)}},hostVars:5,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction),i.ekj("k-widget",e.widgetClasses)("k-numerictextbox",e.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",changeValueOnScroll:"changeValueOnScroll",selectOnFocus:"selectOnFocus",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder",maxlength:"maxlength"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.numerictextbox"},{provide:X.JU,useExisting:(0,i.Gpc)(()=>Nc),multi:!0},{provide:X.Cf,useExisting:(0,i.Gpc)(()=>Nc),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>Nc)}]),i.TTD],decls:6,vars:26,consts:function(){let t,n;return t=$localize`:kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox␟0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5␟4467784268438010275:Increase value`,n=$localize`:kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox␟df4751834075bf970c77d0da2c960b4e19a6b0dd␟3960022057994897997:Decrease value`,[["kendoNumericTextBoxLocalizedMessages","","increment",t,"decrement",n],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],["role","button",1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],["role","button",1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i._UZ(3,"input",3,4),i.YNc(5,s3,5,18,"span",5),i.qZA()),2&n&&(i.xp6(1),i.ekj("k-state-disabled",e.disabled),i.Q6J("kendoEventsOutsideAngular",i.WLB(15,r3,e.handleWheel,e.handleWheel)),i.xp6(2),i.Q6J("id",e.focusableId)("tabindex",e.tabIndex)("disabled",e.disabled)("readonly",e.readonly)("kendoEventsOutsideAngular",i.Hh0(18,a3,e.handleMouseDown,e.handleDragEnter,e.handleKeyDown,e.handleInput,e.handleFocus,e.handleBlur,e.handlePaste)),i.uIk("aria-valuemin",e.min)("aria-valuemax",e.max)("aria-valuenow",e.value)("title",e.title)("placeholder",e.placeholder)("maxLength",e.maxlength),i.xp6(2),i.Q6J("ngIf",e.spinners))},directives:function(){return[Mr,kt,x.O5]},encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],Ne.prototype,"focusableId",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",String)],Ne.prototype,"title",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"autoCorrect",void 0),w([(0,i.IIB)(),C("design:type",Object),C("design:paramtypes",[Object])],Ne.prototype,"format",null),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"max",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"min",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"decimals",void 0),w([(0,i.IIB)(),C("design:type",String)],Ne.prototype,"placeholder",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"step",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"spinners",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"rangeValidation",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"tabindex",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],Ne.prototype,"tabIndex",null),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"changeValueOnScroll",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ne.prototype,"selectOnFocus",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ne.prototype,"maxlength",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ne.prototype,"valueChange",void 0),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],Ne.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],Ne.prototype,"onBlur",void 0),w([(0,i.i9L)("numericInput",{static:!0}),C("design:type",i.SBq)],Ne.prototype,"numericInput",void 0),w([(0,i.i9L)("numericWrap",{static:!0}),C("design:type",i.SBq)],Ne.prototype,"numericWrap",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],Ne.prototype,"direction",void 0),w([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-numerictextbox"),C("design:type",Boolean),C("design:paramtypes",[])],Ne.prototype,"widgetClasses",null),Ne=Nc=w([C("design:paramtypes",[Oe.aJ,i.Qsj,I,i.zs3,i.R0b,i.sBO,i.SBq])],Ne);let yp=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{decrement:"decrement",increment:"increment"},features:[i.qOj]}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"decrement",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"increment",void 0),t})();var Hm;let zs=Hm=class extends yp{constructor(n){super(),this.service=n}get override(){return!0}};zs.\u0275fac=function(n){return new(n||zs)(i.Y36(I))},zs.\u0275cmp=i.Xpm({type:zs,selectors:[["kendo-numerictextbox-messages"]],features:[i._Bn([{provide:yp,useExisting:(0,i.Gpc)(()=>Hm)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),zs=Hm=w([C("design:paramtypes",[I])],zs);var no=(()=>(function(t){t[t.Literal=0]="Literal",t[t.Mask=1]="Mask",t[t.Undefined=2]="Undefined"}(no||(no={})),no))();class $t{constructor(n,e,o=no.Undefined){this.value=n,this.rest=e,this.type=o}map(n){return new $t(n(this.value),this.rest)}chain(n){return n(this.value,this.rest)}fold(n,e){return n(this.value,this.rest)}concat(n){return this.map((e,o)=>n.chain((s,r)=>e.concat([s])))}toString(){return`Result({ value: '${this.value}', rest: ${this.rest} })`}}class Kw{constructor(n=[],e=[]){this.input=n,this.control=e,this.inputCursor=0,this.controlCursor=0}eof(){return this.inputCursor>=this.input.length}next(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}}peek(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}}eat_input(){this.inputCursor++}eat_control(){this.controlCursor++}eat(){this.inputCursor++,this.controlCursor++}}const eS=t=>(t||"").split("");class Gn{constructor(n){this.parse=n}run(n,e=""){return this.parse(n instanceof Kw?n:new Kw(eS(n),eS(e)))}map(n){return new Gn(e=>this.parse(e).map(n))}chain(n){return new Gn(e=>this.parse(e).chain((o,s)=>n(o).run(s)))}isLiteral(n){return this.run(n).type===no.Literal}}const bp=(t,n)=>new Gn(e=>{let{char:o}=e.next();const s=t[o];return"\\"===o?(o=e.next().char,new $t(n.literal(o),e)):new $t(s?n.mask(s):n.literal(o),e)}),tS=({prompt:t,promptPlaceholder:n})=>new Gn(e=>{let{char:o}=e.next();return new $t(o===t?n:o,e)}),iS=t=>new Gn(n=>{let{char:e}=n.next();return new $t(t?e:"",n)}),kr=t=>t.reduce((n,e)=>((t,n)=>t.chain(e=>n.map(o=>e.concat([o]))))(n,e),(t=>new Gn(n=>new $t(t,n)))([])),Cp=t=>new Gn(n=>{let e=new $t([],n);for(;!n.eof();)e=e.concat(t.run(n));return e});let Ym=(()=>{let t=class{constructor(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}update({mask:e="",prompt:o="",promptPlaceholder:s=" ",rules:r={},includeLiterals:a=!1}){this.mask=e,this.prompt=o,this.promptPlaceholder=s,this.rules=r,this.includeLiterals=a,this.tokenize()}validationValue(e=""){let o=e;return kr(this.validationTokens).run(e).fold(s=>{o=s.join("")}),o}rawValue(e=""){let o=e;return this.rawTokens.length&&kr(this.rawTokens).run(e).fold(s=>{o=s.join("")}),o}maskRaw(e=""){let o=e;return this.maskTokens.length&&kr(this.maskTokens).run(e).fold(s=>{o=s.join("")}),o}maskInput(e,o,s){return e.length<o.length?this.maskRemoved(e,o,s):this.maskInserted(e,o,s)}maskInRange(e,o,s,r){let a="",l=r;const d=o.split("").slice(0,s),c=o.split("").slice(r);return kr(this.maskTokens.slice(s,r)).run(e).fold(p=>{a=d.concat(p).concat(c).join("")}),{selection:l,value:a}}maskRemoved(e,o,s){let r="",a=s;const l=e.split("").slice(s),d=e.split("").slice(0,s).join("");return kr(this.maskTokens.slice(0,this.maskTokens.length-(e.length-s))).run(d,o).fold(p=>{a=this.adjustPosition(p,a),r=p.concat(l).join("")}),{selection:a,value:r}}adjustPosition(e,o){const s=e[o];return this.maskTokens[o].isLiteral(s)||s===this.prompt?o:o+1}maskInserted(e,o,s){let r="",a=s;const l=e.slice(0,s);return kr(this.unmaskTokens).run(l,o).chain(d=>{a=d.join("").length;const c=o.slice(a);return kr(this.maskTokens).run(d.join("")+c,o)}).fold(d=>{r=d.join("")}),{selection:a,value:r}}get maskTokenCreator(){const{prompt:e,promptPlaceholder:o}=this;return{literal:s=>(t=>new Gn(n=>n.peek().char===t?(n.eat(),new $t(t,n,no.Literal)):new $t(t,n,no.Literal)))(s),mask:s=>(({prompt:t,promptPlaceholder:n})=>e=>new Gn(o=>{for(;!o.eof();){const{char:s,control:r}=o.peek();if(s===r&&r===t)return o.eat(),new $t(t,o,no.Mask);if(e.test(s))return o.eat(),new $t(s,o,no.Mask);if(s===n)return o.eat(),new $t(t,o,no.Mask);o.eat_input()}return o.eat(),new $t(t,o,no.Mask)}))({prompt:e,promptPlaceholder:o})(s)}}get unmaskTokenCreator(){return{literal:e=>(t=>new Gn(n=>{if(n.eof())return new $t("",n);const{char:e}=n.peek();return e===t&&n.eat(),new $t(t,n)}))(e),mask:e=>(t=>n=>new Gn(e=>{for(;!e.eof();){const{char:o,control:s}=e.peek();if(o===t&&s===t)return e.eat(),new $t(o,e);if(n.test(o))return e.eat(),new $t(o,e);e.eat_input()}return e.eat(),new $t("",e)}))(this.prompt)(e)}}get rawTokenCreator(){const{prompt:e,promptPlaceholder:o,includeLiterals:s}=this;return{literal:r=>iS(s),mask:r=>tS({prompt:e,promptPlaceholder:o})}}get validationTokenCreator(){const{prompt:e}=this;return{literal:o=>iS(!1),mask:o=>tS({prompt:e,promptPlaceholder:""})}}tokenize(){Cp(bp(this.rules,this.maskTokenCreator)).run(this.mask).fold((e,o)=>{this.maskTokens=e}),Cp(bp(this.rules,this.unmaskTokenCreator)).run(this.mask).fold((e,o)=>{this.unmaskTokens=e}),Cp(bp(this.rules,this.rawTokenCreator)).run(this.mask).fold((e,o)=>{this.rawTokens=e}),Cp(bp(this.rules,this.validationTokenCreator)).run(this.mask).fold((e,o)=>{this.validationTokens=e})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();var Lc;const YO=Promise.resolve(null),nS="k-state-focused";let ct=Lc=class{constructor(n,e,o,s,r,a,l){this.service=n,this.renderer=e,this.hostElement=o,this.ngZone=s,this.injector=r,this.changeDetector=a,this.focusableId=`k-${Ve()}`,this.disabled=!1,this.readonly=!1,this.hostClasses=!0,this.prompt="_",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskOnFocus=!1,this.maskValidation=!0,this.tabindex=0,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.valueChange=new i.vpe,this.focusClick=!1,this.defaultRules={"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/},this.isPasted=!1,this.selection=[0,0],this.handleFocus=()=>{this.focused=!0,this.maskOnFocus&&this.emptyMask&&(this.updateInput(this.service.maskRaw(this.value)),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.setSelection(0,0)},0)})),ne(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleClick=()=>{if(this.focused&&!this.focusClick){this.focusClick=!0;const{selectionStart:d,selectionEnd:c}=this.input.nativeElement;d===c&&this.setFocusSelection()}},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,this.focusClick=!1,this.maskOnFocus&&this.emptyMask&&this.updateInput(this.maskedValue),(ne(this.onBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.onTouched(),this.onBlur.emit()})},this.onChange=d=>{},this.onTouched=()=>{},(0,lt.s)(Ls),this.direction=l?"rtl":"ltr",this.updateService()}get hostDisabledClass(){return this.disabled}get rules(){return this._rules||this.defaultRules}set rules(n){this._rules=Object.assign({},this.defaultRules,n)}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}ngOnInit(){this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(X.a5,null)}isEmpty(){if(this.input)return!Boolean(this.input.nativeElement.value)}handleDragDrop(){return!1}focus(){!this.input||(this.input.nativeElement.focus(),this.setFocusSelection())}blur(){!this.input||this.input.nativeElement.blur()}pasteHandler(n){const{selectionStart:e,selectionEnd:o}=n.target;o!==e&&(this.isPasted=!0,this.selection=[e,o])}inputHandler(n){const e=n.target.value,[o,s]=this.selection;if(!this.mask)return this.updateValue(e),void(this.isPasted=!1);let r;this.isPasted?(this.isPasted=!1,r=this.service.maskInRange(e.slice(o,e.length-(this.maskedValue.length-s)),this.maskedValue,o,s)):r=this.service.maskInput(e,this.maskedValue,n.target.selectionStart),this.updateInput(r.value,r.selection),this.updateValue(r.value)}ngOnChanges(n){if(n.value&&(this.value=this.normalizeValue()),!this.mask)return void this.updateInput(this.value);const e=this.extractChanges(n);if(this.updateService(e),ht("value",n)){const o=this.service.maskRaw(this.value);o!==this.maskedValue&&this.updateInput(o)}else bt(["promptPlaceholder","includeLiterals"],n)?YO.then(()=>{this.updateValue(this.maskedValue)}):this.updateInput(this.service.maskRaw(this.value))}writeValue(n){this.value=this.normalizeValue(n),this.updateInput(this.service.maskRaw(this.value))}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.changeDetector.markForCheck(),this.disabled=n}validate(n){return!1!==this.maskValidation&&this.mask&&this.service.validationValue(this.maskedValue)&&-1!==this.maskedValue.indexOf(this.prompt)?{patternError:{mask:this.mask,maskedValue:this.maskedValue,value:this.value}}:null}updateValue(n){this.value=this.mask&&!this.service.validationValue(n)?"":this.service.rawValue(n),this.onChange(this.value),this.valueChange.emit(this.value)}updateInput(n="",e){this.maskedValue=n,this.renderer.setProperty(this.input.nativeElement,"value",this.maskOnFocus&&!this.focused&&this.emptyMask?"":n),void 0!==e&&this.setSelection(e,e)}extractChanges(n){return Object.keys(n).filter(e=>"rules"!==e).reduce((e,o)=>(e[o]=n[o].currentValue,e),{})}updateService(n){const e=Object.assign({includeLiterals:this.includeLiterals,mask:this.mask,prompt:this.prompt,promptPlaceholder:this.promptPlaceholder,rules:this.rules},n);this.service.update(e)}setSelection(n=this.selection[0],e=this.selection[1]){this.focused&&Cn(this.input,"setSelectionRange",n,e)}get emptyMask(){return this.service.maskRaw()===this.maskedValue}setFocusSelection(){const n=this.input.nativeElement.selectionStart,e=this.maskedValue?this.maskedValue.indexOf(this.prompt):0;e>=0&&e<n&&(this.selection=[e,e],this.setSelection())}get focused(){return this.isFocused}set focused(n){if(this.isFocused!==n&&this.hostElement){const e=this.hostElement.nativeElement;n?this.renderer.addClass(e,nS):this.renderer.removeClass(e,nS),this.isFocused=n}}normalizeValue(n=this.value){const e=Pe(n);if(e&&"string"!=typeof n){if((0,i.X6Q)())throw new Error("The MaskedTextBox component supports only string values.");return String(n)}return e?n:""}};ct.\u0275fac=function(n){return new(n||ct)(i.Y36(Ym),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.zs3),i.Y36(i.sBO),i.Y36(Gi,8))},ct.\u0275cmp=i.Xpm({type:ct,selectors:[["kendo-maskedtextbox"]],viewQuery:function(n,e){if(1&n&&i.Gf(Rm,7),2&n){let o;i.iGM(o=i.CRH())&&(e.input=o.first)}},hostVars:7,hostBindings:function(n,e){1&n&&i.NdJ("paste",function(s){return e.pasteHandler(s)})("input",function(s){return e.inputHandler(s)}),2&n&&(i.uIk("dir",e.direction),i.ekj("k-widget",e.hostClasses)("k-maskedtextbox",e.hostClasses)("k-state-disabled",e.hostDisabledClass))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",prompt:"prompt",promptPlaceholder:"promptPlaceholder",includeLiterals:"includeLiterals",maskOnFocus:"maskOnFocus",maskValidation:"maskValidation",tabindex:"tabindex",rules:"rules",tabIndex:"tabIndex",value:"value",title:"title",mask:"mask"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoMaskedTextBox"],features:[i._Bn([Ym,{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Lc)},{multi:!0,provide:X.Cf,useExisting:(0,i.Gpc)(()=>Lc)},{provide:qe,useExisting:(0,i.Gpc)(()=>Lc)}]),i.TTD],decls:2,vars:12,consts:[["type","text","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-textbox",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["input",""]],template:function(n,e){1&n&&i._UZ(0,"input",0,1),2&n&&(i.Q6J("id",e.focusableId)("tabindex",e.tabIndex)("disabled",e.disabled)("readonly",e.readonly)("kendoEventsOutsideAngular",i.qbA(6,l3,e.handleFocus,e.handleBlur,e.handleClick,e.handleDragDrop,e.handleDragDrop)),i.uIk("title",e.title))},directives:[kt],encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],ct.prototype,"focusableId",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ct.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ct.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",String)],ct.prototype,"title",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],ct.prototype,"direction",void 0),w([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-maskedtextbox"),C("design:type",Boolean)],ct.prototype,"hostClasses",void 0),w([(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],ct.prototype,"hostDisabledClass",null),w([(0,i.IIB)(),C("design:type",String)],ct.prototype,"mask",void 0),w([(0,i.IIB)(),C("design:type",String)],ct.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",Object),C("design:paramtypes",[Object])],ct.prototype,"rules",null),w([(0,i.IIB)(),C("design:type",String)],ct.prototype,"prompt",void 0),w([(0,i.IIB)(),C("design:type",String)],ct.prototype,"promptPlaceholder",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ct.prototype,"includeLiterals",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ct.prototype,"maskOnFocus",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ct.prototype,"maskValidation",void 0),w([(0,i.IIB)(),C("design:type",Number)],ct.prototype,"tabindex",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],ct.prototype,"tabIndex",null),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],ct.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],ct.prototype,"onBlur",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],ct.prototype,"valueChange",void 0),w([(0,i.i9L)("input",{static:!0}),C("design:type",i.SBq)],ct.prototype,"input",void 0),w([(0,i.L6J)("paste",["$event"]),C("design:type",Function),C("design:paramtypes",[Object]),C("design:returntype",void 0)],ct.prototype,"pasteHandler",null),w([(0,i.L6J)("input",["$event"]),C("design:type",Function),C("design:paramtypes",[Object]),C("design:returntype",void 0)],ct.prototype,"inputHandler",null),ct=Lc=w([xt(6,(0,i.FiY)()),xt(6,(0,i.tBr)(Gi)),C("design:paramtypes",[Ym,i.Qsj,i.SBq,i.R0b,i.zs3,i.sBO,Boolean])],ct);class $O{constructor(n){this.value=n,this.classes={"k-tick":!0}}}let oS=(()=>{let t=class{constructor(){this.wrapperClasses="k-reset k-slider-items",this.ticks=[]}ngOnChanges(e){this.createTicks()}createTicks(){const e=zw(this.min,this.max,this.step),o=this.largeStep,s={max:this.max,min:this.min,smallStep:this.step};let r=[];for(let a=0;a<e;a++)r.push(new $O(lO(a,s))),o&&a%o==0&&(r[a].large=!0,r[a].classes["k-tick-large"]=!0);r.length>0&&(Object.assign(r[0].classes,this.endTickClasses(!0)),Object.assign(r[r.length-1].classes,this.endTickClasses(!1))),this.ticks=r}endTickClasses(e){return{"k-first":e&&!this.vertical||!e&&this.vertical,"k-last":!e&&!this.vertical||e&&this.vertical}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoSliderTicks",""]],viewQuery:function(e,o){if(1&e&&i.Gf(c3,5),2&e){let s;i.iGM(s=i.CRH())&&(o.tickElements=s)}},hostVars:2,hostBindings:function(e,o){2&e&&i.Tol(o.wrapperClasses)},inputs:{tickTitle:"tickTitle",vertical:"vertical",step:"step",largeStep:"largeStep",min:"min",max:"max",labelTemplate:"labelTemplate"},features:[i.TTD],attrs:d3,decls:3,vars:1,consts:[["role","presentation",3,"ngClass","title",4,"ngFor","ngForOf"],["defaultLabel",""],["role","presentation",3,"ngClass","title"],["tickElement",""],[3,"ngSwitch"],["class","k-label",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"k-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(i.YNc(0,h3,5,5,"li",0),i.YNc(1,f3,1,1,"ng-template",null,1,i.W1O)),2&e&&i.Q6J("ngForOf",o.ticks)},directives:[x.sg,x.mk,x.RF,x.n9,x.tP],encapsulation:2}),w([(0,i.pfw)("class"),C("design:type",String)],t.prototype,"wrapperClasses",void 0),w([(0,i.IIB)(),C("design:type",Function)],t.prototype,"tickTitle",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"vertical",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"step",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"largeStep",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"min",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"max",void 0),w([(0,i.IIB)(),C("design:type",i.Rgc)],t.prototype,"labelTemplate",void 0),w([(0,i.vR)("tickElement"),C("design:type",i.n_E)],t.prototype,"tickElements",void 0),t})(),sS=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Lu,Kt,_o],Lu,Kt,_o]}),t})(),wp=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{decrement:"decrement",increment:"increment",dragHandle:"dragHandle"},features:[i.qOj]}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"decrement",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"increment",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"dragHandle",void 0),t})();var $m;let xr=$m=class extends wp{constructor(n){super(),this.service=n}};var Jm;xr.\u0275fac=function(n){return new(n||xr)(i.Y36(I))},xr.\u0275dir=i.lG2({type:xr,selectors:[["","kendoSliderLocalizedMessages",""]],features:[i._Bn([{provide:wp,useExisting:(0,i.Gpc)(()=>$m)}]),i.qOj]}),xr=$m=w([C("design:paramtypes",[I])],xr);let Sl=Jm=class extends wp{constructor(n){super(),this.service=n}get override(){return!0}};Sl.\u0275fac=function(n){return new(n||Sl)(i.Y36(I))},Sl.\u0275cmp=i.Xpm({type:Sl,selectors:[["kendo-slider-messages"]],features:[i._Bn([{provide:wp,useExisting:(0,i.Gpc)(()=>Jm)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Sl=Jm=w([C("design:paramtypes",[I])],Sl);let rS=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,sS]]}),t})(),Sp=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{dragHandleStart:"dragHandleStart",dragHandleEnd:"dragHandleEnd"},features:[i.qOj]}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"dragHandleStart",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"dragHandleEnd",void 0),t})();var jm;let Tr=jm=class extends Sp{constructor(n){super(),this.service=n}};var qm;Tr.\u0275fac=function(n){return new(n||Tr)(i.Y36(I))},Tr.\u0275dir=i.lG2({type:Tr,selectors:[["","kendoSliderLocalizedMessages",""]],features:[i._Bn([{provide:Sp,useExisting:(0,i.Gpc)(()=>jm)}]),i.qOj]}),Tr=jm=w([C("design:paramtypes",[I])],Tr);let Il=qm=class extends Sp{constructor(n){super(),this.service=n}get override(){return!0}};Il.\u0275fac=function(n){return new(n||Il)(i.Y36(I))},Il.\u0275cmp=i.Xpm({type:Il,selectors:[["kendo-rangeslider-messages"]],features:[i._Bn([{provide:Sp,useExisting:(0,i.Gpc)(()=>qm)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Il=qm=w([C("design:paramtypes",[I])],Il);let JO=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,sS]]}),t})(),Ip=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{on:"on",off:"off"},features:[i.qOj]}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"on",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"off",void 0),t})();var Zm;let Dr=Zm=class extends Ip{constructor(n){super(),this.service=n}};var Um;Dr.\u0275fac=function(n){return new(n||Dr)(i.Y36(I))},Dr.\u0275dir=i.lG2({type:Dr,selectors:[["","kendoSwitchLocalizedMessages",""]],features:[i._Bn([{provide:Ip,useExisting:(0,i.Gpc)(()=>Zm)}]),i.qOj]}),Dr=Zm=w([C("design:paramtypes",[I])],Dr);let kl=Um=class extends Ip{constructor(n){super(),this.service=n}get override(){return!0}};kl.\u0275fac=function(n){return new(n||kl)(i.Y36(I))},kl.\u0275cmp=i.Xpm({type:kl,selectors:[["kendo-switch-messages"]],features:[i._Bn([{provide:Ip,useExisting:(0,i.Gpc)(()=>Um)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),kl=Um=w([C("design:paramtypes",[I])],kl);let jO=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Kt,_o]]}),t})();var Qm;let Mr=Qm=class extends yp{constructor(n){super(),this.service=n}};Mr.\u0275fac=function(n){return new(n||Mr)(i.Y36(I))},Mr.\u0275dir=i.lG2({type:Mr,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[i._Bn([{provide:yp,useExisting:(0,i.Gpc)(()=>Qm)}]),i.qOj]}),Mr=Qm=w([C("design:paramtypes",[I])],Mr);let Xm=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Kt]]}),t})(),qO=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Kt]]}),t})(),Wm=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTextBoxSuffixTemplate",""]]}),t=w([xt(0,(0,i.FiY)()),C("design:paramtypes",[i.Rgc])],t),t})(),kp=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTextBoxPrefixTemplate",""]]}),t=w([xt(0,(0,i.FiY)()),C("design:paramtypes",[i.Rgc])],t),t})();var xp;const aS="k-state-focused";let Ue=xp=class{constructor(n,e,o,s,r,a){this.localizationService=n,this.ngZone=e,this.changeDetector=o,this.renderer=s,this.injector=r,this.hostElement=a,this.focusableId=`k-${Ve()}`,this.title="",this.disabled=!1,this.readonly=!1,this.tabindex=0,this.value=null,this.selectOnFocus=!1,this.showSuccessIcon=!1,this.showErrorIcon=!1,this.clearButton=!1,this.valueChange=new i.vpe,this.inputFocus=new i.vpe,this.inputBlur=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.hostClass=!0,this._isFocused=!1,this.focusChangedProgrammatically=!1,this.handleInputFocus=()=>{this.disabled||(this.selectOnFocus&&this.value&&this.ngZone.run(()=>{setTimeout(()=>{this.selectAll()})}),ne(this.onFocus)&&(this.isFocused||this.ngZone.run(()=>{this.onFocus.emit()})),ne(this.inputFocus)&&(!this.focusChangedProgrammatically||this.focusChangedProgrammatically&&this.clearButtonClicked)&&this.ngZone.run(()=>{this.inputFocus.emit()}),this.ngZone.run(()=>{this.isFocused=!0}))},this.handleInputBlur=()=>{this.changeDetector.markForCheck(),(ne(this.inputBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.handleInput=l=>{let d=(t=>pw(t).safari||xm(t)&&"mobilesafari"===xm(t).browser)(navigator.userAgent)&&(t=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(t))(l.target.value)?l.data:l.target.value;this.updateValue(d)},this.ngChange=l=>{},this.ngTouched=()=>{},(0,lt.s)(Ls),this.direction=n.rtl?"rtl":"ltr"}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}get disabledClass(){return this.disabled}ngOnInit(){this.control=this.injector.get(X.a5,null),this.checkClearButton(),this.subscriptions=this.localizationService.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr"})}ngAfterViewInit(){const n=this.hostElement.nativeElement;let e=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(n,"focusin",()=>{this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0})})),this.subscriptions.add(this.renderer.listen(n,"focusout",s=>{!this.isFocused||(o?(Yw(s.relatedTarget,a=>a===this.hostElement.nativeElement)||this.handleBlur(),o=!1):!e&&!this.clearButtonClicked&&this.handleBlur())})),this.subscriptions.add(this.renderer.listen(n,"mouseenter",()=>{e=!0})),this.subscriptions.add(this.renderer.listen(n,"mouseleave",()=>{e=!1})),this.subscriptions.add(this.renderer.listen(n,"keydown",s=>{o=s.keyCode===R.Tab}))})}ngOnChanges(n){(n.disabled||n.readonly||n.value)&&this.checkClearButton()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}focus(){!this.input||(this.focusChangedProgrammatically=!0,this.isFocused=!0,this.input.nativeElement.focus(),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0;const n=this.hostElement.nativeElement.querySelector(":focus");n&&n.blur(),this.isFocused=!1,this.focusChangedProgrammatically=!1}clearTitle(){return this.localizationService.get("clear")}checkClearButton(){this.showClearButton=!this.disabled&&!this.readonly&&this.clearButton&&!!this.value}clearValue(n){n&&n.preventDefault(),this.clearButtonClicked=!0,this.input.nativeElement.value="",this.input.nativeElement.focus(),this.updateValue(""),this.checkClearButton(),this.clearButtonClicked=!1}writeValue(n){this.value=n,this.checkClearButton()}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}setDisabledState(n){this.changeDetector.markForCheck(),this.disabled=n}showErrorsInitial(){if(!this.control)return!1;const{invalid:n,dirty:e,touched:o}=this.control;return n&&(e||o)}showSuccessInitial(){if(!this.control)return!1;const{valid:n,dirty:e,touched:o}=this.control;return n&&(e||o)}get successIconClasses(){return this.successIcon?`k-text-success ${this.successIcon}`:"k-text-success k-icon k-i-check-outline"}get errorIconClasses(){return this.errorIcon?`k-text-error ${this.errorIcon}`:"k-text-error k-icon k-i-warning"}get clearButtonClasses(){return this.clearButtonIcon?this.clearButtonIcon:"k-icon k-i-close-circle"}get hasErrors(){return"initial"===this.showErrorIcon?this.showErrorsInitial():this.showErrorIcon}get isSuccessful(){return"initial"===this.showSuccessIcon?this.showSuccessInitial():this.showSuccessIcon}setSelection(n,e){this.isFocused&&Cn(this.input,"setSelectionRange",n,e)}selectAll(){this.value&&this.setSelection(0,this.value.length)}updateValue(n){Cl(this.value,n)||this.ngZone.run(()=>{this.value=n,this.ngChange(n),this.valueChange.emit(n),this.checkClearButton(),this.changeDetector.markForCheck()})}get isFocused(){return this._isFocused}set isFocused(n){if(this._isFocused!==n&&this.hostElement){const e=this.hostElement.nativeElement;n&&!this.disabled?this.renderer.addClass(e,aS):this.renderer.removeClass(e,aS),this._isFocused=n}}handleBlur(){this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onBlur.emit(),this.isFocused=!1})}};Ue.\u0275fac=function(n){return new(n||Ue)(i.Y36(I),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.zs3),i.Y36(i.SBq))},Ue.\u0275cmp=i.Xpm({type:Ue,selectors:[["kendo-textbox"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,Wm,5),i.Suo(o,kp,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.suffixTemplate=s.first),i.iGM(s=i.CRH())&&(e.prefixTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&i.Gf(Rm,7),2&n){let o;i.iGM(o=i.CRH())&&(e.input=o.first)}},hostVars:5,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction),i.ekj("k-textbox",e.hostClass)("k-state-disabled",e.disabledClass))},inputs:{focusableId:"focusableId",title:"title",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",value:"value",selectOnFocus:"selectOnFocus",showSuccessIcon:"showSuccessIcon",showErrorIcon:"showErrorIcon",clearButton:"clearButton",tabIndex:"tabIndex",successIcon:"successIcon",errorIcon:"errorIcon",clearButtonIcon:"clearButtonIcon",placeholder:"placeholder",maxlength:"maxlength"},outputs:{valueChange:"valueChange",inputFocus:"inputFocus",inputBlur:"inputBlur",onFocus:"focus",onBlur:"blur"},exportAs:["kendoTextBox"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.textbox"},{provide:X.JU,useExisting:(0,i.Gpc)(()=>xp),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>xp)}]),i.TTD],decls:10,vars:18,consts:function(){let t;return t=$localize`:kendo.textbox.clear|The title for the **Clear** button in the TextBox.␟e6edd360fd0d3c873c0d94a3aecd3c407d31da5a␟2651889799249671820:Clear`,[["kendoTextBoxLocalizedMessages","","clear",t],[1,"k-input-prefix"],[4,"ngIf"],[1,"k-input",3,"id","disabled","readonly","value","kendoEventsOutsideAngular"],["input",""],[1,"k-input-suffix"],[3,"ngClass",4,"ngIf"],["role","button","class","k-clear-value",3,"tabindex","title","click","mousedown","keydown.enter","keydown.space",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"ngClass"],["role","button",1,"k-clear-value",3,"tabindex","title","click","mousedown","keydown.enter","keydown.space"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1),i.YNc(2,m3,1,1,void 0,2),i.qZA(),i._UZ(3,"input",3,4),i.TgZ(5,"span",5),i.YNc(6,v3,1,1,"span",6),i.YNc(7,_3,1,1,"span",6),i.YNc(8,y3,2,4,"span",7),i.YNc(9,C3,1,1,void 0,2),i.qZA()),2&n&&(i.xp6(2),i.Q6J("ngIf",e.prefixTemplate),i.xp6(1),i.Q6J("id",e.focusableId)("disabled",e.disabled)("readonly",e.readonly)("value",e.value)("kendoEventsOutsideAngular",i.kEZ(14,Fw,e.handleInputFocus,e.handleInputBlur,e.handleInput)),i.uIk("tabindex",e.disabled?void 0:e.tabindex)("placeholder",e.placeholder)("title",e.title)("maxlength",e.maxlength),i.xp6(3),i.Q6J("ngIf",e.hasErrors),i.xp6(1),i.Q6J("ngIf",e.isSuccessful),i.xp6(1),i.Q6J("ngIf",e.showClearButton),i.xp6(1),i.Q6J("ngIf",e.suffixTemplate))},directives:function(){return[Er,x.O5,kt,x.tP,x.mk]},encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"focusableId",void 0),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"title",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ue.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ue.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ue.prototype,"tabindex",void 0),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ue.prototype,"selectOnFocus",void 0),w([(0,i.IIB)(),C("design:type",Object)],Ue.prototype,"showSuccessIcon",void 0),w([(0,i.IIB)(),C("design:type",Object)],Ue.prototype,"showErrorIcon",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ue.prototype,"clearButton",void 0),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"successIcon",void 0),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"errorIcon",void 0),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"clearButtonIcon",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],Ue.prototype,"tabIndex",null),w([(0,i.IIB)(),C("design:type",String)],Ue.prototype,"placeholder",void 0),w([(0,i.IIB)(),C("design:type",Number)],Ue.prototype,"maxlength",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ue.prototype,"valueChange",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ue.prototype,"inputFocus",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ue.prototype,"inputBlur",void 0),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],Ue.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],Ue.prototype,"onBlur",void 0),w([(0,i.i9L)("input",{static:!0}),C("design:type",i.SBq)],Ue.prototype,"input",void 0),w([(0,i.aQ5)(Wm,{static:!1}),C("design:type",Wm)],Ue.prototype,"suffixTemplate",void 0),w([(0,i.aQ5)(kp,{static:!1}),C("design:type",kp)],Ue.prototype,"prefixTemplate",void 0),w([(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],Ue.prototype,"disabledClass",null),w([(0,i.pfw)("class.k-textbox"),C("design:type",Boolean)],Ue.prototype,"hostClass",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],Ue.prototype,"direction",void 0),Ue=xp=w([C("design:paramtypes",[I,i.R0b,i.sBO,i.Qsj,i.zs3,i.SBq])],Ue);let Tp=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{clear:"clear"},features:[i.qOj]}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"clear",void 0),t})();var Km;let xl=Km=class extends Tp{constructor(n){super(),this.service=n}get override(){return!0}};var ev;xl.\u0275fac=function(n){return new(n||xl)(i.Y36(I))},xl.\u0275cmp=i.Xpm({type:xl,selectors:[["kendo-textbox-messages"]],features:[i._Bn([{provide:Tp,useExisting:(0,i.Gpc)(()=>Km)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),xl=Km=w([C("design:paramtypes",[I])],xl);let Er=ev=class extends Tp{constructor(n){super(),this.service=n}};Er.\u0275fac=function(n){return new(n||Er)(i.Y36(I))},Er.\u0275dir=i.lG2({type:Er,selectors:[["","kendoTextBoxLocalizedMessages",""]],features:[i._Bn([{provide:Tp,useExisting:(0,i.Gpc)(()=>ev)}]),i.qOj]}),Er=ev=w([C("design:paramtypes",[I])],Er);let lS=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),QO=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Kt,lS],Kt]}),t})(),XO=(()=>{class t{constructor(e,o,s,r,a,l){this.localizationService=e,this.ngZone=o,this.changeDetector=s,this.renderer=r,this.injector=a,this.hostElement=l,this.title="",this.disabled=!1,this.readonly=!1,this.value=null,this.selectOnFocus=!1,this.inputFocus=new i.vpe,this.inputBlur=new i.vpe,this.subscriptions=new Ie.w,this._isFocused=!1,this.focusChangedProgrammatically=!1,this.handleInputBlur=()=>{this.changeDetector.markForCheck(),(ne(this.inputBlur)||Ns(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.ngChange=d=>{},this.ngTouched=()=>{}}get disabledClass(){return this.disabled}ngOnDestroy(){this.subscriptions.unsubscribe()}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,viewQuery:function(e,o){if(1&e&&i.Gf(Rm,7),2&e){let s;i.iGM(s=i.CRH())&&(o.input=s.first)}},hostVars:3,hostBindings:function(e,o){2&e&&(i.uIk("dir",o.direction),i.ekj("k-state-disabled",o.disabledClass))},inputs:{title:"title",disabled:"disabled",readonly:"readonly",value:"value",selectOnFocus:"selectOnFocus",placeholder:"placeholder"},outputs:{inputFocus:"inputFocus",inputBlur:"inputBlur"}}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"title",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"selectOnFocus",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"placeholder",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],t.prototype,"inputFocus",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],t.prototype,"inputBlur",void 0),w([(0,i.i9L)("input",{static:!0}),C("design:type",i.SBq)],t.prototype,"input",void 0),w([(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],t.prototype,"disabledClass",null),w([(0,i.pfw)("attr.dir"),C("design:type",String)],t.prototype,"direction",void 0),t})();var Dp;const WO={vertical:"k-resize-vertical",horizontal:"k-resize-horizontal",both:"k-resize-both",none:"k-resize-none",auto:"k-resize-none"},cS="k-state-focus";let ei=Dp=class extends XO{constructor(n,e,o,s,r,a){super(n,e,o,s,r,a),this.localizationService=n,this.ngZone=e,this.changeDetector=o,this.renderer=s,this.injector=r,this.hostElement=a,this.focusableId=`k-${Ve()}`,this.hostClass=!0,this.flow="vertical",this.tabindex=0,this.resizable="vertical",this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.valueChange=new i.vpe,this.handleInput=l=>{this.updateValue(l.target.value),this.resize()},this.handleInputFocus=()=>{this.disabled||(this.selectOnFocus&&this.value&&this.ngZone.run(()=>{setTimeout(()=>{this.selectAll()})}),ne(this.onFocus)&&(this.isFocused||this.ngZone.run(()=>{this.onFocus.emit()})),ne(this.inputFocus)&&(this.focusChangedProgrammatically||this.ngZone.run(()=>{this.inputFocus.emit()})),this.ngZone.run(()=>{this.isFocused=!0}))},(0,lt.s)(Ls),this.direction=n.rtl?"rtl":"ltr"}get flowCol(){return"vertical"===this.flow}get flowRow(){return"horizontal"===this.flow}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}ngAfterViewInit(){const n=this.hostElement.nativeElement;let e=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(n,"focusin",()=>{this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0})})),this.subscriptions.add(this.renderer.listen(n,"focusout",s=>{!this.isFocused||(o?(Yw(s.relatedTarget,a=>a===this.hostElement.nativeElement)||this.handleBlur(),o=!1):e||this.handleBlur())})),this.subscriptions.add(this.renderer.listen(n,"mouseenter",()=>{e=!0})),this.subscriptions.add(this.renderer.listen(n,"mouseleave",()=>{e=!1})),this.subscriptions.add(this.renderer.listen(n,"keydown",s=>{o=s.keyCode===R.Tab}))})}ngOnInit(){this.control=this.injector.get(X.a5,null),W()&&"auto"===this.resizable&&(this.resizeSubscription=(0,mt.R)(window,"resize").pipe((0,Yu.b)(50)).subscribe(()=>this.resize())),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.subscriptions=this.localizationService.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr"})}ngOnChanges(n){const e=this.hostElement.nativeElement,o=this.input.nativeElement;n.resizable&&("auto"===this.resizable?this.initialHeight=o.offsetHeight:(this.renderer.setStyle(o,"overflow-y","auto"),this.renderer.setStyle(o,"resize","both"),o.style.height=`${this.initialHeight}px`)),n.cols&&(Pe(n.cols.currentValue)?this.renderer.setStyle(e,"width","auto"):this.renderer.removeStyle(e,"width"))}ngAfterViewChecked(){this.resize()}writeValue(n){this.value=n}registerOnChange(n){this.ngChange=n}registerOnTouched(n){this.ngTouched=n}updateValue(n){Cl(this.value,n)||this.ngZone.run(()=>{this.value=n,this.ngChange(n),this.valueChange.emit(n),this.changeDetector.markForCheck()})}ngOnDestroy(){super.ngOnDestroy(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}get resizableClass(){return WO[this.resizable]}focus(){!this.input||(this.focusChangedProgrammatically=!0,this.isFocused=!0,this.input.nativeElement.focus(),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0;const n=this.hostElement.nativeElement.querySelector(":focus");n&&n.blur(),this.isFocused=!1,this.focusChangedProgrammatically=!1}resize(){if("auto"!==this.resizable)return;const n=this.input.nativeElement;this.renderer.setStyle(n,"overflow-y","hidden"),this.renderer.setStyle(n,"height",`${this.initialHeight}px`);const e=n.scrollHeight;e>this.initialHeight&&(n.style.height=`${e}px`)}get isFocused(){return this._isFocused}set isFocused(n){if(this._isFocused!==n&&this.hostElement){const e=this.hostElement.nativeElement;n&&!this.disabled?this.renderer.addClass(e,cS):this.renderer.removeClass(e,cS),this._isFocused=n}}handleBlur(){this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onBlur.emit(),this.isFocused=!1})}setSelection(n,e){this.isFocused&&Cn(this.input,"setSelectionRange",n,e)}selectAll(){this.value&&this.setSelection(0,this.value.length)}};ei.\u0275fac=function(n){return new(n||ei)(i.Y36(I),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.zs3),i.Y36(i.SBq))},ei.\u0275cmp=i.Xpm({type:ei,selectors:[["kendo-textarea"]],hostVars:6,hostBindings:function(n,e){2&n&&i.ekj("k-textarea",e.hostClass)("k-flex-col",e.flowCol)("k-flex-row",e.flowRow)},inputs:{focusableId:"focusableId",flow:"flow",tabindex:"tabindex",resizable:"resizable",tabIndex:"tabIndex",rows:"rows",cols:"cols",maxlength:"maxlength"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoTextArea"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.textarea"},{provide:X.JU,useExisting:(0,i.Gpc)(()=>Dp),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>Dp)}]),i.qOj,i.TTD],ngContentSelectors:["kendo-textarea-suffix"],decls:4,vars:19,consts:[[1,"k-input",3,"ngClass","id","value","disabled","readonly","kendoEventsOutsideAngular"],["input",""]],template:function(n,e){1&n&&(i.F$t(w3),i.TgZ(0,"textarea",0,1),i._uU(2,"            "),i.qZA(),i.Hsn(3)),2&n&&(i.Q6J("ngClass",e.resizableClass)("id",e.focusableId)("value",e.value)("disabled",e.disabled)("readonly",e.readonly)("kendoEventsOutsideAngular",i.kEZ(15,Fw,e.handleInputFocus,e.handleInputBlur,e.handleInput)),i.uIk("aria-multiline",!0)("aria-disabled",!!e.disabled||void 0)("aria-readonly",!!e.readonly||void 0)("placeholder",e.placeholder)("rows",e.rows)("cols",e.cols)("tabindex",e.tabIndex)("title",e.title)("maxlength",e.maxlength))},directives:[x.mk,kt],encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],ei.prototype,"focusableId",void 0),w([(0,i.pfw)("class.k-textarea"),C("design:type",Boolean)],ei.prototype,"hostClass",void 0),w([(0,i.pfw)("class.k-flex-col"),C("design:type",Boolean),C("design:paramtypes",[])],ei.prototype,"flowCol",null),w([(0,i.pfw)("class.k-flex-row"),C("design:type",Boolean),C("design:paramtypes",[])],ei.prototype,"flowRow",null),w([(0,i.IIB)(),C("design:type",String)],ei.prototype,"flow",void 0),w([(0,i.IIB)(),C("design:type",Number)],ei.prototype,"rows",void 0),w([(0,i.IIB)(),C("design:type",Number)],ei.prototype,"cols",void 0),w([(0,i.IIB)(),C("design:type",Number)],ei.prototype,"maxlength",void 0),w([(0,i.IIB)(),C("design:type",Number)],ei.prototype,"tabindex",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],ei.prototype,"tabIndex",null),w([(0,i.IIB)(),C("design:type",String)],ei.prototype,"resizable",void 0),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],ei.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],ei.prototype,"onBlur",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],ei.prototype,"valueChange",void 0),ei=Dp=w([C("design:paramtypes",[I,i.R0b,i.sBO,i.Qsj,i.zs3,i.SBq])],ei);let KO=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Kt,lS],Kt]}),t})();class eR{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class tR{constructor(n){this.color=n,this.openPrevented=!1}preventOpen(){this.openPrevented=!0}isOpenPrevented(){return this.openPrevented}}const Hi=(t,n,e=!0)=>{if(-1===["hex","rgba","name"].indexOf(n))throw new Error(`Unsupported color output format '${n}'. The available options are 'hex', 'rgba' or 'name'.`);if(!Pe(t))return;if("name"===n)return function(t,n){if(t=t.toLowerCase().trim(),Pe(bl[t]))return t;bo(t,n)&&(t=bo(t,n).toHex());const e=Object.keys(bl).find(o=>bl[o]===t);if(!e&&!n)throw new Error(`The provided color ${t} is not supported for 'format="name"' property.To display ${t} color, the component 'format' property shoud be set to 'hex' or 'rgba' `);return e}(t,e);const s=bo(t.trim(),e);return Pe(s)?"hex"===n?s.toCss():s.toCssRgba():void 0},Tl=(t,n=!0)=>{const e=bo(t,n);return Pe(e)?e.toBytes():{}},Br=t=>{const n=Ei(t.h,0,359.9),e=Ei(t.s,0,1),o=Ei(t.v,0,1),s=Ei(t.a,0,1);return Tw.fromHSV(n,e,o,s).toCssRgba()},dS=t=>Br({h:t,s:1,v:1,a:1}),uS=(t,n)=>{const e=Ei(t.r,0,255),o=Ei(t.g,0,255),s=Ei(t.b,0,255),r=Ei(t.a,0,1),a=Ei(n.r,0,255),l=Ei(n.g,0,255),d=Ei(n.b,0,255);return{r:Math.round((1-r)*a+r*e),g:Math.round((1-r)*l+r*o),b:Math.round((1-r)*d+r*s)}},pS=t=>{let n=[t.r,t.g,t.b].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*n[0]+.7152*n[1]+.0722*n[2]},Pc={basic:{colors:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",columns:10},office:{colors:"ffffff, 000000, e6e6e6, 435569, 4371c4, ed7e32, a5a4a5, febf04, 5a9bd5, 71ae48, f2f2f3, 7f7f7f, d1cece, d5dde3, dae1f4, fce5d4, deeded, fff2cc, deeaf6, e1efd9, d7d8d8, 585959, aeabab, adbaca, b4c5e7, f6caac, dbdbdb, ffe498, bcd6ee, c5e0b2, bfbfc0, 3f3f3f, 767070, 8595b1, 8fabdb, f5b183, c9c8c9, fed965, 9bc4e5, a8d08d, a5a5a6, 262625, 393939, 334050, 2e5496, c45a11, 7b7b7a, bf9000, 2f75b5, 548235, 7f7f7f, 0b0c0c, 161616, 222a34, 203764, 843d0b, 525252, 7f6000, 1d4d79, 375623",columns:10},apex:{colors:"ffffff, 000000, c9c2d1, 69676d, ceb966, 9cb084, 6bb1c9, 6585cf, 7e6bc9, a379bb, f2f2f2, 7f7f7f, f4f2f5, e0e0e2, f5f1e0, ebefe6, e1eff4, e0e6f5, e5e1f4, ece4f1, d8d8d8, 595959, e9e6ec, c2c1c5, ebe3c1, d7dfcd, c3dfe9, c1ceeb, cbc3e9, dac9e3, bfbfbf, 3f3f3f, dedae3, a4a3a8, e1d5a3, c3cfb5, a6d0de, a2b5e2, b1a6de, c7aed6, a5a5a5, 262626, 9688a5, 4e4d51, ae9638, 758c5a, 3d8da9, 365bb0, 533da9, 7d4d99, 7f7f7f, 0c0c0c, 635672, 343336, 746425, 4e5d3c, 295e70, 243c75, 372970, 533366",columns:10},austin:{colors:"ffffff, 000000, caf278, 3e3d2d, 94c600, 71685a, ff6700, 909465, 956b43, fea022, f2f2f2, 7f7f7f, f4fce4, dddcd0, efffc0, e3e1dc, ffe0cb, e8e9df, ece1d6, feecd2, d8d8d8, 595959, e9f9c9, bbb9a1, dfff82, c8c3ba, ffc299, d2d4c0, dac3ad, fed9a6, bfbfbf, 3f3f3f, dff7ae, ada598, cfff43, ada598, ffa365, bcbfa1, c8a585, fec67a, a5a5a5, 262626, a9ea25, 2e2d21, 6f9400, 544e43, bf4d00, 6c6f4b, 6f5032, d77b00, 7f7f7f, 0c0c0c, 74a50f, 1f1e16, 4a6300, 38342d, 7f3300, 484a32, 4a3521, 8f5200",columns:10},clarity:{colors:"ffffff, 292934, f3f2dc, d2533c, 93a299, ad8f67, 726056, 4c5a6a, 808da0, 79463d, f2f2f2, e7e7ec, e7e5b9, f6dcd8, e9ecea, eee8e0, e4dedb, d8dde3, e5e8ec, e9d6d3, d8d8d8, c4c4d1, d5d185, edbab1, d3d9d6, ded2c2, c9beb8, b2bcc8, ccd1d9, d3aea7, bfbfbf, 8a8aa3, aca73b, e4978a, bec7c1, cdbba3, af9e94, 8c9bac, b2bac6, bd857c, a5a5a5, 56566e, 56531d, a43925, 6b7c72, 866b48, 554840, 39434f, 5c697b, 5a342d, 7f7f7f, 3b3b4b, 22210b, 6d2619, 47534c, 594730, 39302b, 262d35, 3d4652, 3c231e",columns:10},slipstream:{colors:"ffffff, 000000, b4dcfa, 212745, 4e67c8, 5eccf3, a7ea52, 5dceaf, ff8021, f14124, f2f2f2, 7f7f7f, 8bc9f7, c7cce4, dbe0f4, def4fc, edfadc, def5ef, ffe5d2, fcd9d3, d8d8d8, 595959, 4facf3, 909aca, b8c2e9, beeafa, dbf6b9, beebdf, ffcca6, f9b3a7, bfbfbf, 3f3f3f, 0d78c9, 5967af, 94a3de, 9ee0f7, caf297, 9de1cf, ffb279, f68d7b, a5a5a5, 262626, 063c64, 181d33, 31479f, 11b2eb, 81d319, 34ac8b, d85c00, c3260c, 7f7f7f, 0c0c0c, 021828, 101322, 202f6a, 0b769c, 568c11, 22725c, 903d00, 821908",columns:10},metro:{colors:"ffffff, 000000, d6ecff, 4e5b6f, 7fd13b, ea157a, feb80a, 00addc, 738ac8, 1ab39f, f2f2f2, 7f7f7f, a7d6ff, d9dde4, e5f5d7, fad0e4, fef0cd, c5f2ff, e2e7f4, c9f7f1, d8d8d8, 595959, 60b5ff, b3bcca, cbecb0, f6a1c9, fee29c, 8be6ff, c7d0e9, 94efe3, bfbfbf, 3f3f3f, 007dea, 8d9baf, b2e389, f272af, fed46b, 51d9ff, aab8de, 5fe7d5, a5a5a5, 262626, 003e75, 3a4453, 5ea226, af0f5b, c58c00, 0081a5, 425ea9, 138677, 7f7f7f, 0c0c0c, 00192e, 272d37, 3f6c19, 750a3d, 835d00, 00566e, 2c3f71, 0c594f",columns:10},flow:{colors:"ffffff, 000000, dbf5f9, 04617b, 0f6fc6, 009dd9, 0bd0d9, 10cf9b, 7cca62, a5c249, f2f2f2, 7f7f7f, b2e9f2, b4ecfc, c7e2fa, c4eeff, c9fafc, c9faed, e4f4df, edf2da, d8d8d8, 595959, 76d9e8, 6adafa, 90c6f6, 89deff, 93f5f9, 94f6db, cae9c0, dbe6b6, bfbfbf, 3f3f3f, 21b2c8, 20c8f7, 59a9f2, 4fceff, 5df0f6, 5ff2ca, b0dfa0, c9da91, a5a5a5, 262626, 105964, 02485c, 0b5394, 0075a2, 089ca2, 0b9b74, 54a838, 7e9532, 7f7f7f, 0c0c0c, 062328, 01303d, 073763, 004e6c, 05686c, 07674d, 387025, 546321",columns:10},hardcover:{colors:"ffffff, 000000, ece9c6, 895d1d, 873624, d6862d, d0be40, 877f6c, 972109, aeb795, f2f2f2, 7f7f7f, e1dca5, f2e0c6, f0d0c9, f6e6d5, f5f2d8, e7e5e1, fbc7bc, eef0e9, d8d8d8, 595959, d0c974, e6c28d, e2a293, eeceaa, ece5b2, cfccc3, f78f7a, dee2d4, bfbfbf, 3f3f3f, a29a36, daa454, d4735e, e6b681, e2d88c, b7b2a5, f35838, ced3bf, a5a5a5, 262626, 514d1b, 664515, 65281a, a2641f, a39428, 655f50, 711806, 879464, 7f7f7f, 0c0c0c, 201e0a, 442e0e, 431b11, 6c4315, 6d621a, 433f35, 4b1004, 5a6243",columns:10},trek:{colors:"ffffff, 000000, fbeec9, 4e3b30, f0a22e, a5644e, b58b80, c3986d, a19574, c17529, f2f2f2, 7f7f7f, f7e09e, e1d6cf, fcecd5, eddfda, f0e7e5, f3eae1, ece9e3, f5e3d1, d8d8d8, 595959, f3cc5f, c4ad9f, f9d9ab, dcc0b6, e1d0cc, e7d5c4, d9d4c7, ebc7a3, bfbfbf, 3f3f3f, d29f0f, a78470, f6c781, cba092, d2b9b2, dbc1a7, c6bfab, e1ac76, a5a5a5, 262626, 694f07, 3a2c24, c87d0e, 7b4b3a, 926255, a17242, 7b7153, 90571e, 7f7f7f, 0c0c0c, 2a1f03, 271d18, 855309, 523226, 614138, 6b4c2c, 524b37, 603a14",columns:10},verve:{colors:"ffffff, 000000, d2d2d2, 666666, ff388c, e40059, 9c007f, 68007f, 005bd3, 00349e, f2f2f2, 7f7f7f, bdbdbd, e0e0e0, ffd7e8, ffc6dc, ffb8f1, f1b2ff, c3dcff, b8cfff, d8d8d8, 595959, 9d9d9d, c1c1c1, ffafd1, ff8eba, ff71e4, e365ff, 87baff, 72a0ff, bfbfbf, 3f3f3f, 696969, a3a3a3, ff87ba, ff5597, ff2ad7, d519ff, 4b98ff, 2b71ff, a5a5a5, 262626, 343434, 4c4c4c, e90062, ab0042, 75005f, 4e005f, 00449e, 002676, 7f7f7f, 0c0c0c, 151515, 333333, 9b0041, 72002c, 4e003f, 34003f, 002d69, 00194f",columns:10},monochrome:{colors:"000000, 1a1a1a, 333333, 4d4d4d, 666666, 808080, 999999, b3b3b3, cccccc, e6e6e6, f2f2f2, ffffff",columns:12},accessible:{colors:"black, grey, darkred, red, darkorange, gold, green, blue, darkblue, purple, white, darkgrey, saddlebrown, pink, orange, yellow, lightgreen, lightskyblue, lightblue, mediumpurple",columns:10}};let Gs=(()=>{let t=class extends I{constructor(e,o,s){super(e,o,s)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Fe),i.LFG(Bs,8),i.LFG(Gi,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=w([xt(0,(0,i.tBr)(Fe)),xt(1,(0,i.FiY)()),xt(2,(0,i.FiY)()),xt(2,(0,i.tBr)(Gi)),C("design:paramtypes",[String,Bs,Boolean])],t),t})(),hS=(()=>{let t=class extends I{constructor(e,o,s,r){super(e,o,s),this.colorPickerLocalization=r}get(e){return this.colorPickerLocalization?this.colorPickerLocalization.get(e):super.get(e)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Fe),i.LFG(Bs,8),i.LFG(Gi,8),i.LFG(Gs,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=w([xt(0,(0,i.tBr)(Fe)),xt(1,(0,i.FiY)()),xt(2,(0,i.FiY)()),xt(2,(0,i.tBr)(Gi)),xt(3,(0,i.FiY)()),xt(3,(0,i.tBr)(Gs)),C("design:paramtypes",[String,Bs,Boolean,Gs])],t),t})(),tv=(()=>{let t=class{constructor(e,o,s){this.localization=e,this.host=o,this.renderer=s,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.valueChange=new i.vpe,this.colorInputClass=!0,this.rgba={},this.subscriptions=new Ie.w}get isFocused(){if(!W()||!Pe(this.host))return!1;const e=document.activeElement;return this.host.nativeElement.contains(e)}get rgbaInputValid(){return Object.keys(this.rgba).every(e=>Pe(this.rgba[e]))}ngAfterViewInit(){this.initDomEvents()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}ngOnChanges(e){Pe(e.value)&&!this.isFocused&&(this.hex=Hi(this.value,"hex"),this.rgba=Tl(this.value),this.rgba.a=Hi(this.value,"rgba")?this.rgba.a:1)}handleRgbaValueChange(){const e=(t=>{const n=Ei(t.r,0,255),e=Ei(t.g,0,255),o=Ei(t.b,0,255),s=Ei(t.a,0,1);return Tw.fromBytes(n,e,o,s).toCssRgba()})(this.rgba);!this.rgbaInputValid||e===this.value||(this.value=e,this.rgba=Tl(this.value),this.hex=Hi(e,"hex"),this.valueChange.emit(e))}handleHexValueChange(e){this.hex=e;const o=Hi(e,"rgba");!Pe(o)||o===this.value||(this.value=o,this.rgba=Tl(o),this.valueChange.emit(o))}handleRgbaInputBlur(){this.rgbaInputValid||(this.rgba=Tl(this.value))}handleHexInputBlur(){this.hex=Hi(this.value,"hex")}textFor(e){return this.localization.get(e)}toggleFormatView(){this.formatView="hex"===this.formatView?"rgba":"hex"}initDomEvents(){!this.host||this.subscriptions.add(this.renderer.listen(this.toggleFormatButton.nativeElement,"click",()=>this.toggleFormatView()))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-colorinput"]],viewQuery:function(e,o){if(1&e&&(i.Gf(I3,5,i.SBq),i.Gf(k3,5)),2&e){let s;i.iGM(s=i.CRH())&&(o.opacityInput=s.first),i.iGM(s=i.CRH())&&(o.toggleFormatButton=s.first)}},hostVars:4,hostBindings:function(e,o){2&e&&i.ekj("k-colorgradient-inputs",o.colorInputClass)("k-hstack",o.colorInputClass)},inputs:{opacity:"opacity",disabled:"disabled",readonly:"readonly",value:"value",formatView:"formatView"},outputs:{valueChange:"valueChange"},features:[i.TTD],decls:6,vars:2,consts:[[1,"k-vstack"],[1,"k-colorgradient-toggle-mode","k-button","k-icon-button","k-flat"],["toggleFormatButton",""],[1,"k-button-icon","k-icon","k-i-arrows-kpi"],["class","k-textbox k-hex-value",3,"disabled","readonly","value","placeholder","blur","input",4,"ngIf"],[4,"ngIf"],[1,"k-textbox","k-hex-value",3,"disabled","readonly","value","placeholder","blur","input"],["hexInput",""],[3,"disabled","readonly","min","max","placeholder","value","autoCorrect","spinners","format","decimals","valueChange","blur"],["red",""],[1,"k-colorgradient-input-label",3,"for"],["green",""],["blue",""],["class","k-vstack",4,"ngIf"],[3,"disabled","readonly","min","max","placeholder","value","autoCorrect","spinners","step","format","decimals","valueChange","blur"],["opacityInput","","alpha",""]],template:function(e,o){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"button",1,2),i._UZ(3,"span",3),i.qZA(),i.qZA(),i.YNc(4,x3,2,4,"input",4),i.YNc(5,D3,17,34,"ng-container",5)),2&e&&(i.xp6(4),i.Q6J("ngIf","hex"===o.formatView),i.xp6(1),i.Q6J("ngIf","rgba"===o.formatView))},directives:[x.O5,Ne],encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"formatView",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"opacity",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"readonly",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],t.prototype,"valueChange",void 0),w([(0,i.pfw)("class.k-colorgradient-inputs"),(0,i.pfw)("class.k-hstack"),C("design:type",Boolean)],t.prototype,"colorInputClass",void 0),w([(0,i.i9L)("opacityInput",{read:i.SBq,static:!1}),C("design:type",i.SBq)],t.prototype,"opacityInput",void 0),w([(0,i.i9L)("toggleFormatButton",{static:!1}),C("design:type",i.SBq)],t.prototype,"toggleFormatButton",void 0),t=w([C("design:paramtypes",[I,i.SBq,i.Qsj])],t),t})();var Ep;let uR=0,ot=Ep=class{constructor(n,e,o,s,r){this.host=n,this.ngZone=e,this.renderer=o,this.cdr=s,this.localizationService=r,this.hostClasses=!0,this.id="k-colorgradient-"+uR++,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.clearButton=!1,this.delay=0,this.valueChange=new i.vpe,this.backgroundColor="rgba(255, 0, 0, 1)",this.hsva={},this.format="rgba",this._tabindex=0,this.listeners=[],this.updateValues=new Ze.xQ,this.notifyNgChanged=()=>{},this.notifyNgTouched=()=>{},this.dynamicRTLSubscription=r.changes.subscribe(({rtl:a})=>{this.direction=a?"rtl":"ltr"})}get readonlyAttribute(){return this.readonly}get disabledClass(){return this.disabled}get hostTabindex(){return this.tabindex}get gradientId(){return this.id}set value(n){this._value=Hi(n,this.format)}get value(){return this._value}set tabindex(n){const e=Number(n);this._tabindex=isNaN(e)?0:e}get tabindex(){return this.disabled?void 0:this._tabindex}get isFocused(){return!(!W()||!Pe(this.host))&&(this.host.nativeElement===document.activeElement||this.host.nativeElement.contains(document.activeElement))}get alphaSliderValue(){if(Pe(this.hsva)&&Pe(this.hsva.a))return 100*this.hsva.a}get gradientRect(){return this.gradientWrapper.nativeElement.getBoundingClientRect()}get contrastToolVisible(){return"string"==typeof this.contrastTool&&""!==this.contrastTool}ngAfterViewInit(){this.updateUI(),this.cdr.detectChanges(),this.addEventListeners(),this.subscribeChanges()}ngOnChanges(n){ht("value",n)&&!this.isFocused&&this.updateUI(),ht("delay",n)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.listeners.forEach(n=>n()),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.unsubscribeChanges()}focus(){this.disabled||this.host.nativeElement.focus()}reset(){this.handleValueChange(void 0),this.updateUI(),this.host.nativeElement.focus()}handleDragPress(n){this.disabled||this.readonly||!Pe(n.originalEvent)||(this.focus(),n.originalEvent.preventDefault())}onHandleDrag(n){this.disabled||this.readonly||(this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging"),this.changePosition(n))}onHandleRelease(){this.disabled||this.readonly||(this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging"),this.handleValueChange(Br(this.hsva)))}onKeyboardAction(n){if(!this.disabled&&!this.readonly&&n.key&&-1!==n.key.indexOf("Arrow")){n.preventDefault();const e=this.gradientDragHandle.nativeElement;this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging");let o=0,s=0;switch(n.key){case"ArrowRight":o=5;break;case"ArrowLeft":o=-5;break;case"ArrowUp":s=-5;break;case"ArrowDown":s=5}const r=parseInt(e.style.top,10)+s,a=parseInt(e.style.left,10)+o;this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${a}px`),this.ngZone.run(()=>this.moveDragHandle(a,r))}}changePosition(n){if(this.disabled||this.readonly)return;this.gradientDragHandle.nativeElement.focus();const e=n.clientX-this.gradientRect.left,o=n.clientY-this.gradientRect.top;this.ngZone.run(()=>this.moveDragHandle(e,o))}handleHueSliderChange(n){this.handleValueChange(Br(this.hsva)),this.backgroundColor=dS(n),this.setAlphaSliderBackground(this.backgroundColor)}handleAlphaSliderChange(n){this.hsva.a=n/100,this.handleValueChange(Br(this.hsva))}handleInputsValueChange(n){const e=Hi(n,this.format);this.value!==e&&(this.handleValueChange(e),this.updateUI())}writeValue(n){this.value=n,Pe(this.gradientWrapper)&&this.updateUI()}registerOnChange(n){this.notifyNgChanged=n}registerOnTouched(n){this.notifyNgTouched=n}setDisabledState(n){this.cdr.markForCheck(),this.disabled=n}get colorGradientHandleTitle(){return this.localizationService.get("colorGradientHandle")}get colorGradientHandleAriaLabel(){const n=Hi(this.value,this.format);return`${this.value?n:this.localizationService.get("colorGradientHandle")}`}get hueSliderTitle(){return this.localizationService.get("hueSliderHandle")}get opacitySliderTitle(){return this.localizationService.get("opacitySliderHandle")}get clearButtonTitle(){return this.localizationService.get("clearButton")}isEmpty(){return!1}moveDragHandle(n,e){const o=Ei(e,0,this.gradientRect.height),s=Ei(n,0,this.gradientRect.width);this.setDragHandleElementPosition(o,s),this.hsva.s=s/this.gradientRect.width,this.hsva.v=1-o/this.gradientRect.height,this.updateValues.next(Br(this.hsva)),this.setAlphaSliderBackground(Br(Object.assign({},this.hsva,{a:1})))}updateUI(){W()&&(this.hsva=this.value?((t,n=!0)=>{const e=bo(this.value,n);return Pe(e)?e.toHSV():{}})():{h:0,s:0,v:1,a:1},this.setDragHandleElementPosition((1-this.hsva.v)*this.gradientRect.height,this.hsva.s*this.gradientRect.width),this.backgroundColor=dS(this.hsva.h),this.setAlphaSliderBackground(this.backgroundColor),this.setHostElementAriaLabel())}handleValueChange(n){this.value!==n&&(this.value=n,this.valueChange.emit(n),this.notifyNgChanged(n),this.setHostElementAriaLabel())}setDragHandleElementPosition(n,e){const o=this.gradientDragHandle.nativeElement;this.renderer.setStyle(o,"top",`${n}px`),this.renderer.setStyle(o,"left",`${e}px`)}setAlphaSliderBackground(n){Pe(this.alphaSlider)&&this.renderer.setStyle(this.alphaSlider.track.nativeElement,"background",`linear-gradient(to top, transparent, ${n})`)}setHostElementAriaLabel(){const n=Hi(this.value,this.format);this.renderer.setAttribute(this.host.nativeElement,"aria-label",`${this.value?n:this.localizationService.get("colorGradientNoColor")}`)}addEventListeners(){this.ngZone.runOutsideAngular(()=>{const n=this.renderer.listen(this.host.nativeElement,"focusout",a=>{!((t,n)=>t&&n&&(t===n||t.contains(n)))(this.host.nativeElement,a.relatedTarget)&&(t=>t&&t.nativeElement&&((t,n)=>Boolean((t=>String(t).trim().split(" "))(t.className).find(e=>e===n)))(t.nativeElement,"ng-untouched"))(this.host)&&this.ngZone.run(()=>this.notifyNgTouched())}),e=this.renderer.listen(this.gradientDragHandle.nativeElement,"keydown",a=>{this.onKeyboardAction(a)}),o=this.renderer.listen(this.gradientDragHandle.nativeElement,"keyup",()=>{this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging"),!this.readonly&&!this.disabled&&this.ngZone.run(()=>this.handleValueChange(Br(this.hsva)))}),s=this.renderer.listen(this.gradientDragHandle.nativeElement,"focusin",()=>{this.renderer.addClass(this.gradientDragHandle.nativeElement,"k-state-focus")}),r=this.renderer.listen(this.gradientDragHandle.nativeElement,"focusout",()=>{this.renderer.removeClass(this.gradientDragHandle.nativeElement,"k-state-focus")});this.listeners.push(n,e,o,s,r)})}subscribeChanges(){this.changeRequestsSubscription=this.updateValues.pipe(Wg(this.delay)).subscribe(n=>{this.handleValueChange(n)})}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}};var Bp;ot.\u0275fac=function(n){return new(n||ot)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(I))},ot.\u0275cmp=i.Xpm({type:ot,selectors:[["kendo-colorgradient"]],viewQuery:function(n,e){if(1&n&&(i.Gf(M3,5,i.SBq),i.Gf(E3,5),i.Gf(B3,5),i.Gf(F3,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.gradientDragHandle=o.first),i.iGM(o=i.CRH())&&(e.inputs=o.first),i.iGM(o=i.CRH())&&(e.alphaSlider=o.first),i.iGM(o=i.CRH())&&(e.gradientWrapper=o.first)}},hostVars:8,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction)("aria-readonly",e.readonlyAttribute)("tabindex",e.hostTabindex)("id",e.gradientId),i.ekj("k-colorgradient",e.hostClasses)("k-state-disabled",e.disabledClass))},inputs:{id:"id",opacity:"opacity",disabled:"disabled",readonly:"readonly",clearButton:"clearButton",delay:"delay",format:"format",value:"value",tabindex:"tabindex",contrastTool:"contrastTool"},outputs:{valueChange:"valueChange"},features:[i._Bn([{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Ep)},{provide:qe,useExisting:(0,i.Gpc)(()=>Ep)},hS,{provide:I,useExisting:hS},{provide:Fe,useValue:"kendo.colorgradient"}]),i.TTD],decls:14,vars:29,consts:function(){let t,n,e,o,s,r,a,l,d,c,p,m,f;return t=$localize`:kendo.colorgradient.colorGradientNoColor|The aria-label applied to the ColorGradient component when the value is empty.␟136a6a537523c480df0e58c17cc6d4c2dda8e626␟3796155240301823948:Colorgradient no color chosen`,n=$localize`:kendo.colorgradient.colorGradientHandle|The title for the gradient color drag handle chooser.␟462ab46551fd64dca63ba38254e46a52aeb05205␟8537406358423916512:Choose color`,e=$localize`:kendo.colorgradient.clearButton|The title for the clear button.␟6dc40c4a4ff302d1fe29e7bf9eadf1440b4654cf␟7605097752673642325:Clear value`,o=$localize`:kendo.colorgradient.hueSliderHandle|The title for the hue slider handle.␟22a98afddf46223dce8a3e122f4fe84ca76488b9␟8568799441668530127:Set hue`,s=$localize`:kendo.colorgradient.opacitySliderHandle|The title for the opacity slider handle.␟ad3087c7bf139a41bf6a7fc454f4e857492c9d22␟2665102430468067218:Set opacity`,r=$localize`:kendo.colorgradient.hexInputPlaceholder|The placeholder for the HEX color input.␟0223abe5dc060383b58df6d9f83dc98b08ba8e2b␟1551996638068326100:HEX Color`,a=$localize`:kendo.colorgradient.redInputPlaceholder|The placeholder for the red color input.␟ec8e6ab816ff2b3686ad6594068d26e3c72e49d3␟865798719701025148:Red`,l=$localize`:kendo.colorgradient.greenInputPlaceholder|The placeholder for the green color input.␟50e5480cded07f92356e43143800db6b44dce024␟7119549617208224702:Green`,d=$localize`:kendo.colorgradient.blueInputPlaceholder|The placeholder for the blue color input.␟f07b6e271e4cb957c512029298715c8f4970eca8␟8925567330503382499:Blue`,c=$localize`:kendo.colorgradient.alphaInputPlaceholder|The placeholder for the alpha input.␟122a5434fa0f1ee3ef735e859c1db1606542c995␟6303797935938211585:Alpha`,p=$localize`:kendo.colorgradient.passContrast|The pass message for the contrast tool.␟ec167f04d318f2b1f1edbca6318a74fddf436c76␟200461871469242251:Pass`,m=$localize`:kendo.colorgradient.failContrast|The fail message for the contrast tool.␟79015428999551ebe50f69bb5a1ebd31de4c3bdf␟2780397365913372676:Fail`,f=$localize`:kendo.colorgradient.contrastRatio|The contrast ratio message for the contrast tool.␟408650dd85473f406520edd1d60c8df0c475a8fa␟713630549826115578:Contrast ratio`,[["kendoColorGradientLocalizedMessages","","colorGradientNoColor",t,"colorGradientHandle",n,"clearButton",e,"hueSliderHandle",o,"opacitySliderHandle",s,"hexInputPlaceholder",r,"redInputPlaceholder",a,"greenInputPlaceholder",l,"blueInputPlaceholder",d,"alphaInputPlaceholder",c,"passContrast",p,"failContrast",m,"contrastRatio",f],[1,"k-colorgradient-canvas","k-hstack"],[1,"k-hsv-rectangle"],["kendoDraggable","",1,"k-hsv-gradient",3,"click","kendoPress","kendoDrag","kendoRelease"],["gradientWrapper",""],["tabindex","0",1,"k-hsv-draghandle","k-draghandle"],["gradientDragHandle",""],["class","k-clear-color k-button k-flat k-button-icon","tabindex","0",3,"click","keydown.enter","keydown.space",4,"ngIf"],[1,"k-hue-slider","k-colorgradient-slider",3,"ngClass","dragHandleTitle","disabled","readonly","showButtons","tickPlacement","vertical","min","max","smallStep","largeStep","value","valueChange"],["class","k-alpha-slider k-colorgradient-slider",3,"ngClass","dragHandleTitle","disabled","readonly","showButtons","tickPlacement","vertical","min","max","smallStep","largeStep","value","valueChange",4,"ngIf"],[3,"opacity","formatView","value","disabled","readonly","valueChange"],["inputs",""],["class","k-colorgradient-color-contrast k-vbox","kendoContrastTool","",3,"value","ratio",4,"ngIf"],["tabindex","0",1,"k-clear-color","k-button","k-flat","k-button-icon",3,"click","keydown.enter","keydown.space"],[1,"k-icon","k-i-reset-color"],[1,"k-alpha-slider","k-colorgradient-slider",3,"ngClass","dragHandleTitle","disabled","readonly","showButtons","tickPlacement","vertical","min","max","smallStep","largeStep","value","valueChange"],["alphaSlider",""],["kendoContrastTool","",1,"k-colorgradient-color-contrast","k-vbox",3,"value","ratio"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3,4),i.NdJ("click",function(s){return e.changePosition(s)})("kendoPress",function(s){return e.handleDragPress(s)})("kendoDrag",function(s){return e.onHandleDrag(s)})("kendoRelease",function(){return e.onHandleRelease()}),i._UZ(5,"div",5,6),i.qZA(),i.qZA(),i.TgZ(7,"div"),i.YNc(8,O3,2,2,"span",7),i.TgZ(9,"kendo-slider",8),i.NdJ("valueChange",function(s){return e.hsva.h=s})("valueChange",function(s){return e.handleHueSliderChange(s)}),i.qZA(),i.YNc(10,R3,2,14,"kendo-slider",9),i.qZA(),i.qZA(),i.TgZ(11,"kendo-colorinput",10,11),i.NdJ("valueChange",function(s){return e.handleInputsValueChange(s)}),i.qZA(),i.YNc(13,A3,1,2,"div",12)),2&n&&(i.xp6(2),i.Udp("background",e.backgroundColor),i.xp6(3),i.uIk("title",e.colorGradientHandleTitle)("aria-label",e.colorGradientHandleAriaLabel),i.xp6(2),i.Gre("k-hsv-controls k-hstack ",e.clearButton?"k-sliders-wrap-clearable":"",""),i.xp6(1),i.Q6J("ngIf",e.clearButton),i.xp6(1),i.Q6J("ngClass",i.VKq(27,Ow,e.clearButton))("dragHandleTitle",e.hueSliderTitle)("disabled",e.disabled)("readonly",e.readonly)("showButtons",!1)("tickPlacement","none")("vertical",!0)("min",0)("max",360)("smallStep",5)("largeStep",10)("value",e.hsva.h),i.xp6(1),i.Q6J("ngIf",e.opacity&&"rgba"===e.format),i.xp6(1),i.Q6J("opacity",e.opacity)("formatView",e.format)("value",e.value)("disabled",e.disabled)("readonly",e.readonly),i.xp6(2),i.Q6J("ngIf",e.contrastToolVisible))},directives:function(){return[Co,Pn,x.O5,li,x.mk,tv,yS]},styles:[".k-clear-color[_ngcontent-%COMP%] {\n            position: absolute;\n            left: 50%;\n            transform: translateX(-50%);\n        }\n        .k-align-self-end[_ngcontent-%COMP%] {\n            height: 140px;\n        }"]}),w([(0,i.pfw)("class.k-colorgradient"),C("design:type",Boolean)],ot.prototype,"hostClasses",void 0),w([(0,i.pfw)("attr.aria-readonly"),C("design:type",Boolean),C("design:paramtypes",[])],ot.prototype,"readonlyAttribute",null),w([(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],ot.prototype,"disabledClass",null),w([(0,i.pfw)("attr.tabindex"),C("design:type",Number),C("design:paramtypes",[])],ot.prototype,"hostTabindex",null),w([(0,i.pfw)("attr.id"),C("design:type",String),C("design:paramtypes",[])],ot.prototype,"gradientId",null),w([(0,i.IIB)(),C("design:type",String)],ot.prototype,"id",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],ot.prototype,"direction",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ot.prototype,"opacity",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ot.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ot.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ot.prototype,"clearButton",void 0),w([(0,i.IIB)(),C("design:type",Number)],ot.prototype,"delay",void 0),w([(0,i.IIB)(),C("design:type",String),C("design:paramtypes",[String])],ot.prototype,"value",null),w([(0,i.IIB)(),C("design:type",String)],ot.prototype,"contrastTool",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],ot.prototype,"tabindex",null),w([(0,i.r_U)(),C("design:type",i.vpe)],ot.prototype,"valueChange",void 0),w([(0,i.IIB)(),C("design:type",String)],ot.prototype,"format",void 0),w([(0,i.i9L)("gradientDragHandle",{read:i.SBq,static:!1}),C("design:type",i.SBq)],ot.prototype,"gradientDragHandle",void 0),w([(0,i.i9L)("inputs",{static:!1}),C("design:type",tv)],ot.prototype,"inputs",void 0),w([(0,i.i9L)("alphaSlider",{static:!1}),C("design:type",li)],ot.prototype,"alphaSlider",void 0),w([(0,i.i9L)("gradientWrapper",{static:!1}),C("design:type",i.SBq)],ot.prototype,"gradientWrapper",void 0),ot=Ep=w([C("design:paramtypes",[i.SBq,i.R0b,i.Qsj,i.sBO,I])],ot);let fR=0,Ke=Bp=class{constructor(n,e,o,s){this.popupService=n,this.cdr=e,this.localizationService=o,this.ngZone=s,this.hostClasses=!0,this.focusableId="k-colorpicker-"+fR++,this.view="gradient",this.readonly=!1,this.disabled=!1,this.format="rgba",this.valueChange=new i.vpe,this.open=new i.vpe,this.close=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.activeColorClick=new i.vpe,this._tabindex=0,this._popupSettings={animate:!0},this._paletteSettings={},this._gradientSettings={opacity:!0,clearButton:!1,delay:0},this.notifyNgTouched=()=>{},this.notifyNgChanged=()=>{},(0,lt.s)(Ls),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:r})=>{this.direction=r?"rtl":"ltr"})}set value(n){this._value=Hi(n,this.format)}get value(){return this._value}set popupSettings(n){this._popupSettings=Object.assign(this._popupSettings,n)}get popupSettings(){return this._popupSettings}set paletteSettings(n){this._paletteSettings=Object.assign(this._paletteSettings,n)}get paletteSettings(){return this._paletteSettings}set gradientSettings(n){this._gradientSettings=Object.assign(this._gradientSettings,n)}get gradientSettings(){return this._gradientSettings}set tabindex(n){const e=Number(n);this._tabindex=isNaN(e)?0:e}get tabindex(){return this.disabled?void 0:this._tabindex}get isOpen(){return Pe(this.popupRef)}get iconStyles(){return this.iconClass?this.iconClass:this.icon?`k-icon k-i-${this.icon}`:void 0}ngOnInit(){const e=this._paletteSettings.palette;this._paletteSettings={palette:e||("name"!==this.format?"office":"accessible"),tileSize:this._paletteSettings.tileSize||24,columns:this._paletteSettings.columns||("string"==typeof e&&Pc[e]?Pc[e].columns:void 0)||10}}ngOnChanges(n){n.format&&"name"===n.format.currentValue&&(this.view="palette"),"gradient"===this.view&&this.gradientSettings.opacity&&(this.format="rgba",this.value=Hi(this.value,this.format))}ngOnDestroy(){this.closePopup(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}handleWrapperClick(){this.toggleWithEvents(!this.isOpen),this.focus()}handleActiveColorClick(){this.focus();const n=new tR(this.value);this.activeColorClick.emit(n),(!n.isOpenPrevented()||this.isOpen)&&this.handleWrapperClick()}focus(){this.disabled||this.wrapper.nativeElement.focus()}handleWrapperFocus(){Pe(this.palette)&&this.palette.nativeElement.focus(),!this.isFocused&&(this.isFocused=!0,this.onFocus.emit())}blur(){this.wrapper.nativeElement.blur()}handleWrapperBlur(){this.isOpen||(this.isFocused=!1,this.onBlur.emit(),this.notifyNgTouched())}reset(){!Pe(this.value)||(this._value=void 0,this.notifyNgChanged(void 0))}toggle(n){this.disabled||this.readonly||(this.closePopup(),(n=Pe(n)?n:!this.isOpen)&&this.openPopup())}handleValueChange(n,e){const o=Hi(n,this.format),s=o!==this.value;e&&(this.toggleWithEvents(!1),this.focus()),s&&(this.value=o,this.valueChange.emit(o),this.notifyNgChanged(o))}handlePopupBlur(n){const e=this.popupRef.popupElement.contains(n.relatedTarget);!this.isFocused||n.relatedTarget===this.wrapper.nativeElement||e||(this.isFocused=!1,this.onBlur.emit(),this.notifyNgTouched(),this.toggleWithEvents(!1))}writeValue(n){this.value=n}registerOnChange(n){this.notifyNgChanged=n}registerOnTouched(n){this.notifyNgTouched=n}setDisabledState(n){this.cdr.markForCheck(),this.disabled=n}handleWrapperKeyDown(n){(n.keyCode===R.ArrowDown||n.keyCode===R.Enter)&&(n.preventDefault(),this.toggleWithEvents(!0))}handlePopupKeyDown(n){if(n.keyCode===R.Escape&&(this.toggleWithEvents(!1),this.wrapper.nativeElement.focus()),n.keyCode===R.Tab){const e=this.colorGradient?this.colorGradient.gradientDragHandle.nativeElement:this.palette.nativeElement,o=this.palette?this.palette.nativeElement:this.colorGradient.inputs.opacityInput.nativeElement.childNodes[1].children[0];if(n.shiftKey){if(n.target===e)return n.preventDefault(),void o.focus()}else if(n.target===o)return n.preventDefault(),void e.focus()}}isEmpty(){return!1}toggleWithEvents(n){if(this.disabled||this.readonly||this.isOpen===n)return;const o=new eR;n?this.open.emit(o):this.close.emit(o),o.isDefaultPrevented()||this.toggle(n),n&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.colorGradient&&this.colorGradient.gradientDragHandle.nativeElement.focus()})})}openPopup(){const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.popupSettings.appendTo,popupAlign:{horizontal:n,vertical:"top"},anchorAlign:{horizontal:n,vertical:"bottom"},popupClass:"k-colorpicker-popup",content:this.popupTemplate,positionMode:"absolute"}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.toggleWithEvents(!1),this.isOpen||this.wrapper.nativeElement.focus({preventScroll:!0})})}closePopup(){!this.isOpen||(this.popupRef.close(),this.popupRef=null,this.palette=null)}};Ke.\u0275fac=function(n){return new(n||Ke)(i.Y36($e),i.Y36(i.sBO),i.Y36(I),i.Y36(i.R0b))},Ke.\u0275cmp=i.Xpm({type:Ke,selectors:[["kendo-colorpicker"]],viewQuery:function(n,e){if(1&n&&(i.Gf(N3,5,i.SBq),i.Gf(L3,7,i.s_b),i.Gf(Ew,7),i.Gf(P3,7),i.Gf(z3,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.palette=o.first),i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.colorGradient=o.first)}},hostVars:5,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction),i.ekj("k-widget",e.hostClasses)("k-colorpicker",e.hostClasses))},inputs:{focusableId:"focusableId",view:"view",readonly:"readonly",disabled:"disabled",format:"format",value:"value",popupSettings:"popupSettings",paletteSettings:"paletteSettings",gradientSettings:"gradientSettings",tabindex:"tabindex",icon:"icon",iconClass:"iconClass"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur",activeColorClick:"activeColorClick"},features:[i._Bn([{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Bp)},{provide:qe,useExisting:(0,i.Gpc)(()=>Bp)},Gs,{provide:I,useExisting:Gs},{provide:Fe,useValue:"kendo.colorpicker"}]),i.TTD],decls:11,vars:12,consts:function(){let t,n,e,o,s,r,a,l,d;return t=$localize`:kendo.colorpicker.colorGradientHandle|The title for the gradient color drag handle chooser.␟8d537502a437254763c963398484bd362820af61␟8067778471922495440:Choose color`,n=$localize`:kendo.colorpicker.clearButton|The title for the clear button.␟aae9caf1dbc689cd51ace5c265cbf45552a580b6␟935472034136733879:Clear value`,e=$localize`:kendo.colorpicker.hueSliderHandle|The title for the hue slider handle.␟7af8ad339d09d41bfa8fa5f4e44d16e326cafd54␟1739045502529621844:Set hue`,o=$localize`:kendo.colorpicker.opacitySliderHandle|The title for the opacity slider handle.␟21883ee2927bd4cde8071c9cbec41901a0bc4bd2␟1818720388700598438:Set opacity`,s=$localize`:kendo.colorpicker.hexInputPlaceholder|The placeholder for the HEX color input.␟88c518588be223639d20666430d42b88990166c9␟67581802130075115:HEX Color`,r=$localize`:kendo.colorpicker.redInputPlaceholder|The placeholder for the red color input.␟60f46a6db83b89c15885de76451bb26478637d2c␟1242921922786989001:Red`,a=$localize`:kendo.colorpicker.greenInputPlaceholder|The placeholder for the green color input.␟0c1eef35af82330d89cacecb2aa482d9da1e3a4b␟564969508273982379:Green`,l=$localize`:kendo.colorpicker.blueInputPlaceholder|The placeholder for the blue color input.␟c8f1ad22547f56cec39eb563a9a1bfe5a85cc14a␟2815824305218491249:Blue`,d=$localize`:kendo.colorpicker.alphaInputPlaceholder|The placeholder for the alpha input.␟4e4aed4804d59e87f4f96959d0113c5ca292d98c␟7522085117867122625:Alpha`,[["kendoColorPickerLocalizedMessages","","colorGradientNoColor","Colorgradient no color chosen","colorPaletteNoColor","Colorpalette no color chosen","colorGradientHandle",t,"clearButton",n,"hueSliderHandle",e,"opacitySliderHandle",o,"hexInputPlaceholder",s,"redInputPlaceholder",r,"greenInputPlaceholder",a,"blueInputPlaceholder",l,"alphaInputPlaceholder",d],["role","listbox",3,"ngClass","id","focus","blur","mousedown","keydown"],["wrapper",""],["class","k-selected-color",3,"background-color","click",4,"ngIf"],["class","k-tool-icon",3,"ngClass","click",4,"ngIf"],[1,"k-select",3,"click"],[1,"k-icon","k-i-arrow-s"],["popupTemplate",""],["container",""],[1,"k-selected-color",3,"click"],["class","k-icon k-i-line",4,"ngIf"],[1,"k-icon","k-i-line"],[1,"k-tool-icon",3,"ngClass","click"],[1,"k-selected-color"],[3,"value","format","opacity","clearButton","delay","focusout","valueChange","keydown",4,"ngIf"],["kendoFocusOnDomReady","",3,"palette","columns","tileSize","format","value","blur","cellSelection","mousedown","keydown",4,"ngIf"],[3,"value","format","opacity","clearButton","delay","focusout","valueChange","keydown"],["colorGradient",""],["kendoFocusOnDomReady","",3,"palette","columns","tileSize","format","value","blur","cellSelection","mousedown","keydown"],["palette",""]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.NdJ("focus",function(){return e.handleWrapperFocus()})("blur",function(){return e.handleWrapperBlur()})("mousedown",function(s){return s.preventDefault()})("keydown",function(s){return e.handleWrapperKeyDown(s)}),i.YNc(3,V3,2,3,"span",3),i.YNc(4,H3,2,3,"span",4),i.TgZ(5,"span",5),i.NdJ("click",function(){return e.handleWrapperClick()}),i._UZ(6,"span",6),i.qZA(),i.qZA(),i.YNc(7,J3,2,2,"ng-template",null,7,i.W1O),i.GkF(9,null,8)),2&n&&(i.xp6(1),i.Q6J("ngClass",i.WLB(9,j3,e.disabled,e.isFocused))("id",e.focusableId),i.uIk("aria-expanded",e.isOpen)("aria-readonly",e.readonly)("aria-disabled",e.disabled)("aria-label",e.value)("tabindex",e.tabindex),i.xp6(2),i.Q6J("ngIf",!e.iconStyles),i.xp6(1),i.Q6J("ngIf",e.iconStyles))},directives:function(){return[Co,x.mk,x.O5,ot,ft,vS]},encapsulation:2}),w([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-colorpicker"),C("design:type",Boolean)],Ke.prototype,"hostClasses",void 0),w([(0,i.pfw)("attr.dir"),C("design:type",String)],Ke.prototype,"direction",void 0),w([(0,i.IIB)(),C("design:type",String)],Ke.prototype,"focusableId",void 0),w([(0,i.IIB)(),C("design:type",String)],Ke.prototype,"view",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ke.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],Ke.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",String)],Ke.prototype,"format",void 0),w([(0,i.IIB)(),C("design:type",String),C("design:paramtypes",[String])],Ke.prototype,"value",null),w([(0,i.IIB)(),C("design:type",Object),C("design:paramtypes",[Object])],Ke.prototype,"popupSettings",null),w([(0,i.IIB)(),C("design:type",Object),C("design:paramtypes",[Object])],Ke.prototype,"paletteSettings",null),w([(0,i.IIB)(),C("design:type",Object),C("design:paramtypes",[Object])],Ke.prototype,"gradientSettings",null),w([(0,i.IIB)(),C("design:type",String)],Ke.prototype,"icon",void 0),w([(0,i.IIB)(),C("design:type",Object)],Ke.prototype,"iconClass",void 0),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],Ke.prototype,"tabindex",null),w([(0,i.r_U)(),C("design:type",i.vpe)],Ke.prototype,"valueChange",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ke.prototype,"open",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ke.prototype,"close",void 0),w([(0,i.r_U)("focus"),C("design:type",i.vpe)],Ke.prototype,"onFocus",void 0),w([(0,i.r_U)("blur"),C("design:type",i.vpe)],Ke.prototype,"onBlur",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],Ke.prototype,"activeColorClick",void 0),w([(0,i.i9L)("container",{read:i.s_b,static:!0}),C("design:type",i.s_b)],Ke.prototype,"container",void 0),w([(0,i.i9L)("wrapper",{static:!0}),C("design:type",i.SBq)],Ke.prototype,"wrapper",void 0),w([(0,i.i9L)("popupTemplate",{static:!0}),C("design:type",i.Rgc)],Ke.prototype,"popupTemplate",void 0),w([(0,i.i9L)("palette",{read:i.SBq,static:!1}),C("design:type",i.SBq)],Ke.prototype,"palette",void 0),w([(0,i.i9L)("colorGradient",{static:!1}),C("design:type",ot)],Ke.prototype,"colorGradient",void 0),Ke=Bp=w([C("design:paramtypes",[$e,i.sBO,I,i.R0b])],Ke);let iv=(()=>{let t=class{constructor(){this.colorRows=[]}setColorMatrix(e,o){if(this.colorRows=[],Pe(e)&&e.length){o=o||e.length;for(let s=0;s<e.length;s+=o){const r=e.slice(s,o+s);this.colorRows.push(r)}}}getCellCoordsFor(e){if(Pe(e))for(let o=0;o<this.colorRows.length;o++)for(let s=0;s<this.colorRows[o].length;s++)if(this.colorRows[o][s]===e)return{row:o,col:s}}getColorAt(e){if(Pe(e)&&Pe(this.colorRows[e.row]))return this.colorRows[e.row][e.col]}getNextCell(e,o,s){if(!(Pe(e)&&Pe(e.row)&&Pe(e.col)))return{row:0,col:0};const r=this.clampIndex(e.row+s,this.colorRows.length-1);return{row:r,col:this.clampIndex(e.col+o,this.colorRows[r].length-1)}}clampIndex(e,o){return e<0?0:e>o?o:e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),fS=(()=>{let t=class extends I{constructor(e,o,s,r){super(e,o,s),this.colorPickerLocalization=r}get(e){return this.colorPickerLocalization?this.colorPickerLocalization.get(e):super.get(e)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Fe),i.LFG(Bs,8),i.LFG(Gi,8),i.LFG(Gs,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=w([xt(0,(0,i.tBr)(Fe)),xt(1,(0,i.FiY)()),xt(2,(0,i.FiY)()),xt(2,(0,i.tBr)(Gi)),xt(3,(0,i.FiY)()),xt(3,(0,i.tBr)(Gs)),C("design:paramtypes",[String,Bs,Boolean,Gs])],t),t})();var Fp;let vR=0,ft=Fp=class{constructor(n,e,o,s,r){this.host=n,this.service=e,this.cdr=o,this.renderer=s,this.localizationService=r,this.id="k-colorpalette-"+vR++,this.format="hex",this.disabled=!1,this.readonly=!1,this.tileSize={width:24,height:24},this.selectionChange=new i.vpe,this.valueChange=new i.vpe,this.cellSelection=new i.vpe,this.hostClasses=!0,this._tabindex=0,this.notifyNgTouched=()=>{},this.notifyNgChanged=()=>{},this.dynamicRTLSubscription=r.changes.subscribe(({rtl:a})=>{this.direction=a?"rtl":"ltr"})}get paletteId(){return this.id}set value(n){this._value=Hi(n,this.format)}get value(){return this._value}set columns(n){this._columns=n>1?n:1}get columns(){return this._columns}set palette(n){Pe(n)||(n="office"),"string"==typeof n&&Pe(Pc[n])&&(this.columns=this.columns||Pc[n].columns,n=Pc[n].colors);const e="string"==typeof n?n.split(","):n;this._palette=e.map(o=>Hi(o,this.format,!1))}get palette(){return this._palette}set tabindex(n){const e=Number(n);this._tabindex=isNaN(e)?0:e}get tabindex(){return this.disabled?void 0:this._tabindex}get tileLayout(){return"number"!=typeof this.tileSize?this.tileSize:{width:this.tileSize,height:this.tileSize}}get colorRows(){return this.service.colorRows}get hostTabindex(){return this.tabindex}get disabledClass(){return this.disabled}get readonlyAttribute(){return this.readonly}ngOnInit(){if(0===this.colorRows.length){const n="name"!==this.format?"office":"accessible";this.palette=this.palette||n,this.setRows(),this.focusedCell=this.service.getCellCoordsFor(this.value)}}ngAfterViewInit(){this.setHostElementAriaLabel()}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}ngOnChanges(n){(n.palette||n.columns)&&this.setRows(),(n.palette||n.value||n.columns)&&(this.focusedCell=this.service.getCellCoordsFor(this.value),this.setHostElementAriaLabel())}handleKeydown(n){const e="rtl"===this.direction;switch(n.keyCode){case R.ArrowDown:this.handleCellNavigation(0,1);break;case R.ArrowUp:this.handleCellNavigation(0,-1);break;case R.ArrowRight:this.handleCellNavigation(e?-1:1,0);break;case R.ArrowLeft:this.handleCellNavigation(e?1:-1,0);break;case R.Enter:this.handleEnter();break;default:return}n.preventDefault()}handleHostBlur(){this.notifyNgTouched(),this.handleCellFocusOnBlur()}handleCellSelection(n,e){if(this.readonly)return;this.selectedCell=e,this.focusedCell=this.selectedCell,this.focusInComponent=!0;const o=Hi(n,this.format,!1);this.cellSelection.emit(o),this.value!==o&&(this.value=o,this.valueChange.emit(o),this.notifyNgChanged(o),this.setHostElementAriaLabel()),this.selection!==o&&(this.selection=o,this.selectionChange.emit(o)),e&&(this.activeCellId=`${this.selectedCell.row}-${this.selectedCell.col}`)}writeValue(n){this.value=n,this.focusedCell=this.service.getCellCoordsFor(this.value)}registerOnChange(n){this.notifyNgChanged=n}registerOnTouched(n){this.notifyNgTouched=n}setDisabledState(n){this.cdr.markForCheck(),this.disabled=n}isEmpty(){return!1}reset(){this.focusedCell=null,Pe(this.value)&&(this._value=void 0,this.notifyNgChanged(void 0))}handleCellFocusOnBlur(){this.focusInComponent=!1,this.focusedCell=this.selectedCell}setRows(){!Pe(this.palette)||(this.columns=this.columns||10,this.service.setColorMatrix(this.palette,this.columns))}handleCellNavigation(n,e){this.readonly||(this.focusedCell=this.service.getNextCell(this.focusedCell,n,e),this.focusInComponent=!0)}setHostElementAriaLabel(){const n=Hi(this.value,this.format);this.renderer.setAttribute(this.host.nativeElement,"aria-label",`${this.value?n:this.localizationService.get("colorPaletteNoColor")}`)}handleEnter(){if(!Pe(this.focusedCell))return;const n=this.service.getColorAt(this.focusedCell);this.handleCellSelection(n,this.focusedCell)}};ft.\u0275fac=function(n){return new(n||ft)(i.Y36(i.SBq),i.Y36(iv),i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(I))},ft.\u0275cmp=i.Xpm({type:ft,selectors:[["kendo-colorpalette"]],hostVars:9,hostBindings:function(n,e){1&n&&i.NdJ("keydown",function(s){return e.handleKeydown(s)})("blur",function(){return e.handleHostBlur()}),2&n&&(i.uIk("dir",e.direction)("id",e.paletteId)("tabindex",e.hostTabindex)("aria-disabled",e.disabledClass)("aria-readonly",e.readonlyAttribute),i.ekj("k-colorpalette",e.hostClasses)("k-state-disabled",e.disabledClass))},inputs:{id:"id",format:"format",disabled:"disabled",readonly:"readonly",tileSize:"tileSize",value:"value",columns:"columns",palette:"palette",tabindex:"tabindex"},outputs:{selectionChange:"selectionChange",valueChange:"valueChange",cellSelection:"cellSelection"},features:[i._Bn([{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Fp)},{provide:qe,useExisting:(0,i.Gpc)(()=>Fp)},iv,fS,{provide:I,useExisting:fS},{provide:Fe,useValue:"kendo.colorpalette"}]),i.TTD],decls:5,vars:2,consts:function(){let t;return t=$localize`:kendo.colorpalette.colorPaletteNoColor|The aria-label applied to the ColorPalette component when the value is empty.␟9828bb7d78de6289366052cdc37cf0bc74577313␟4885193165402402447:Colorpalette no color chosen`,[["kendoColorPaletteLocalizedMessages","","colorPaletteNoColor",t],["role","listbox",1,"k-colorpalette-table-wrap"],[1,"k-colorpalette-table","k-palette"],[4,"ngFor","ngForOf"],["role","option","class","k-colorpalette-tile",3,"k-state-selected","k-state-focus","id","ngStyle","click",4,"ngFor","ngForOf"],["role","option",1,"k-colorpalette-tile",3,"id","ngStyle","click"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"div",1),i.TgZ(2,"table",2),i.TgZ(3,"tbody"),i.YNc(4,U3,2,1,"tr",3),i.qZA(),i.qZA(),i.qZA()),2&n&&(i.xp6(1),i.uIk("aria-activedescendant",e.activeCellId),i.xp6(3),i.Q6J("ngForOf",e.colorRows))},directives:function(){return[Co,x.sg,x.PC]},encapsulation:2}),w([(0,i.pfw)("attr.dir"),C("design:type",String)],ft.prototype,"direction",void 0),w([(0,i.pfw)("attr.id"),C("design:type",String),C("design:paramtypes",[])],ft.prototype,"paletteId",null),w([(0,i.IIB)(),C("design:type",String)],ft.prototype,"id",void 0),w([(0,i.IIB)(),C("design:type",String)],ft.prototype,"format",void 0),w([(0,i.IIB)(),C("design:type",String),C("design:paramtypes",[String])],ft.prototype,"value",null),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],ft.prototype,"columns",null),w([(0,i.IIB)(),C("design:type",Object),C("design:paramtypes",[Object])],ft.prototype,"palette",null),w([(0,i.IIB)(),C("design:type",Number),C("design:paramtypes",[Number])],ft.prototype,"tabindex",null),w([(0,i.IIB)(),C("design:type",Boolean)],ft.prototype,"disabled",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],ft.prototype,"readonly",void 0),w([(0,i.IIB)(),C("design:type",Object)],ft.prototype,"tileSize",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],ft.prototype,"selectionChange",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],ft.prototype,"valueChange",void 0),w([(0,i.r_U)(),C("design:type",i.vpe)],ft.prototype,"cellSelection",void 0),w([(0,i.pfw)("attr.tabindex"),C("design:type",Number),C("design:paramtypes",[])],ft.prototype,"hostTabindex",null),w([(0,i.pfw)("class.k-colorpalette"),C("design:type",Boolean)],ft.prototype,"hostClasses",void 0),w([(0,i.pfw)("attr.aria-disabled"),(0,i.pfw)("class.k-state-disabled"),C("design:type",Boolean),C("design:paramtypes",[])],ft.prototype,"disabledClass",null),w([(0,i.pfw)("attr.aria-readonly"),C("design:type",Boolean),C("design:paramtypes",[])],ft.prototype,"readonlyAttribute",null),w([(0,i.L6J)("keydown",["$event"]),C("design:type",Function),C("design:paramtypes",[Object]),C("design:returntype",void 0)],ft.prototype,"handleKeydown",null),w([(0,i.L6J)("blur"),C("design:type",Function),C("design:paramtypes",[]),C("design:returntype",void 0)],ft.prototype,"handleHostBlur",null),ft=Fp=w([C("design:paramtypes",[i.SBq,iv,i.sBO,i.Qsj,I])],ft);let Op=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{colorPaletteNoColor:"colorPaletteNoColor",colorGradientNoColor:"colorGradientNoColor",colorGradientHandle:"colorGradientHandle",clearButton:"clearButton",hueSliderHandle:"hueSliderHandle",opacitySliderHandle:"opacitySliderHandle",hexInputPlaceholder:"hexInputPlaceholder",redInputPlaceholder:"redInputPlaceholder",greenInputPlaceholder:"greenInputPlaceholder",blueInputPlaceholder:"blueInputPlaceholder",alphaInputPlaceholder:"alphaInputPlaceholder",passContrast:"passContrast",failContrast:"failContrast",contrastRatio:"contrastRatio"},features:[i.qOj]}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"colorPaletteNoColor",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"colorGradientNoColor",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"colorGradientHandle",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"clearButton",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"hueSliderHandle",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"opacitySliderHandle",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"hexInputPlaceholder",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"redInputPlaceholder",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"greenInputPlaceholder",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"blueInputPlaceholder",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"alphaInputPlaceholder",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"passContrast",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"failContrast",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"contrastRatio",void 0),t})();var nv;let Fr=nv=class extends Op{constructor(n){super(),this.service=n}get override(){return!0}};var ov;Fr.\u0275fac=function(n){return new(n||Fr)(i.Y36(I))},Fr.\u0275cmp=i.Xpm({type:Fr,selectors:[["kendo-colorpicker-messages"],["kendo-colorgradient-messages"],["kendo-colorpalette-messages"]],features:[i._Bn([{provide:Op,useExisting:(0,i.Gpc)(()=>nv)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Fr=nv=w([C("design:paramtypes",[I])],Fr);let Co=ov=class extends Op{constructor(n){super(),this.service=n}};Co.\u0275fac=function(n){return new(n||Co)(i.Y36(I))},Co.\u0275dir=i.lG2({type:Co,selectors:[["","kendoColorPickerLocalizedMessages",""],["","kendoColorGradientLocalizedMessages",""],["","kendoColorPaletteLocalizedMessages",""]],features:[i._Bn([{provide:Op,useExisting:(0,i.Gpc)(()=>ov)}]),i.qOj]}),Co=ov=w([C("design:paramtypes",[I])],Co);let vS=(()=>{let t=class{constructor(e,o){this.host=e,this.ngZone=o}ngAfterContentInit(){this.focusOnNextTick()}focusOnNextTick(){this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.host.nativeElement.focus()))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoFocusOnDomReady",""]]}),t=w([C("design:paramtypes",[i.SBq,i.R0b])],t),t})(),_S=(()=>{let t=class{constructor(e){this.localization=e}get passMessage(){return this.localization.get("passContrast")}get failMessage(){return this.localization.get("failContrast")}get contrastText(){return`${this.type}: ${this.ratio.toFixed(1)}`}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoContrastValidation",""]],inputs:{type:"type",ratio:"ratio",pass:"pass"},attrs:Q3,decls:4,vars:3,consts:[["class","k-contrast-validation k-text-success",4,"ngIf"],["class","k-contrast-validation k-text-error",4,"ngIf"],[1,"k-contrast-validation","k-text-success"],[1,"k-icon","k-i-check"],[1,"k-contrast-validation","k-text-error"],[1,"k-icon","k-i-close"]],template:function(e,o){1&e&&(i.TgZ(0,"span"),i._uU(1),i.qZA(),i.YNc(2,X3,3,1,"span",0),i.YNc(3,W3,3,1,"span",1)),2&e&&(i.xp6(1),i.Oqu(o.contrastText),i.xp6(1),i.Q6J("ngIf",o.pass),i.xp6(1),i.Q6J("ngIf",!o.pass))},directives:[x.O5],encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"type",void 0),w([(0,i.IIB)(),C("design:type",Number)],t.prototype,"ratio",void 0),w([(0,i.IIB)(),C("design:type",Boolean)],t.prototype,"pass",void 0),t=w([C("design:paramtypes",[I])],t),t})(),yS=(()=>{let t=class{constructor(e){this.localization=e,this.aaRatio=4.5,this.aaaRatio=7}get formatedRatio(){return this.contrastRatio.toFixed(2)}get contrastRatioMessage(){return this.localization.get("contrastRatio")}get satisfiesAACondition(){return this.contrastRatio>=this.aaRatio}get satisfiesAAACondition(){return this.contrastRatio>=this.aaaRatio}get contrastRatio(){return((t,n)=>((t,n)=>(Math.max(t,n)+.05)/(Math.min(t,n)+.05))(pS(uS(t,n)),pS(uS(n,{r:0,g:0,b:0,a:1}))))(Tl(this.value),Tl(this.ratio))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoContrastTool",""]],inputs:{value:"value",ratio:"ratio"},attrs:K3,decls:7,vars:8,consts:[[1,"k-contrast-ratio"],[1,"k-contrast-ratio-text"],["class","k-contrast-validation k-text-success",4,"ngIf"],["class","k-contrast-validation k-text-error",4,"ngIf"],["kendoContrastValidation","","type","AA",3,"ratio","pass"],["kendoContrastValidation","","type","AAA",3,"ratio","pass"],[1,"k-contrast-validation","k-text-success"],[1,"k-icon","k-i-check"],["class","k-icon k-i-check",4,"ngIf"],[1,"k-contrast-validation","k-text-error"],[1,"k-icon","k-i-close"]],template:function(e,o){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"span",1),i._uU(2),i.qZA(),i.YNc(3,tO,3,1,"span",2),i.YNc(4,iO,2,0,"span",3),i.qZA(),i._UZ(5,"div",4),i._UZ(6,"div",5)),2&e&&(i.xp6(2),i.AsE("",o.contrastRatioMessage,": ",o.formatedRatio,""),i.xp6(1),i.Q6J("ngIf",o.satisfiesAACondition),i.xp6(1),i.Q6J("ngIf",!o.satisfiesAACondition),i.xp6(1),i.Q6J("ratio",o.aaaRatio)("pass",o.satisfiesAACondition),i.xp6(1),i.Q6J("ratio",o.aaaRatio)("pass",o.satisfiesAAACondition))},directives:[x.O5,_S],encapsulation:2}),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"value",void 0),w([(0,i.IIB)(),C("design:type",String)],t.prototype,"ratio",void 0),t=w([C("design:paramtypes",[I])],t),t})(),_R=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[rS,Xm,x.ez,yn,Lu]]}),t})(),yR=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez]]}),t})(),bR=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez]]}),t})(),SR=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez]]}),t})(),Rp=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez],KO,QO,rS,JO,jO,Xm,qO,_R,yR,bR,SR]}),t})();const IR=["assetsContainer"];function kR(t,n){1&t&&i._UZ(0,"span",6)}function xR(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-textbox",3,4),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().filterChange.emit(s)}),i.YNc(2,kR,1,0,"ng-template",5),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("value",e.filter)("clearButton",!0)("placeholder",e.filterInputPlaceholder)}}const TR=["kendoTreeViewGroup",""];function DR(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",11),i.NdJ("click",function(){i.CHM(e);const s=i.oxw(),r=s.index,a=s.$implicit,l=i.oxw();return l.expandNode(l.nodeIndex(r),a,!l.isExpanded(a,l.nodeIndex(r)))}),i.qZA()}if(2&t){const e=i.oxw(),o=e.$implicit,s=e.index,r=i.oxw();i.ekj("k-i-collapse",r.isExpanded(o,r.nodeIndex(s)))("k-i-expand",!r.isExpanded(o,r.nodeIndex(s))),i.Q6J("kendoTreeViewLoading",r.nodeIndex(s))}}function MR(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-checkbox",12),i.NdJ("checkStateChange",function(){i.CHM(e);const s=i.oxw().index,r=i.oxw();return r.checkNode(r.nodeIndex(s))}),i.qZA()}if(2&t){const e=i.oxw(),o=e.$implicit,s=e.index,r=i.oxw();i.Q6J("node",o)("index",r.nodeIndex(s))("isChecked",r.isChecked)}}function ER(t,n){}const BR=function(t,n){return{$implicit:t,index:n}};function FR(t,n){if(1&t&&(i.ynx(0),i.YNc(1,ER,0,0,"ng-template",13),i.BQk()),2&t){const e=i.oxw(),o=e.$implicit,s=e.index,r=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",r.nodeTemplateRef)("ngTemplateOutletContext",i.WLB(2,BR,o,r.nodeIndex(s)))}}function OR(t,n){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const e=i.oxw().$implicit,o=i.oxw();i.xp6(1),i.hij(" ",o.nodeText(e)," ")}}function RR(t,n){if(1&t&&i._UZ(0,"ul",14),2&t){const e=i.oxw(),o=e.$implicit,s=e.index,r=i.oxw();i.Q6J("nodes",r.fetchChildren)("loadOnDemand",r.loadOnDemand)("checkboxes",r.checkboxes)("expandIcons",r.expandIcons)("selectable",r.selectable)("touchActions",r.touchActions)("children",r.children)("hasChildren",r.hasChildren)("isChecked",r.isChecked)("isDisabled",r.isDisabled)("disabled",r.disabled||r.isDisabled(o,r.nodeIndex(s)))("isExpanded",r.isExpanded)("isSelected",r.isSelected)("isVisible",r.isVisible)("nodeTemplateRef",r.nodeTemplateRef)("loadMoreButtonTemplateRef",r.loadMoreButtonTemplateRef)("parentIndex",r.nodeIndex(s))("parentDataItem",o)("textField",r.nextFields)("loadMoreService",r.loadMoreService)("@toggle",!0)("trackBy",r.trackBy)}}function AR(t,n){if(1&t&&(i.TgZ(0,"li",2),i.TgZ(1,"div",3),i.YNc(2,DR,1,5,"span",4),i.YNc(3,MR,1,3,"kendo-checkbox",5),i.TgZ(4,"span",6),i.ynx(5,7),i.YNc(6,FR,2,5,"ng-container",8),i.YNc(7,OR,2,1,"ng-container",9),i.BQk(),i.qZA(),i.qZA(),i.YNc(8,RR,1,22,"ul",10),i.qZA()),2&t){const e=n.$implicit,o=n.index,s=i.oxw();i.ekj("k-display-none",!s.isVisible(e,s.nodeIndex(o))),i.Q6J("dataItem",e)("index",s.nodeIndex(o))("parentDataItem",s.parentDataItem)("parentIndex",s.parentIndex)("loadOnDemand",s.loadOnDemand)("checkable",s.checkboxes)("isChecked",s.isChecked(e,s.nodeIndex(o)))("isDisabled",s.disabled||s.isDisabled(e,s.nodeIndex(o)))("isVisible",s.isVisible(e,s.nodeIndex(o)))("expandable",s.expandIcons&&s.hasChildren(e))("isExpanded",s.isExpanded(e,s.nodeIndex(o)))("selectable",s.selectable)("isSelected",s.isSelected(e,s.nodeIndex(o))),i.uIk("aria-setsize",s.totalNodesCount)("data-treeindex",s.nodeIndex(o)),i.xp6(2),i.Q6J("ngIf",s.expandIcons&&s.hasChildren(e)),i.xp6(1),i.Q6J("ngIf",s.checkboxes),i.xp6(1),i.Udp("touch-action",s.touchActions?"":"none"),i.Q6J("dataItem",e)("index",s.nodeIndex(o))("initialSelection",s.isSelected(e,s.nodeIndex(o)))("isSelected",s.isSelected),i.uIk("data-treeindex",s.nodeIndex(o)),i.xp6(1),i.Q6J("ngSwitch",s.hasTemplate),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(2),i.Q6J("ngIf",s.isExpanded(e,s.nodeIndex(o))&&s.hasChildren(e))}}function NR(t,n){1&t&&i._UZ(0,"span",19)}function LR(t,n){}const PR=function(t){return{index:t}};function zR(t,n){if(1&t&&i.YNc(0,LR,0,0,"ng-template",13),2&t){const e=i.oxw(2);i.Q6J("ngTemplateOutlet",e.loadMoreButtonTemplateRef)("ngTemplateOutletContext",i.VKq(2,PR,e.loadMoreButtonIndex))}}function GR(t,n){1&t&&(i.ynx(0),i._uU(1," Load more "),i.BQk())}function VR(t,n){if(1&t&&(i.TgZ(0,"li",15),i.TgZ(1,"div",3),i.YNc(2,NR,1,0,"span",16),i.TgZ(3,"span",17),i.YNc(4,zR,1,4,void 0,18),i.YNc(5,GR,2,0,"ng-container",18),i.qZA(),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.ekj("k-treeview-load-more-checkboxes-container",e.checkboxes),i.Q6J("selectable",!1)("checkable",!1)("expandable",!1)("index",e.loadMoreButtonIndex)("parentDataItem",e.parentDataItem)("parentIndex",e.parentIndex),i.uIk("data-treeindex",e.loadMoreButtonIndex),i.xp6(2),i.Q6J("ngIf",e.loadingMoreNodes),i.xp6(1),i.Q6J("index",e.loadMoreButtonIndex),i.uIk("data-treeindex",e.loadMoreButtonIndex),i.xp6(1),i.Q6J("ngIf",e.loadMoreButtonTemplateRef),i.xp6(1),i.Q6J("ngIf",!e.loadMoreButtonTemplateRef)}}const XR={name:"@progress/kendo-angular-treeview",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1638439762,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let zc=(()=>{class t{constructor(){this.changes=new i.vpe}notify(){this.changes.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const WR=()=>!1,KR=()=>"none",eA=()=>!1,tA=()=>!0,wS=()=>!1,SS=()=>!0,iA=(t,n)=>n;let ls=(()=>{let t=class{constructor(){this.changes=new Ze.xQ}expand(e,o){this.changes.next({dataItem:o,index:e,expand:!0})}collapse(e,o){this.changes.next({dataItem:o,index:e,expand:!1})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Vs=(()=>{let t=class{constructor(){this.INDEX_SEPARATOR="_"}nodeIndex(e="",o=""){return`${o}${o?this.INDEX_SEPARATOR:""}${e}`}indexForLevel(e,o){return e.split(this.INDEX_SEPARATOR).slice(0,o).join(this.INDEX_SEPARATOR)}lastLevelIndex(e=""){const o=e.split(this.INDEX_SEPARATOR);return o.length?parseInt(o[o.length-1],10):NaN}level(e){return e.split(this.INDEX_SEPARATOR).length}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Gc=(()=>{let t=class{constructor(){this.changes=new Ze.xQ}notifyLoaded(e){this.changes.next(e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const nA=/^(?:a|input|select|option|textarea|button|object)$/i,Or=(t,n)=>{const e=t.matches||t.msMatchesSelector||t.webkitMatchesSelector;return!!e&&e.call(t,n)},Dl=(t,n)=>{if(!document.documentElement.contains(t))return null;let e=t;for(;null!==e&&1===e.nodeType;){if(Or(e,n))return e;e=e.parentElement||e.parentNode}return null},IS=()=>{},$=t=>null!=t,xS=t=>Array.isArray(t),Ml=t=>{const n="li.k-treeview-item";return W()?t.closest?t.closest(n):Dl(t,n):null},TS=t=>{if(t.tagName){const n=t.tagName.toLowerCase(),e=t.getAttribute("tabIndex"),o="-1"===e;let s=null!==e&&!o;return nA.test(n)&&(s=!t.disabled&&!o),s}return!1},DS=t=>$(Dl(t,".k-in.k-treeview-load-more-button")),av=(t,n)=>Boolean(((t,n)=>{for(;t&&!n(t);)t=t.parentNode;return t})(t,e=>e===n)),MS=t=>t.nativeElement.querySelector('li[tabindex="0"]'),lv=t=>t?t.getAttribute("data-treeindex"):"",wo=t=>(t||{}).index,Vc=(t,n)=>[t,n].filter(e=>$(e)).join("_"),cv=t=>t||{},dv=t=>cv(t).children||[],uv=t=>{if(!Array.isArray(t)||0===t.length)return null;for(let o=t.length-1;o>=0;o-=1){const s=t[o];if(s.visible)return s}return null};class uA{constructor(){this.ib=new Vs,this.nodes=[]}firstVisibleNode(){return(this.nodes||[]).find(n=>n.visible)}lastVisibleNode(){let n=uv(this.nodes);for(;$(n)&&dv(n).length>0;){const e=dv(n),o=uv(e);if(!$(o))return n;n=o}return n}closestNode(n){const{prev:e}=cv(this.findNode(n)),o=e||this.firstVisibleNode();return cv(o).index===n?this.visibleSibling(o,1):o}firstFocusableNode(){return this.nodes.find(n=>!n.disabled&&n.visible)}findNode(n){return this.find(n,this.nodes)}findParent(n){const e=this.ib.level(n)-1;return this.findNode(this.ib.indexForLevel(n,e))}findVisibleChild(n){const e=this.findNode(n);return dv(e).find(s=>s.visible)}findVisiblePrev(n){const e=n.index,o=this.findParent(e),s=this.ib.lastLevelIndex(e),a=this.container(o).slice(0,s).every(c=>!c.visible);if(0===s||a)return o;const l=this.findNode(e);let d=this.visibleSibling(l,-1);if(d){let c=this.container(d);for(;c.length>0&&c.some(p=>p.visible);)d=uv(c),c=this.container(d)}return d}findVisibleNext(n){const e=this.container(n),o=e.some(s=>s.visible);return 0!==e.length&&o?e.find(s=>s.visible):this.visibleSibling(n,1)}registerItem(n,e,o,s=!1,r=!0){const a=[],l=this.ib.level(e),d=this.findParent(e);(d||1===l)&&this.insert({id:n,children:a,index:e,parent:d,disabled:o,loadMoreButton:s,visible:r},d)}unregisterItem(n,e){const o=this.find(e,this.nodes);if(!o||o.id!==n)return;const s=this.container(o.parent);s.splice(s.indexOf(o),1)}childLevel(n){const e=n.filter(o=>$(o));return e&&e.length?this.ib.level(e[0].index):1}container(n){return n?n.children:this.nodes}find(n,e){const o=this.childLevel(e),s=this.ib.indexForLevel(n,o),r=o===this.ib.level(n),a=e.find(l=>l&&l.index===s);return a?r?a:this.find(n,a.children):null}insert(n,e){this.container(e).splice(this.ib.lastLevelIndex(n.index),0,n)}visibleSibling(n,e){if(!n)return null;const o=this.findParent(n.index),s=this.container(o);let r=s.indexOf(n)+e,a=s[r];for(;$(a);){if(a.visible)return a;r+=e,a=s[r]}return this.visibleSibling(o,e)}}let cs=(()=>{let t=class{constructor(e){this.localization=e,this.expands=new Ze.xQ,this.moves=new Ze.xQ,this.checks=new Ze.xQ,this.selects=new Ze.xQ,this.loadMore=new Ze.xQ,this.navigable=!0,this.actions={[R.ArrowUp]:()=>this.activate(this.model.findVisiblePrev(this.focusableItem)),[R.ArrowDown]:()=>this.activate(this.model.findVisibleNext(this.focusableItem)),[R.ArrowLeft]:()=>!this.isLoadMoreButton&&this.expand({expand:this.localization.rtl,intercept:this.localization.rtl?this.moveToFirstVisibleChild:this.moveToParent}),[R.ArrowRight]:()=>!this.isLoadMoreButton&&this.expand({expand:!this.localization.rtl,intercept:this.localization.rtl?this.moveToParent:this.moveToFirstVisibleChild}),[R.Home]:()=>this.activate(this.model.firstVisibleNode()),[R.End]:()=>this.activate(this.model.lastVisibleNode()),[R.Enter]:()=>this.handleEnter(),[R.Space]:()=>this.handleSpace()},this.isFocused=!1,this._model=new uA,this.moveToFirstVisibleChild=this.moveToFirstVisibleChild.bind(this),this.moveToParent=this.moveToParent.bind(this)}get model(){return this._model}set model(e){this._model=e}get activeIndex(){return wo(this.activeItem)||null}get isActiveExpanded(){return this.activeItem&&this.activeItem.children.length>0}get isLoadMoreButton(){return this.activeItem&&this.activeItem.loadMoreButton}get focusableItem(){return this.activeItem||this.model.firstFocusableNode()}activate(e){!this.navigable||!e||this.isActive(wo(e))||(this.isFocused=!0,this.activeItem=e||this.activeItem,this.notifyMove())}activateParent(e){this.activate(this.model.findParent(e))}activateIndex(e){!e||this.activate(this.model.findNode(e))}activateClosest(e){!e||wo(this.focusableItem)!==e||(this.activeItem=this.model.closestNode(e),this.notifyMove())}activateFocusable(){this.activeItem||(this.activeItem=this.model.firstVisibleNode(),this.notifyMove())}deactivate(){!this.navigable||!this.isFocused||(this.isFocused=!1,this.notifyMove())}checkIndex(e){this.isDisabled(e)||this.checks.next(e)}selectIndex(e){this.isDisabled(e)||this.selects.next(e)}notifyLoadMore(e){!$(e)||this.loadMore.next(e)}isActive(e){return!!e&&this.isFocused&&this.activeIndex===e}isFocusable(e){return wo(this.focusableItem)===e}isDisabled(e){return this.model.findNode(e).disabled}registerItem(e,o,s,r=!1,a=!0){const l=this.model.findNode(o);$(l)&&(this.model.unregisterItem(l.id,l.index),this.isActive(o)&&this.deactivate()),this.model.registerItem(e,o,s,r,a)}unregisterItem(e,o){this.isActive(o)&&this.activateParent(o),this.model.unregisterItem(e,o)}move(e){if(!this.navigable)return;const o=this.actions[e.keyCode];!o||(o(),e.preventDefault())}expand({expand:e,intercept:o}){const s=wo(this.activeItem);!s||o(s)||this.notifyExpand(e)}moveToParent(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(wo(this.activeItem))),!0)}moveToFirstVisibleChild(){return!!this.isActiveExpanded&&(this.activate(this.model.findVisibleChild(wo(this.activeItem))),!0)}notifyExpand(e){this.expands.next(this.navigationState(e))}notifyMove(){this.moves.next(this.navigationState())}navigationState(e=!1){return{expand:e,index:this.activeIndex,isFocused:this.isFocused}}handleEnter(){!this.navigable||(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.selectIndex(this.activeIndex))}handleSpace(){!this.navigable||(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.checkIndex(this.activeIndex))}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(I))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=L([B("design:paramtypes",[I])],t),t})(),Hc=(()=>{let t=class{constructor(){this.changes=new Ze.xQ}childrenLoaded(e,o){this.changes.next({item:e,children:o})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Rr=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTreeViewNodeTemplate",""]]}),t=L([_l(0,(0,i.FiY)()),B("design:paramtypes",[i.Rgc])],t),t})(),Ar=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTreeViewLoadMoreButtonTemplate",""]]}),t=L([_l(0,(0,i.FiY)()),B("design:paramtypes",[i.Rgc])],t),t})(),Ki=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Nr=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Lr=(()=>{let t=class{constructor(){this.changes=new Ze.xQ}isFirstSelected(e){return this.firstIndex===e}setFirstSelected(e,o){this.firstIndex===e&&!1===o?this.firstIndex=null:!this.firstIndex&&o&&(this.firstIndex=e)}select(e,o){this.changes.next({dataItem:o,index:e})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const pA=/\d+$/;let Pr=(()=>{let t=class{constructor(){this.map=new Map}reset(){this.map.clear()}registerItem(e,o){const s={children:[],item:e,parent:this.item(wo(o))};this.map.set(e.index,s)}registerChildren(e,o){const s=this.item(e);!s||(s.children=o)}unregisterItem(e,o){const s=this.item(e);s&&s.item.dataItem===o&&(this.map.delete(e),s.parent&&s.parent.children&&(s.parent.children=s.parent.children.filter(r=>r.dataItem!==o)))}replaceItem(e,o,s){!o||(this.unregisterItem(e,o.dataItem),this.registerItem(o,s),this.addToParent(o,s))}itemLookup(e){const o=this.item(e);return o?{children:this.mapChildren(o.children),item:o.item,parent:o.parent}:null}hasItem(e){return this.map.has(e)}item(e){return this.map.get(e)||null}addToParent(e,o){if(o){const s=this.item(o.index),r=parseInt(pA.exec(e.index)[0],10);s.children=s.children||[],s.children.splice(r,0,e)}}mapChildren(e=[]){return e.map(o=>{const{item:s,parent:r,children:a}=this.item(o.index);return{children:this.mapChildren(a),item:s,parent:r}})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const fA=[ls,Vs,Pr,Gc,Hc,cs,Lr,zc,I,{provide:Fe,useValue:"kendo.treeview"},{provide:Ki,useExisting:(0,i.Gpc)(()=>Tt)},{provide:Nr,useExisting:(0,i.Gpc)(()=>Tt)}];let Tt=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c,p,m,f){this.element=e,this.changeDetectorRef=o,this.expandService=s,this.navigationService=r,this.nodeChildrenService=a,this.selectionService=l,this.treeViewLookupService=d,this.ngZone=c,this.renderer=p,this.dataChangeNotification=m,this.localization=f,this.classNames=!0,this.role="tree",this.filterInputPlaceholder="",this.fetchNodes=()=>this.data,this.childrenLoaded=new i.vpe,this.onBlur=new i.vpe,this.onFocus=new i.vpe,this.expand=new i.vpe,this.collapse=new i.vpe,this.nodeDragStart=new i.vpe,this.nodeDrag=new i.vpe,this.filterStateChange=new i.vpe,this.nodeDrop=new i.vpe,this.nodeDragEnd=new i.vpe,this.addItem=new i.vpe,this.removeItem=new i.vpe,this.checkedChange=new i.vpe,this.selectionChange=new i.vpe,this.filterChange=new i.vpe,this.nodeClick=new i.vpe,this.nodeDblClick=new i.vpe,this.trackBy=iA,this.isDisabled=eA,this.isVisible=SS,this.navigable=!0,this.children=()=>(0,cn.of)([]),this.loadOnDemand=!0,this.filterable=!1,this.filter="",this.checkboxes=!1,this.expandIcons=!1,this.selectable=!1,this.touchActions=!0,this.isActive=!1,this.data=new eo.X([]),this._animate=!0,this.subscriptions=new Ie.w,this.domSubscriptions=[],(0,lt.s)(XR)}get direction(){return this.localization.rtl?"rtl":"ltr"}set animate(e){this._animate=e}get animate(){return!this._animate}set nodeTemplateRef(e){this._nodeTemplateRef=e}get nodeTemplateRef(){return this._nodeTemplateRef||this.nodeTemplateQuery}set loadMoreButtonTemplateRef(e){this._loadMoreButtonTemplateRef=e}get loadMoreButtonTemplateRef(){return this._loadMoreButtonTemplateRef||this.loadMoreButtonTemplateQuery}set nodes(e){this.data.next(e||[]),this.dataChangeNotification.notify()}get nodes(){return this.data.value}get hasChildren(){return this._hasChildren||WR}set hasChildren(e){this._hasChildren=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)}get isChecked(){return this._isChecked||KR}set isChecked(e){this._isChecked=e,this.checkboxes=Boolean(this._isChecked)}get isExpanded(){return this._isExpanded||tA}set isExpanded(e){this._isExpanded=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)}get isSelected(){return this._isSelected||wS}set isSelected(e){this._isSelected=e,this.selectable=Boolean(this._isSelected)}ngOnChanges(e){this.navigationService.navigable=Boolean(this.navigable),bt(["nodes","children","hasChildren","loadOnDemand"],e,!1)&&!this.loadOnDemand&&this.preloadChildNodes()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach(e=>e())}ngOnInit(){this.subscriptions.add(this.nodeChildrenService.changes.subscribe(e=>this.childrenLoaded.emit(e))),this.subscriptions.add(this.expandService.changes.subscribe(({index:e,dataItem:o,expand:s})=>s?this.expand.emit({index:e,dataItem:o}):this.collapse.emit({index:e,dataItem:o}))),this.subscriptions.add(this.navigationService.checks.subscribe(e=>this.checkedChange.emit(this.treeViewLookupService.itemLookup(e)))),this.subscriptions.add(this.selectionService.changes.subscribe(e=>{ne(this.selectionChange)&&this.ngZone.run(()=>{this.selectionChange.emit(e)})})),this.element&&this.ngZone.runOutsideAngular(()=>{this.attachDomHandlers()})}blur(){if(!W())return;const e=MS(this.element);document.activeElement===e&&e.blur()}focus(e){const o=e||wo(this.navigationService.focusableItem);this.navigationService.activateIndex(o);const s=MS(this.element);s&&s.focus()}itemLookup(e){return this.treeViewLookupService.itemLookup(e)}rebindChildren(){this.dataChangeNotification.notify()}expandNode(e,o){this.expandService.expand(o,e)}collapseNode(e,o){this.expandService.collapse(o,e)}getNodePageSize(e){return this.verifyLoadMoreService(),this.loadMoreService.getGroupSize(e)}setNodePageSize(e,o){this.verifyLoadMoreService(),this.loadMoreService.setGroupSize(e,o)}preloadChildNodes(){this.treeViewLookupService.reset(),this.registerLookupItems(this.nodes)}attachDomHandlers(){const e=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(e,"contextmenu",this.clickHandler),this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"dblclick",this.clickHandler),this.renderer.listen(e,"focusin",this.focusHandler.bind(this)),this.renderer.listen(e,"focusout",this.blurHandler.bind(this)),this.renderer.listen(e,"keydown",this.keydownHandler.bind(this)))}focusHandler(e){let o;Or(e.target,".k-treeview-item")?o=e.target:TS(e.target)||(o=Ml(e.target)),o&&(this.navigationService.activateIndex(lv(e.target)),!this.isActive&&ne(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()}),this.isActive=!0)}blurHandler(e){this.isActive&&Or(e.target,".k-treeview-item")&&(!e.relatedTarget||!Or(e.relatedTarget,".k-treeview-item")||!av(e.relatedTarget,this.element.nativeElement))&&(this.navigationService.deactivate(),this.isActive=!1,ne(this.onBlur)&&this.ngZone.run(()=>{this.onBlur.emit()}))}clickHandler(e){const o=e.target;if("contextmenu"===e.type&&!ne(this.nodeClick)||"click"===e.type&&!ne(this.nodeClick)&&!ne(this.selectionChange)&&!DS(o)||"dblclick"===e.type&&!ne(this.nodeDblClick)||TS(o)||!(t=>{if(!W())return null;let e=t;for(;e&&!Or(e,".k-in:not(.k-treeview-load-more-button),.k-treeview-item,.k-treeview");)e=e.parentNode;return e?Or(e,".k-in:not(.k-treeview-load-more-button)"):void 0})(o)&&!DS(o)||!av(o,this.element.nativeElement))return;const s=lv(Ml(o));!s||this.navigationService.isDisabled(s)||this.ngZone.run(()=>{const r=this.treeViewLookupService.itemLookup(s);if("click"===e.type){if(this.navigationService.model.findNode(s).loadMoreButton)return void this.navigationService.notifyLoadMore(s);this.navigationService.selectIndex(s)}("dblclick"===e.type?this.nodeDblClick:this.nodeClick).emit({item:r.item,originalEvent:e,type:e.type})})}keydownHandler(e){this.isActive&&this.navigable&&this.ngZone.run(()=>{this.navigationService.move(e)})}verifyLoadMoreService(){if((0,i.X6Q)()&&!$(this.loadMoreService))throw new Error("To use the TreeView paging functionality, you need to assign the `kendoTreeViewLoadMore` directive. See http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/.")}registerLookupItems(e,o=null){if(!$(e)||0===e.length)return;const s=wo(o),r=e.map((a,l)=>((t,n,e)=>$(t)?{dataItem:t,index:Vc(e,n)}:null)(a,l,s));$(o)&&this.treeViewLookupService.registerChildren(s,r),r.forEach(a=>{this.treeViewLookupService.registerItem(a,o),this.hasChildren(a.dataItem)&&this.children(a.dataItem).subscribe(l=>this.registerLookupItems(l,a))})}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(ls),i.Y36(cs),i.Y36(Hc),i.Y36(Lr),i.Y36(Pr),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(zc),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-treeview"]],contentQueries:function(e,o,s){if(1&e&&(i.Suo(s,Rr,5),i.Suo(s,Ar,5)),2&e){let r;i.iGM(r=i.CRH())&&(o.nodeTemplateQuery=r.first),i.iGM(r=i.CRH())&&(o.loadMoreButtonTemplateQuery=r.first)}},viewQuery:function(e,o){if(1&e&&i.Gf(IR,7,i.s_b),2&e){let s;i.iGM(s=i.CRH())&&(o.assetsContainer=s.first)}},hostVars:7,hostBindings:function(e,o){2&e&&(i.uIk("role",o.role)("dir",o.direction),i.d8E("@.disabled",o.animate),i.ekj("k-widget",o.classNames)("k-treeview",o.classNames))},inputs:{filterInputPlaceholder:"filterInputPlaceholder",trackBy:"trackBy",isDisabled:"isDisabled",isVisible:"isVisible",navigable:"navigable",children:"children",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",animate:"animate",nodeTemplateRef:["nodeTemplate","nodeTemplateRef"],loadMoreButtonTemplateRef:["loadMoreButtonTemplate","loadMoreButtonTemplateRef"],nodes:"nodes",hasChildren:"hasChildren",isChecked:"isChecked",isExpanded:"isExpanded",isSelected:"isSelected",textField:"textField"},outputs:{childrenLoaded:"childrenLoaded",onBlur:"blur",onFocus:"focus",expand:"expand",collapse:"collapse",nodeDragStart:"nodeDragStart",nodeDrag:"nodeDrag",filterStateChange:"filterStateChange",nodeDrop:"nodeDrop",nodeDragEnd:"nodeDragEnd",addItem:"addItem",removeItem:"removeItem",checkedChange:"checkedChange",selectionChange:"selectionChange",filterChange:"filterChange",nodeClick:"nodeClick",nodeDblClick:"nodeDblClick"},exportAs:["kendoTreeView"],features:[i._Bn(fA),i.TTD],decls:4,vars:19,consts:[[3,"value","clearButton","placeholder","valueChange",4,"ngIf"],["kendoTreeViewGroup","","role","group",1,"k-treeview-lines",3,"loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","textField","nodes","loadMoreService","trackBy"],["assetsContainer",""],[3,"value","clearButton","placeholder","valueChange"],["filterInput",""],["kendoTextBoxPrefixTemplate",""],[1,"k-icon","k-i-search"]],template:function(e,o){1&e&&(i.YNc(0,xR,3,3,"kendo-textbox",0),i._UZ(1,"ul",1),i.GkF(2,null,2)),2&e&&(i.Q6J("ngIf",o.filterable),i.xp6(1),i.Q6J("loadOnDemand",o.loadOnDemand)("checkboxes",o.checkboxes)("expandIcons",o.expandIcons)("selectable",o.selectable)("touchActions",o.touchActions)("children",o.children)("hasChildren",o.hasChildren)("isChecked",o.isChecked)("isDisabled",o.isDisabled)("isExpanded",o.isExpanded)("isSelected",o.isSelected)("isVisible",o.isVisible)("nodeTemplateRef",null==o.nodeTemplateRef?null:o.nodeTemplateRef.templateRef)("loadMoreButtonTemplateRef",null==o.loadMoreButtonTemplateRef?null:o.loadMoreButtonTemplateRef.templateRef)("textField",o.textField)("nodes",o.fetchNodes)("loadMoreService",o.loadMoreService)("trackBy",o.trackBy))},directives:function(){return[x.O5,AS,Ue,kp]},encapsulation:2}),L([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-treeview"),B("design:type",Boolean)],t.prototype,"classNames",void 0),L([(0,i.pfw)("attr.role"),B("design:type",String)],t.prototype,"role",void 0),L([(0,i.pfw)("attr.dir"),B("design:type",String),B("design:paramtypes",[])],t.prototype,"direction",null),L([(0,i.i9L)("assetsContainer",{read:i.s_b,static:!0}),B("design:type",i.s_b)],t.prototype,"assetsContainer",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"filterInputPlaceholder",void 0),L([(0,i.IIB)(),(0,i.pfw)("@.disabled"),B("design:type",Boolean),B("design:paramtypes",[Boolean])],t.prototype,"animate",null),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"childrenLoaded",void 0),L([(0,i.r_U)("blur"),B("design:type",i.vpe)],t.prototype,"onBlur",void 0),L([(0,i.r_U)("focus"),B("design:type",i.vpe)],t.prototype,"onFocus",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"expand",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"collapse",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"nodeDragStart",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"nodeDrag",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"filterStateChange",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"nodeDrop",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"nodeDragEnd",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"addItem",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"removeItem",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"checkedChange",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"selectionChange",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"filterChange",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"nodeClick",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"nodeDblClick",void 0),L([(0,i.aQ5)(Rr,{static:!1}),B("design:type",Rr)],t.prototype,"nodeTemplateQuery",void 0),L([(0,i.IIB)("nodeTemplate"),B("design:type",Rr),B("design:paramtypes",[Rr])],t.prototype,"nodeTemplateRef",null),L([(0,i.aQ5)(Ar,{static:!1}),B("design:type",Ar)],t.prototype,"loadMoreButtonTemplateQuery",void 0),L([(0,i.IIB)("loadMoreButtonTemplate"),B("design:type",Ar),B("design:paramtypes",[Ar])],t.prototype,"loadMoreButtonTemplateRef",null),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"trackBy",void 0),L([(0,i.IIB)(),B("design:type",Array),B("design:paramtypes",[Array])],t.prototype,"nodes",null),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"textField",void 0),L([(0,i.IIB)(),B("design:type",Function),B("design:paramtypes",[Function])],t.prototype,"hasChildren",null),L([(0,i.IIB)(),B("design:type",Function),B("design:paramtypes",[Function])],t.prototype,"isChecked",null),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isDisabled",void 0),L([(0,i.IIB)(),B("design:type",Function),B("design:paramtypes",[Function])],t.prototype,"isExpanded",null),L([(0,i.IIB)(),B("design:type",Function),B("design:paramtypes",[Function])],t.prototype,"isSelected",null),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isVisible",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"navigable",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"children",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"loadOnDemand",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"filterable",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"filter",void 0),t=L([B("design:paramtypes",[i.SBq,i.sBO,ls,cs,Hc,Lr,Pr,i.R0b,i.Qsj,zc,I])],t),t})(),AS=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c){this.expandService=e,this.loadingService=o,this.indexBuilder=s,this.treeViewLookupService=r,this.navigationService=a,this.nodeChildrenService=l,this.dataChangeNotification=d,this.changeDetectorRef=c,this.kGroupClass=!0,this.role="group",this.loadOnDemand=!0,this.textField="",this.initialNodesLoaded=!1,this.loadingMoreNodes=!1,this._data=[],this.singleRecordSubscriptions=new Ie.w,this.isChecked=()=>"none",this.isDisabled=()=>!1,this.isExpanded=()=>!1,this.isVisible=()=>!0,this.isSelected=()=>!1,this.children=()=>(0,cn.of)([]),this.hasChildren=()=>!1}get moreNodesAvailable(){return!(!$(this.loadMoreService)||0===this.data.length)&&this.pageSize<this.totalNodesCount}get pageSize(){return $(this.loadMoreService)?this.loadMoreService.getGroupSize(this.parentDataItem):null}set pageSize(e){this.loadMoreService.setGroupSize(this.parentDataItem,e)}get data(){return $(this.pageSize)?this._data.slice(0,this.pageSize>0?this.pageSize:0):this._data}set data(e){this._data=e,this.registerLoadedNodes(this.data)}get loadMoreButtonIndex(){return this.loadMoreService?this.nodeIndex(this.data.length):null}get totalNodesCount(){return this.loadMoreService?this.loadMoreService.getTotalNodesCount(this.parentDataItem,this._data.length):this.data.length}get hasTemplate(){return $(this.nodeTemplateRef)}expandNode(e,o,s){s?this.expandService.expand(e,o):this.expandService.collapse(e,o)}checkNode(e){this.navigationService.checkIndex(e),this.navigationService.activateIndex(e)}nodeIndex(e){return this.indexBuilder.nodeIndex(e.toString(),this.parentIndex)}nodeText(e){return qt(xS(this.textField)?this.textField[0]:this.textField)(e)}ngOnDestroy(){$(this.nodesSubscription)&&this.nodesSubscription.unsubscribe(),$(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.singleRecordSubscriptions.unsubscribe()}ngOnInit(){this.subscribeToNodesChange(),this.singleRecordSubscriptions.add(this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))),this.singleRecordSubscriptions.add(this.navigationService.loadMore.pipe((0,ee.h)(e=>e===this.loadMoreButtonIndex)).subscribe(this.loadMoreNodes.bind(this)))}ngOnChanges(e){e.parentIndex&&this.loadOnDemand&&this.setNodeChildren(this.mapToTreeItem(this.data))}fetchChildren(e,o){return this.children(e).pipe((0,tp.K)(()=>(this.loadingService.notifyLoaded(o),bw.E)),(0,ze.b)(()=>this.loadingService.notifyLoaded(o)))}get nextFields(){return xS(this.textField)?this.textField.length>1?this.textField.slice(1):this.textField:[this.textField]}loadMoreNodes(){$(this.loadMoreService.loadMoreNodes)?this.fetchMoreNodes():this.loadMoreLocalNodes()}loadMoreLocalNodes(){const e=this.loadMoreButtonIndex;this.pageSize+=this.loadMoreService.getInitialPageSize(this.parentDataItem),this.registerLoadedNodes(this.data),this.changeDetectorRef.detectChanges(),this.reselectItemAt(e)}fetchMoreNodes(){this.loadingMoreNodes||(this.loadingMoreNodes=!0,$(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.loadMoreNodesSubscription=this.loadMoreService.loadMoreNodes({dataItem:this.parentDataItem,skip:this.data.length,take:this.loadMoreService.getInitialPageSize(this.parentDataItem)}).pipe((0,L6.x)(()=>this.loadingMoreNodes=!1)).subscribe(e=>{if(!(Array.isArray(e)&&e.length>0))return;const o=this.loadMoreButtonIndex;this.pageSize+=e.length,this.data=this.data.concat(e),this.navigationService.isActive(o)&&(this.changeDetectorRef.detectChanges(),this.reselectItemAt(o))}))}setNodeChildren(e){this.treeViewLookupService.registerChildren(this.parentIndex,e)}mapToTreeItem(e){return this.parentIndex?e.map((o,s)=>({dataItem:o,index:this.nodeIndex(s)})):[]}emitChildrenLoaded(e){if(!this.parentIndex)return;const o=e.filter(s=>s.dataItem);this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},o)}subscribeToNodesChange(){this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe(e=>{this.data=e,this.initialNodesLoaded=!0})}reselectItemAt(e){!$(e)||(this.navigationService.deactivate(),this.navigationService.activateIndex(e))}registerLoadedNodes(e=[]){const o=this.mapToTreeItem(e);this.loadOnDemand&&this.setNodeChildren(o),this.emitChildrenLoaded(o)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ls),i.Y36(Gc),i.Y36(Vs),i.Y36(Pr),i.Y36(cs),i.Y36(Hc),i.Y36(zc),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoTreeViewGroup",""]],hostVars:3,hostBindings:function(e,o){2&e&&(i.uIk("role",o.role),i.ekj("k-group",o.kGroupClass))},inputs:{loadOnDemand:"loadOnDemand",textField:"textField",isChecked:"isChecked",isDisabled:"isDisabled",isExpanded:"isExpanded",isVisible:"isVisible",isSelected:"isSelected",children:"children",hasChildren:"hasChildren",checkboxes:"checkboxes",expandIcons:"expandIcons",disabled:"disabled",selectable:"selectable",touchActions:"touchActions",trackBy:"trackBy",nodes:"nodes",parentDataItem:"parentDataItem",parentIndex:"parentIndex",nodeTemplateRef:"nodeTemplateRef",loadMoreButtonTemplateRef:"loadMoreButtonTemplateRef",loadMoreService:"loadMoreService"},features:[i.TTD],attrs:TR,decls:2,vars:3,consts:[["class","k-item k-treeview-item","kendoTreeViewItem","",3,"k-display-none","dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-item k-treeview-item","kendoTreeViewItem","","role","button",3,"k-treeview-load-more-checkboxes-container","selectable","checkable","expandable","index","parentDataItem","parentIndex",4,"ngIf"],["kendoTreeViewItem","",1,"k-item","k-treeview-item",3,"dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected"],[1,"k-mid"],["class","k-icon",3,"k-i-collapse","k-i-expand","kendoTreeViewLoading","click",4,"ngIf"],["tabindex","-1",3,"node","index","isChecked","checkStateChange",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-in",3,"dataItem","index","initialSelection","isSelected"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["kendoTreeViewGroup","","role","group",3,"nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","disabled","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy",4,"ngIf"],[1,"k-icon",3,"kendoTreeViewLoading","click"],["tabindex","-1",3,"node","index","isChecked","checkStateChange"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoTreeViewGroup","","role","group",3,"nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","disabled","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy"],["kendoTreeViewItem","","role","button",1,"k-item","k-treeview-item",3,"selectable","checkable","expandable","index","parentDataItem","parentIndex"],["class","k-icon k-i-loading k-i-expand",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-in","k-treeview-load-more-button",3,"index"],[4,"ngIf"],[1,"k-icon","k-i-loading","k-i-expand"]],template:function(e,o){1&e&&(i.YNc(0,AR,9,29,"li",0),i.YNc(1,VR,6,14,"li",1)),2&e&&(i.Q6J("ngForOf",o.data)("ngForTrackBy",o.trackBy),i.xp6(1),i.Q6J("ngIf",o.initialNodesLoaded&&o.moreNodesAvailable))},directives:function(){return[x.sg,x.O5,n1,o1,x.RF,x.n9,x.ED,KS,s1,x.tP,t]},encapsulation:2,data:{animation:[(0,Le.X$)("toggle",[(0,Le.eR)("void => *",[(0,Le.oB)({height:0}),(0,Le.jt)("0.1s ease-in",(0,Le.oB)({height:"*"}))]),(0,Le.eR)("* => void",[(0,Le.oB)({height:"*"}),(0,Le.jt)("0.1s ease-in",(0,Le.oB)({height:0}))])])]}}),L([(0,i.pfw)("class.k-group"),B("design:type",Boolean)],t.prototype,"kGroupClass",void 0),L([(0,i.pfw)("attr.role"),B("design:type",String)],t.prototype,"role",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"checkboxes",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"expandIcons",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"disabled",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"selectable",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"touchActions",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"loadOnDemand",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"trackBy",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"nodes",void 0),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"textField",void 0),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"parentDataItem",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"parentIndex",void 0),L([(0,i.IIB)(),B("design:type",i.Rgc)],t.prototype,"nodeTemplateRef",void 0),L([(0,i.IIB)(),B("design:type",i.Rgc)],t.prototype,"loadMoreButtonTemplateRef",void 0),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"loadMoreService",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isChecked",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isDisabled",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isExpanded",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isVisible",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isSelected",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"children",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"hasChildren",void 0),t=L([B("design:paramtypes",[ls,Gc,Vs,Pr,cs,Hc,zc,i.sBO])],t),t})(),hv=(()=>{let t=class{constructor(e){this.treeView=e,this.selectedKeysChange=new i.vpe,this.subscriptions=new Ie.w,this.selectActions={multiple:o=>this.selectMultiple(o),single:o=>this.selectSingle(o)},this._selectedKeys=[],this.subscriptions.add(this.treeView.selectionChange.subscribe(this.select.bind(this))),this.treeView.isSelected=(o,s)=>this.selectedKeys.indexOf(this.itemKey({dataItem:o,index:s}))>-1}set isSelected(e){this.treeView.isSelected=e}get selectedKeys(){return this._selectedKeys}set selectedKeys(e){this._selectedKeys=e}get getAriaMultiselectable(){return"multiple"===this.options.mode}get options(){const e={enabled:!0,mode:"single"};if(!$(this.selection)||"string"==typeof this.selection)return e;const o=(t=>"boolean"==typeof t)(this.selection)?{enabled:this.selection}:this.selection;return Object.assign(e,o)}ngOnDestroy(){this.subscriptions.unsubscribe()}itemKey(e){return this.selectKey?"string"==typeof this.selectKey?e.dataItem[this.selectKey]:"function"==typeof this.selectKey?this.selectKey(e):void 0:e.index}select(e){const{enabled:o,mode:s}=this.options;!o||(this.selectActions[s]||IS)(e)}selectSingle(e){const o=this.itemKey(e);this.selectedKeys[0]!==o&&(this.selectedKeys=[o],this.notify())}selectMultiple(e){const o=this.itemKey(e),s=this.selectedKeys.indexOf(o),r=s>-1;!$(o)||(r?this.selectedKeys.splice(s,1):this.selectedKeys.push(o),this.notify())}notify(){this.selectedKeysChange.emit(this.selectedKeys.slice())}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Tt))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTreeViewSelectable",""]],hostVars:1,hostBindings:function(e,o){2&e&&i.uIk("aria-multiselectable",o.getAriaMultiselectable)},inputs:{isSelected:"isSelected",selectedKeys:"selectedKeys",selectKey:["selectBy","selectKey"],selection:["kendoTreeViewSelectable","selection"]},outputs:{selectedKeysChange:"selectedKeysChange"}}),L([(0,i.IIB)(),B("design:type",Function),B("design:paramtypes",[Function])],t.prototype,"isSelected",null),L([(0,i.IIB)("selectBy"),B("design:type",Object)],t.prototype,"selectKey",void 0),L([(0,i.IIB)("kendoTreeViewSelectable"),B("design:type",Object)],t.prototype,"selection",void 0),L([(0,i.IIB)(),B("design:type",Array),B("design:paramtypes",[Array])],t.prototype,"selectedKeys",null),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"selectedKeysChange",void 0),L([(0,i.pfw)("attr.aria-multiselectable"),B("design:type",Boolean),B("design:paramtypes",[])],t.prototype,"getAriaMultiselectable",null),t=L([B("design:paramtypes",[Tt])],t),t})();new RegExp("(auto|scroll)"),new Vs;let KS=(()=>{let t=class{constructor(e,o,s){this.expandService=e,this.loadingService=o,this.cd=s,this._loading=!1}get loading(){return this._loading}set loading(e){this._loading=e,this.cd.markForCheck()}ngOnInit(){const e=this.loadingService.changes.pipe((0,ee.h)(o=>o===this.index));this.subscription=this.expandService.changes.pipe((0,ee.h)(({index:o})=>o===this.index),(0,ze.b)(({expand:o})=>{!o&&this.loading&&(this.loading=!1)}),(0,ee.h)(({expand:o})=>o),(0,vi.w)(o=>(0,cn.of)(o).pipe(pl(100),(0,Wi.R)(e)))).subscribe(()=>this.loading=!0),this.subscription.add(e.subscribe(()=>this.loading=!1))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ls),i.Y36(Gc),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTreeViewLoading",""]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-i-loading",o.loading)},inputs:{index:["kendoTreeViewLoading","index"]}}),L([(0,i.pfw)("class.k-i-loading"),B("design:type",Boolean),B("design:paramtypes",[Boolean])],t.prototype,"loading",null),L([(0,i.IIB)("kendoTreeViewLoading"),B("design:type",String)],t.prototype,"index",void 0),t=L([B("design:paramtypes",[ls,Gc,i.sBO])],t),t})();new Vs;const i1=(t,n)=>({dataItem:n,index:t});let NA=0,n1=(()=>{let t=class{constructor(e,o,s,r,a,l,d){this.element=e,this.expandService=o,this.navigationService=s,this.selectionService=r,this.lookupService=a,this.renderer=l,this.ib=d,this.role="treeitem",this.loadOnDemand=!0,this.isDisabled=!1,this.isVisible=!0,this.ariaChecked="false",this.id=NA++,this.isInitialized=!1,this.subscriptions=[],this.subscribe()}set isChecked(e){this.ariaChecked="checked"===e?"true":"indeterminate"===e?"mixed":"false"}get isExpanded(){return this._isExpanded||!1}set isExpanded(e){this._isExpanded=e}get isSelected(){return this._isSelected||!1}set isSelected(e){this._isSelected=e}get isButton(){return"button"===this.role}get treeItem(){return i1(this.index,this.dataItem)}get parentTreeItem(){return this.parentDataItem?i1(this.parentIndex,this.parentDataItem):null}ngOnInit(){this.loadOnDemand&&!this.isButton&&this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role",this.role),this.setAriaAttributes(),this.setDisabledClass(),this.updateTabIndex()}ngOnChanges(e){const{index:o,isDisabled:s}=e;bt(["index","checkable","isChecked","expandable","isExpanded","selectable","isSelected"],e)&&this.setAriaAttributes(),s&&this.setDisabledClass(),this.loadOnDemand&&!this.isButton&&this.moveLookupItem(e),this.moveNavigationItem(o),bt(["isDisabled","isVisible"],e)&&this.updateNodeAvailability()}ngOnDestroy(){this.navigationService.unregisterItem(this.id,this.index),this.loadOnDemand&&!this.isButton&&this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce((e,o)=>(o.unsubscribe(),e),[])}subscribe(){this.subscriptions=[this.navigationService.moves.subscribe(()=>{this.updateTabIndex(),this.focusItem()}),this.navigationService.expands.pipe((0,ee.h)(({index:e})=>e===this.index&&!this.isDisabled)).subscribe(({expand:e})=>this.expand(e))]}registerNavigationItem(){this.navigationService.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible),this.activateItem()}activateItem(){if(this.isDisabled)return;const e=this.navigationService,o=this.selectionService,s=this.index;o.setFirstSelected(s,this.isSelected),!e.isActive(s)&&o.isFirstSelected(s)&&e.activateIndex(s)}expand(e){this.expandService[e?"expand":"collapse"](this.index,this.dataItem)}isFocusable(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)}focusItem(){this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus()}moveLookupItem(e={}){const{dataItem:o,index:s,parentDataItem:r,parentIndex:a}=e;s&&s.firstChange||!(o||s||r||a)||this.lookupService.replaceItem((s||{}).previousValue||this.index,this.treeItem,this.parentTreeItem)}moveNavigationItem(e={}){const{currentValue:o,firstChange:s,previousValue:r}=e;!s&&$(o)&&$(r)&&(this.navigationService.unregisterItem(this.id,r),this.navigationService.registerItem(this.id,o,this.isDisabled,this.isButton))}updateNodeAvailability(){const e=this.navigationService;this.isDisabled||!this.isVisible?e.activateClosest(this.index):e.activateFocusable(),e.unregisterItem(this.id,this.index),e.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible)}setAriaAttributes(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.expandable?this.isExpanded.toString():null),this.setAttribute("aria-selected",this.selectable?this.isSelected.toString():null),this.setAttribute("aria-checked",this.checkable?this.ariaChecked:null)}setDisabledClass(){this.setClass("k-state-disabled",this.isDisabled)}setClass(e,o){this.renderer[o?"addClass":"removeClass"](this.element.nativeElement,e)}updateTabIndex(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")}setAttribute(e,o){$(o)?this.renderer.setAttribute(this.element.nativeElement,e,o):this.renderer.removeAttribute(this.element.nativeElement,e)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(ls),i.Y36(cs),i.Y36(Lr),i.Y36(Pr),i.Y36(i.Qsj),i.Y36(Vs))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTreeViewItem",""]],inputs:{role:"role",loadOnDemand:"loadOnDemand",isDisabled:"isDisabled",isVisible:"isVisible",isChecked:"isChecked",isExpanded:"isExpanded",isSelected:"isSelected",dataItem:"dataItem",index:"index",parentDataItem:"parentDataItem",parentIndex:"parentIndex",checkable:"checkable",selectable:"selectable",expandable:"expandable"},features:[i.TTD]}),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"dataItem",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"index",void 0),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"parentDataItem",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"parentIndex",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"role",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"loadOnDemand",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"checkable",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"selectable",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"expandable",void 0),L([(0,i.IIB)(),B("design:type",String),B("design:paramtypes",[String])],t.prototype,"isChecked",null),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"isDisabled",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"isVisible",void 0),L([(0,i.IIB)(),B("design:type",Boolean),B("design:paramtypes",[Boolean])],t.prototype,"isExpanded",null),L([(0,i.IIB)(),B("design:type",Boolean),B("design:paramtypes",[Boolean])],t.prototype,"isSelected",null),t=L([B("design:paramtypes",[i.SBq,ls,cs,Lr,Pr,i.Qsj,Vs])],t),t})(),o1=(()=>{let t=class{constructor(e,o,s,r){this.element=e,this.navigationService=o,this.selectionService=s,this.renderer=r,this.initialSelection=!1,this.isSelected=wS,this.subscriptions=new Ie.w,this.subscriptions.add(this.navigationService.moves.subscribe(this.updateFocusClass.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe((0,ee.h)(a=>a===this.index)).subscribe(a=>this.selectionService.select(a,this.dataItem))),this.subscriptions.add(this.selectionService.changes.subscribe(()=>{this.updateSelectionClass(this.isSelected(this.dataItem,this.index))}))}ngOnChanges(e){e.initialSelection&&this.updateSelectionClass(this.initialSelection),e.index&&this.updateFocusClass()}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFocusClass(){this.render(this.navigationService.isActive(this.index),"k-state-focused")}updateSelectionClass(e){this.render(e,"k-state-selected")}render(e,o){this.renderer[e?"addClass":"removeClass"](this.element.nativeElement,o)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(cs),i.Y36(Lr),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoTreeViewItemContent",""]],inputs:{initialSelection:"initialSelection",isSelected:"isSelected",dataItem:"dataItem",index:"index"},features:[i.TTD]}),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"dataItem",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"index",void 0),L([(0,i.IIB)(),B("design:type",Boolean)],t.prototype,"initialSelection",void 0),L([(0,i.IIB)(),B("design:type",Function)],t.prototype,"isSelected",void 0),t=L([B("design:paramtypes",[i.SBq,cs,Lr,i.Qsj])],t),t})(),s1=(()=>{let t=class{constructor(e,o,s){this.element=e,this.renderer=o,this.changeDetector=s,this.id=`_${Ve()}`,this.tabindex=0,this.checkStateChange=new i.vpe,this.checkState="none"}get classWrapper(){return!0}get indeterminate(){return"indeterminate"===this.checkState}get checked(){return"checked"===this.checkState}ngOnInit(){this.renderer.removeAttribute(this.element.nativeElement,"tabindex")}ngDoCheck(){this.checkState=this.isChecked(this.node,this.index)}handleChange(e){const o=e.target.checked?"checked":"none";this.checkState=o,this.changeDetector.detectChanges(),this.checkStateChange.emit(o)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-checkbox"]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-checkbox-wrapper",o.classWrapper)},inputs:{id:"id",tabindex:"tabindex",isChecked:"isChecked",node:"node",index:"index",labelText:"labelText"},outputs:{checkStateChange:"checkStateChange"},decls:3,vars:6,consts:[["type","checkbox",1,"k-checkbox",3,"id","checked","indeterminate","tabindex","change"],["tabindex","-1",1,"k-checkbox-label",3,"for"]],template:function(e,o){1&e&&(i.TgZ(0,"input",0),i.NdJ("change",function(r){return o.handleChange(r)}),i.qZA(),i.TgZ(1,"label",1),i._uU(2),i.qZA()),2&e&&(i.Q6J("id",o.id)("checked",o.checked)("indeterminate",o.indeterminate)("tabindex",o.tabindex),i.xp6(1),i.Q6J("for",o.id),i.xp6(1),i.Oqu(o.labelText))},encapsulation:2}),L([(0,i.pfw)("class.k-checkbox-wrapper"),B("design:type",Boolean),B("design:paramtypes",[])],t.prototype,"classWrapper",null),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"id",void 0),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"isChecked",void 0),L([(0,i.IIB)(),B("design:type",Object)],t.prototype,"node",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"index",void 0),L([(0,i.IIB)(),B("design:type",String)],t.prototype,"labelText",void 0),L([(0,i.IIB)(),B("design:type",Number)],t.prototype,"tabindex",void 0),L([(0,i.r_U)(),B("design:type",i.vpe)],t.prototype,"checkStateChange",void 0),t=L([B("design:paramtypes",[i.SBq,i.Qsj,i.sBO])],t),t})(),zA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),GA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,zA,Rp]]}),t})(),VA=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[GA]]}),t})();function HA(t,n){function e(){return!e.pred.apply(e.thisArg,arguments)}return e.pred=t,e.thisArg=n,e}function l1(t){return n=>n.lift(new $A(t))}class $A{constructor(n){this.predicate=n}call(n,e){return e.subscribe(new JA(n,this.predicate))}}class JA extends zn.L{constructor(n,e){super(n),this.predicate=e,this.skipping=!0,this.index=0}_next(n){const e=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||e.next(n)}tryCallPredicate(n){try{const e=this.predicate(n,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const jA=["input"],zp=function(t,n){return{focus:t,blur:n}},qA=["content"],ZA=["list"],UA=["virtualContainer"];function QA(t,n){}const So=function(t,n){return{templateRef:t,$implicit:n}};function XA(t,n){if(1&t&&i.YNc(0,QA,0,0,"ng-template",10),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.WLB(1,So,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function WA(t,n){if(1&t&&(i.TgZ(0,"strong"),i._uU(1),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Oqu(e.currentGroup)}}const c1=function(t){return{"k-virtual-item":t}},d1=function(t,n,e){return{"height.px":t,"minHeight.px":n,boxSizing:e}};function KA(t,n){if(1&t&&(i.TgZ(0,"div",8),i.YNc(1,XA,1,4,void 0,5),i.YNc(2,WA,2,1,"ng-template",9),i.qZA()),2&t){const e=i.oxw();i.Q6J("ngClass",i.VKq(4,c1,e.virtual))("ngStyle",i.kEZ(6,d1,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),i.xp6(1),i.Q6J("ngIf",e.fixedGroupTemplate),i.xp6(1),i.Q6J("ngIf",!e.fixedGroupTemplate)}}function e5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"label",14),i.TgZ(1,"input",15),i.NdJ("change",function(s){i.CHM(e);const r=i.oxw().index;return i.oxw(2).onCheckedChange(s,r)}),i.qZA(),i.qZA()}if(2&t){const e=i.oxw().index,o=i.oxw(2);i.xp6(1),i.Q6J("checked",o.isChecked(e))}}function t5(t,n){}function i5(t,n){if(1&t&&i.YNc(0,t5,0,0,"ng-template",10),2&t){const e=i.oxw().$implicit,o=i.oxw(2);i.Q6J("templateContext",i.WLB(1,So,o.template.templateRef,e))}}function n5(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw().$implicit,o=i.oxw(2);i.Oqu(o.getText(e))}}const u1=function(t,n){return{"k-virtual-item":t,"k-state-disabled":n}};function o5(t,n){if(1&t&&(i.TgZ(0,"li",12),i.YNc(1,e5,2,1,"label",13),i.YNc(2,i5,1,4,void 0,5),i.YNc(3,n5,1,1,"ng-template",9),i.qZA()),2&t){const e=n.$implicit,o=n.index,s=i.oxw(2);i.Q6J("checkboxes",s.checkboxes)("height",null==s.virtual?null:s.virtual.itemHeight)("index",o+s.startFrom)("multipleSelection",s.multipleSelection)("ngClass",i.WLB(10,u1,s.virtual,s.isDisabled(o))),i.uIk("id",s.optionPrefix+"-"+s.getValue(e))("tabIndex",-1),i.xp6(1),i.Q6J("ngIf",s.checkboxes.enabled),i.xp6(1),i.Q6J("ngIf",s.template),i.xp6(1),i.Q6J("ngIf",!s.template)}}function s5(t,n){if(1&t&&i.YNc(0,o5,4,13,"ng-template",11),2&t){const e=i.oxw();i.Q6J("ngForOf",e.data)}}function r5(t,n){}function a5(t,n){if(1&t&&i.YNc(0,r5,0,0,"ng-template",10),2&t){const e=i.oxw(2).$implicit,o=i.oxw(2);i.Q6J("templateContext",i.WLB(1,So,o.groupTemplate.templateRef,e.value))}}function l5(t,n){if(1&t&&(i.TgZ(0,"strong"),i._uU(1),i.qZA()),2&t){const e=i.oxw(2).$implicit;i.xp6(1),i.hij(" ",e.value,"")}}function c5(t,n){if(1&t&&(i.TgZ(0,"li",18),i.YNc(1,a5,1,4,void 0,5),i.YNc(2,l5,2,1,"ng-template",9),i.qZA()),2&t){const e=i.oxw().$implicit,o=i.oxw(2);i.Q6J("ngClass",i.VKq(7,c1,o.virtual))("ngStyle",i.kEZ(9,d1,null==o.virtual?null:o.virtual.itemHeight,null==o.virtual?null:o.virtual.itemHeight,o.virtual?"border-box":"inherit")),i.uIk("group-index",e.index)("id",o.optionPrefix+"-"+o.getValue(e.value))("tabIndex",-1),i.xp6(1),i.Q6J("ngIf",o.groupTemplate),i.xp6(1),i.Q6J("ngIf",!o.groupTemplate)}}function d5(t,n){}function u5(t,n){if(1&t&&i.YNc(0,d5,0,0,"ng-template",10),2&t){const e=i.oxw(2).$implicit,o=i.oxw(2);i.Q6J("templateContext",i.WLB(1,So,o.template.templateRef,e.value))}}function p5(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw(2).$implicit,o=i.oxw(2);i.Oqu(o.getText(e.value))}}function h5(t,n){if(1&t&&(i.TgZ(0,"li",19),i.YNc(1,u5,1,4,void 0,5),i.YNc(2,p5,1,1,"ng-template",9),i.qZA()),2&t){const e=i.oxw().$implicit,o=i.oxw(2);i.Q6J("height",null==o.virtual?null:o.virtual.itemHeight)("index",e.offsetIndex)("multipleSelection",o.multipleSelection)("ngClass",i.WLB(9,u1,o.virtual,o.isDisabled(e.offsetIndex))),i.uIk("absolute-index",e.index)("id",o.optionPrefix+"-"+o.getValue(e.value))("tabIndex",-1),i.xp6(1),i.Q6J("ngIf",o.template),i.xp6(1),i.Q6J("ngIf",!o.template)}}function f5(t,n){if(1&t&&(i.YNc(0,c5,3,13,"li",16),i.YNc(1,h5,3,12,"li",17)),2&t){const e=n.$implicit;i.Q6J("ngIf",e.header&&e.index>0),i.xp6(1),i.Q6J("ngIf",!e.header)}}function g5(t,n){if(1&t&&i.YNc(0,f5,2,2,"ng-template",11),2&t){const e=i.oxw();i.Q6J("ngForOf",e.data)}}function m5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",20),i.NdJ("resize",function(){return i.CHM(e),i.oxw().listResize.emit()}),i.qZA()}}function v5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",21,22),i.TgZ(2,"div"),i.TgZ(3,"kendo-resize-sensor",20),i.NdJ("resize",function(){return i.CHM(e),i.oxw().listResize.emit()}),i.qZA(),i.qZA(),i.qZA()}if(2&t){const e=i.oxw();i.xp6(2),i.Udp("height",e.scrollHeight,"px")}}const _5=function(t,n){return{"k-virtual-content":t,"k-list-scroller":n}},y5=function(t){return{"k-virtual-list":t}},Bl=["container"],Fl=["popupTemplate"],Gp=["optionsList"];function b5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",8),i.NdJ("click",function(s){return i.CHM(e),i.oxw().clearValue(s)})("mousedown",function(s){return s.preventDefault()}),i.qZA()}if(2&t){const e=i.oxw();i.Udp("visibility",e.clearButtonVisiblity),i.uIk("title",e.clearTitle)}}function C5(t,n){1&t&&i._UZ(0,"span",9)}function w5(t,n){}const Jt=function(t){return{templateRef:t}};function S5(t,n){if(1&t&&i.YNc(0,w5,0,0,"ng-template",14),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.headerTemplate.templateRef))}}function I5(t,n){}function k5(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.noDataText)}}function x5(t,n){if(1&t&&(i.TgZ(0,"div",15),i.YNc(1,I5,0,0,"ng-template",16),i.YNc(2,k5,2,1,"ng-template",6),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}function T5(t,n){}function D5(t,n){if(1&t&&i.YNc(0,T5,0,0,"ng-template",14),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.footerTemplate.templateRef))}}function M5(t,n){if(1&t){const e=i.EpF();i.YNc(0,S5,1,3,void 0,10),i.TgZ(1,"kendo-list",11,12),i.NdJ("pageChange",function(s){return i.CHM(e),i.oxw().pageChange(s)}),i.qZA(),i.YNc(3,x5,3,5,"div",13),i.YNc(4,D5,1,3,void 0,10)}if(2&t){const e=i.oxw();i.Q6J("ngIf",e.headerTemplate),i.xp6(1),i.Q6J("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),i.xp6(2),i.Q6J("ngIf",0===e.data.length),i.xp6(1),i.Q6J("ngIf",e.footerTemplate)}}function E5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",17),i.NdJ("resize",function(){return i.CHM(e),i.oxw().onResize()}),i.qZA()}}const Jc=["wrapper"],B5=["select"],Vp=function(t){return{mousedown:t}};function F5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",12),i.NdJ("click",function(s){return i.CHM(e),i.oxw().clearValue(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Udp("visibility",e.clearButtonVisiblity),i.Q6J("kendoEventsOutsideAngular",i.VKq(4,Vp,e.preventEventDefault)),i.uIk("title",e.clearTitle)}}function O5(t,n){}function R5(t,n){if(1&t&&i.YNc(0,O5,0,0,"ng-template",17),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.headerTemplate.templateRef))}}function A5(t,n){}function N5(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.noDataText)}}function L5(t,n){if(1&t&&(i.TgZ(0,"div",18),i.YNc(1,A5,0,0,"ng-template",19),i.YNc(2,N5,2,1,"ng-template",10),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}function P5(t,n){}function z5(t,n){if(1&t&&i.YNc(0,P5,0,0,"ng-template",17),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.footerTemplate.templateRef))}}function G5(t,n){if(1&t){const e=i.EpF();i.YNc(0,R5,1,3,void 0,13),i.TgZ(1,"kendo-list",14,15),i.NdJ("pageChange",function(s){return i.CHM(e),i.oxw().pageChange(s)}),i.qZA(),i.YNc(3,L5,3,5,"div",16),i.YNc(4,z5,1,3,void 0,13)}if(2&t){const e=i.oxw();i.Q6J("ngIf",e.headerTemplate),i.xp6(1),i.Q6J("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),i.xp6(2),i.Q6J("ngIf",0===e.data.length),i.xp6(1),i.Q6J("ngIf",e.footerTemplate)}}function V5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",20),i.NdJ("resize",function(){return i.CHM(e),i.oxw().onResize()}),i.qZA()}}const _v=function(t){return{"k-state-disabled":t}};function H5(t,n){}function Y5(t,n){if(1&t&&i.YNc(0,H5,0,0,"ng-template",10),2&t){const e=i.oxw();i.Q6J("templateContext",i.WLB(1,So,e.valueTemplate.templateRef,e.dataItem))}}function $5(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw();i.Oqu(e.getText())}}function J5(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",14),i.NdJ("click",function(s){return s.stopImmediatePropagation()}),i.TgZ(1,"input",15),i.NdJ("ngModelChange",function(s){return i.CHM(e),i.oxw(2).filterText=s})("keydown",function(s){return i.CHM(e),i.oxw(2).keydown(s)})("input",function(s){return i.CHM(e),i.oxw(2).handleFilter(s)})("focus",function(){return i.CHM(e),i.oxw(2).onFilterFocus()})("blur",function(){return i.CHM(e),i.oxw(2).blurFilterInput()}),i.qZA(),i._UZ(2,"span",16),i.qZA()}if(2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction)("ngModel",e.filterText),i.uIk("aria-owns",e.ariaOwns)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.noDataLabel)}}function j5(t,n){if(1&t&&(i.TgZ(0,"div",17),i._uU(1),i.qZA()),2&t){const e=i.oxw(2);i.Q6J("ngClass",i.VKq(3,_v,e.isDisabledDefaultItem))("index",-1),i.xp6(1),i.hij(" ",e.getDefaultItemText()," ")}}function q5(t,n){}function Z5(t,n){if(1&t&&(i.TgZ(0,"div",17),i.YNc(1,q5,0,0,"ng-template",10),i.qZA()),2&t){const e=i.oxw(2);i.Q6J("ngClass",i.VKq(3,_v,e.isDisabledDefaultItem))("index",-1),i.xp6(1),i.Q6J("templateContext",i.WLB(5,So,e.itemTemplate.templateRef,e.defaultItem))}}function U5(t,n){}function Q5(t,n){if(1&t&&i.YNc(0,U5,0,0,"ng-template",10),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.headerTemplate.templateRef))}}function X5(t,n){}function W5(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.noDataText)}}function K5(t,n){if(1&t&&(i.TgZ(0,"div",18),i.YNc(1,X5,0,0,"ng-template",19),i.YNc(2,W5,2,1,"ng-template",5),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}function eN(t,n){}function tN(t,n){if(1&t&&i.YNc(0,eN,0,0,"ng-template",10),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.footerTemplate.templateRef))}}function iN(t,n){if(1&t){const e=i.EpF();i.YNc(0,J5,3,6,"ng-template",5),i.YNc(1,j5,2,5,"ng-template",5),i.YNc(2,Z5,2,8,"ng-template",5),i.YNc(3,Q5,1,3,void 0,4),i.TgZ(4,"kendo-list",11,12),i.NdJ("pageChange",function(s){return i.CHM(e),i.oxw().pageChange(s)}),i.qZA(),i.YNc(6,K5,3,5,"div",13),i.YNc(7,tN,1,3,void 0,4)}if(2&t){const e=i.oxw();i.Q6J("ngIf",e.filterable),i.xp6(1),i.Q6J("ngIf",e.defaultItem&&!e.itemTemplate),i.xp6(1),i.Q6J("ngIf",e.defaultItem&&e.itemTemplate),i.xp6(1),i.Q6J("ngIf",e.headerTemplate),i.xp6(1),i.Q6J("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),i.xp6(2),i.Q6J("ngIf",0===e.data.length),i.xp6(1),i.Q6J("ngIf",e.footerTemplate)}}function nN(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",20),i.NdJ("resize",function(){return i.CHM(e),i.oxw().onResize()}),i.qZA()}}const p1=function(t){return{"k-dropdown-wrap":!0,"k-state-disabled":t}};function oN(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",11),i.NdJ("mousedown",function(s){return i.CHM(e),i.oxw().clearAll(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Udp("visibility",e.clearButtonVisiblity),i.uIk("title",e.clearTitle)}}function sN(t,n){1&t&&i._UZ(0,"span",12)}function rN(t,n){}function aN(t,n){if(1&t&&i.YNc(0,rN,0,0,"ng-template",18),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.headerTemplate.templateRef))}}function lN(t,n){}function cN(t,n){if(1&t&&i.YNc(0,lN,0,0,"ng-template",18),2&t){const e=i.oxw(3);i.Q6J("templateContext",i.WLB(1,So,e.customItemTemplate.templateRef,e.text))}}function dN(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw(3);i.Oqu(e.text)}}function uN(t,n){if(1&t&&(i.TgZ(0,"div",19),i.TgZ(1,"div",20),i.YNc(2,cN,1,4,void 0,21),i.YNc(3,dN,1,1,"ng-template",null,22,i.W1O),i._UZ(5,"span",23),i.qZA(),i.qZA()),2&t){const e=i.MAs(4),o=i.oxw(2);i.xp6(1),i.Q6J("multipleSelection",!0)("index",-1),i.xp6(1),i.Q6J("ngIf",o.customItemTemplate)("ngIfElse",e)}}function pN(t,n){}function hN(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.noDataText)}}function fN(t,n){if(1&t&&(i.TgZ(0,"div",24),i.YNc(1,pN,0,0,"ng-template",25),i.YNc(2,hN,2,1,"ng-template",9),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}function gN(t,n){}function mN(t,n){if(1&t&&i.YNc(0,gN,0,0,"ng-template",18),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,e.footerTemplate.templateRef))}}function vN(t,n){if(1&t){const e=i.EpF();i.YNc(0,aN,1,3,void 0,13),i.YNc(1,uN,6,4,"div",14),i.TgZ(2,"kendo-list",15,16),i.NdJ("pageChange",function(s){return i.CHM(e),i.oxw().pageChange(s)}),i.qZA(),i.YNc(4,fN,3,5,"div",17),i.YNc(5,mN,1,3,void 0,13)}if(2&t){const e=i.oxw();i.Q6J("ngIf",e.headerTemplate),i.xp6(1),i.Q6J("ngIf",e.allowCustom&&e.text),i.xp6(1),i.Q6J("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("height",e.listHeight)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("show",e.isOpen)("multipleSelection",!0)("virtual",e.virtual)("checkboxes",e.checkboxes),i.xp6(2),i.Q6J("ngIf",0===e.data.length),i.xp6(1),i.Q6J("ngIf",e.footerTemplate)}}function _N(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",26),i.NdJ("resize",function(){return i.CHM(e),i.oxw().onResize()}),i.qZA()}}const yN=["header"];function bN(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",12),i.NdJ("click",function(s){return i.CHM(e),i.oxw().clearValue(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Udp("visibility",e.clearButtonVisiblity),i.Q6J("kendoEventsOutsideAngular",i.VKq(4,Vp,e.preventEventDefault)),i.uIk("title",e.clearTitle)}}function CN(t,n){}function wN(t,n){if(1&t&&i.YNc(0,CN,0,0,"ng-template",23),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,null==e.headerTemplate?null:e.headerTemplate.templateRef))}}function SN(t,n){if(1&t&&i._UZ(0,"col"),2&t){const e=i.oxw().$implicit;i.Udp("width",e.width,"px")}}function IN(t,n){if(1&t&&(i.ynx(0),i.YNc(1,SN,1,2,"col",24),i.BQk()),2&t){const e=n.$implicit;i.xp6(1),i.Q6J("ngIf",!e.hidden&&e.matchesMedia)}}function kN(t,n){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const e=i.oxw(2).$implicit;i.xp6(1),i.hij(" ",e.title||e.field," ")}}function xN(t,n){}const TN=function(t,n,e){return{templateRef:t,$implicit:n,column:e}};function DN(t,n){if(1&t&&i.YNc(0,xN,0,0,"ng-template",23),2&t){const e=i.oxw(2).$implicit;i.Q6J("templateContext",i.kEZ(1,TN,null==e.headerTemplate?null:e.headerTemplate.templateRef,e,e))}}function MN(t,n){if(1&t&&(i.TgZ(0,"th",26),i.YNc(1,kN,2,1,"ng-container",13),i.YNc(2,DN,1,5,void 0,13),i.qZA()),2&t){const e=i.oxw().$implicit;i.Q6J("ngStyle",e.headerStyle)("ngClass",e.headerClass),i.xp6(1),i.Q6J("ngIf",!e.headerTemplate),i.xp6(1),i.Q6J("ngIf",e.headerTemplate)}}function EN(t,n){if(1&t&&(i.ynx(0),i.YNc(1,MN,3,4,"th",25),i.BQk()),2&t){const e=n.$implicit;i.xp6(1),i.Q6J("ngIf",!e.hidden&&e.matchesMedia)}}function BN(t,n){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const e=i.oxw(2).$implicit,o=i.oxw().$implicit,s=i.oxw(2);i.xp6(1),i.hij(" ",s.textFrom(o,e.field)," ")}}function FN(t,n){}const ON=function(t,n,e,o){return{templateRef:t,$implicit:n,dataItem:e,column:o}};function RN(t,n){if(1&t&&i.YNc(0,FN,0,0,"ng-template",23),2&t){const e=i.oxw(2).$implicit,o=i.oxw().$implicit;i.Q6J("templateContext",i.l5B(1,ON,null==e.cellTemplate?null:e.cellTemplate.templateRef,o,o,e))}}function AN(t,n){if(1&t&&(i.TgZ(0,"span",28),i.YNc(1,BN,2,1,"ng-container",13),i.YNc(2,RN,1,6,void 0,13),i.qZA()),2&t){const e=i.oxw().$implicit;i.Udp("width",e.width,"px"),i.Q6J("ngClass",e.class)("ngStyle",e.style),i.xp6(1),i.Q6J("ngIf",!e.cellTemplate),i.xp6(1),i.Q6J("ngIf",e.cellTemplate)}}function NN(t,n){if(1&t&&(i.ynx(0),i.YNc(1,AN,3,6,"span",27),i.BQk()),2&t){const e=n.$implicit;i.xp6(1),i.Q6J("ngIf",!e.hidden&&e.matchesMedia)}}function LN(t,n){if(1&t&&i.YNc(0,NN,2,1,"ng-container",18),2&t){const e=i.oxw(2);i.Q6J("ngForOf",e.columns)}}function PN(t,n){}function zN(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.noDataText)}}function GN(t,n){if(1&t&&(i.TgZ(0,"div",29),i.YNc(1,PN,0,0,"ng-template",30),i.YNc(2,zN,2,1,"ng-template",31),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}function VN(t,n){}function HN(t,n){if(1&t&&(i.ynx(0),i.TgZ(1,"div",32),i.YNc(2,VN,0,0,"ng-template",23),i.qZA(),i.BQk()),2&t){const e=i.oxw(2);i.xp6(2),i.Q6J("templateContext",i.VKq(1,Jt,e.footerTemplate.templateRef))}}function YN(t,n){if(1&t){const e=i.EpF();i.YNc(0,wN,1,3,void 0,13),i.TgZ(1,"div",14,15),i.TgZ(3,"div",16),i.TgZ(4,"table",17),i.TgZ(5,"colgroup"),i.YNc(6,IN,2,1,"ng-container",18),i.qZA(),i.TgZ(7,"tbody"),i.TgZ(8,"tr"),i.YNc(9,EN,2,1,"ng-container",18),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(10,LN,1,1,"ng-template",null,19,i.W1O),i.TgZ(12,"kendo-list",20,21),i.NdJ("pageChange",function(s){return i.CHM(e),i.oxw().pageChange(s)})("listResize",function(){i.CHM(e);const s=i.MAs(2);return i.oxw().updateHeaderPadding(s)}),i.qZA(),i.YNc(14,GN,3,5,"div",22),i.YNc(15,HN,3,3,"ng-container",13)}if(2&t){const e=i.MAs(11),o=i.oxw();i.Q6J("ngIf",o.headerTemplate),i.xp6(6),i.Q6J("ngForOf",o.columns),i.xp6(3),i.Q6J("ngForOf",o.columns),i.xp6(3),i.Q6J("id",o.listBoxId)("optionPrefix",o.optionPrefix)("data",o.data)("textField",o.textField)("valueField",o.valueField)("template",i.VKq(17,Jt,e))("groupTemplate",o.groupTemplate)("fixedGroupTemplate",o.fixedGroupTemplate)("height",o.listHeight)("show",o.isOpen)("virtual",o.virtual)("listClass","k-reset k-grid-list"),i.xp6(2),i.Q6J("ngIf",0===o.data.length),i.xp6(1),i.Q6J("ngIf",o.footerTemplate)}}function $N(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",33),i.NdJ("resize",function(){return i.CHM(e),i.oxw().onResize()}),i.qZA()}}const h1=["treeview"],f1=["filterInput"];function JN(t,n){}function jN(t,n){if(1&t&&i.YNc(0,JN,0,0,"ng-template",11),2&t){const e=i.oxw();i.Q6J("templateContext",i.WLB(1,So,e.valueTemplate.templateRef,e.dataItem))}}function qN(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw();i.hij(" ",e.text||e.placeholder," ")}}function ZN(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",12),i.NdJ("click",function(s){return i.CHM(e),i.oxw().clearValue(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Udp("visibility",e.clearButtonVisiblity),i.uIk("title",e.messageFor("clearTitle"))}}const yv=function(t){return{blur:t}};function UN(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",16),i.TgZ(1,"input",17,18),i.NdJ("input",function(s){return i.CHM(e),i.oxw(2).handleFilterInputChange(s.target.value)})("keydown.arrowdown",function(s){return i.CHM(e),i.oxw(2).handleKeydown(s)})("keydown.alt.arrowup",function(s){return i.CHM(e),i.oxw(2).handleKeydown(s)})("ngModelChange",function(s){return i.CHM(e),i.oxw(2).filter=s}),i.qZA(),i._UZ(3,"span",19),i.qZA()}if(2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("filterInput",e.filterable&&!e.touchEnabled)("ngModel",e.filter)("kendoEventsOutsideAngular",i.VKq(4,yv,e.handleBlur))("scope",e)}}function QN(t,n){}function XN(t,n){if(1&t&&i.YNc(0,QN,0,0,"ng-template",11),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,null==e.headerTemplate?null:e.headerTemplate.templateRef))}}function WN(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-treeview",20,21),i.NdJ("selectedKeysChange",function(s){return i.CHM(e),i.oxw(2).selectedKeys=s})("focusout",function(s){return i.CHM(e),i.oxw(2).handleBlur(s)})("keydown",function(s){return i.CHM(e),i.oxw(2).handleKeydown(s)})("selectionChange",function(s){return i.CHM(e),i.oxw(2).onSelectionChange(s)})("expand",function(s){return i.CHM(e),i.oxw(2).nodeExpand.emit(s)})("collapse",function(s){return i.CHM(e),i.oxw(2).nodeCollapse.emit(s)}),i.qZA()}if(2&t){const e=i.oxw(2);i.Udp("max-height",e.listHeight,"px"),i.Q6J("nodes",e.data)("animate",!1)("selectedKeys",e.selectedKeys)("selectBy",e.selectBy)("textField",e.textField)("children",e.children)("hasChildren",e.hasChildren)("loadOnDemand",e.loadOnDemand)("isExpanded",e.isNodeExpanded)("isDisabled",e.itemDisabled)("nodeTemplate",e.nodeTemplate)("filter",e.filter)("isVisible",e.isNodeVisible)}}function KN(t,n){}function eL(t,n){if(1&t&&i.YNc(0,KN,0,0,"ng-template",11),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,null==e.footerTemplate?null:e.footerTemplate.templateRef))}}function tL(t,n){}function iL(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.messageFor("noDataText"))}}function nL(t,n){if(1&t&&(i.TgZ(0,"div",22),i.YNc(1,tL,0,0,"ng-template",23),i.YNc(2,iL,2,1,"ng-template",5),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}function oL(t,n){if(1&t&&(i.YNc(0,UN,4,6,"span",13),i.YNc(1,XN,1,3,void 0,4),i.YNc(2,WN,2,15,"kendo-treeview",14),i.YNc(3,eL,1,3,void 0,4),i.YNc(4,nL,3,5,"div",15)),2&t){const e=i.oxw();i.Q6J("ngIf",e.filterable),i.xp6(1),i.Q6J("ngIf",e.headerTemplate),i.xp6(1),i.Q6J("ngIf",0!==e.data.length&&!e.allNodesHidden),i.xp6(1),i.Q6J("ngIf",e.footerTemplate),i.xp6(1),i.Q6J("ngIf",0===e.data.length||e.allNodesHidden)}}const sL=["checkAllInput"];function rL(t,n){if(1&t&&(i.TgZ(0,"span",9),i._uU(1),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.placeholder," ")}}function aL(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",10),i.NdJ("click",function(s){return i.CHM(e),i.oxw().clearAll(s)}),i.qZA()}if(2&t){const e=i.oxw();i.uIk("title",e.messageFor("clearTitle"))}}function lL(t,n){1&t&&i._UZ(0,"span",11)}function cL(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",18),i.TgZ(1,"input",19,20),i.NdJ("input",function(s){return i.CHM(e),i.oxw(2).handleFilterInputChange(s.target.value)})("keydown",function(s){return i.CHM(e),i.oxw(2).handleKeydown(s)})("ngModelChange",function(s){return i.CHM(e),i.oxw(2).filter=s}),i.qZA(),i._UZ(3,"span",21),i.qZA()}if(2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("filterInput",e.filterable&&!e.touchEnabled)("ngModel",e.filter)("kendoEventsOutsideAngular",i.VKq(4,yv,e.handleBlur))("scope",e)}}function dL(t,n){}function uL(t,n){if(1&t&&i.YNc(0,dL,0,0,"ng-template",22),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,null==e.headerTemplate?null:e.headerTemplate.templateRef))}}function pL(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",23),i.TgZ(1,"input",24,25),i.NdJ("checkedItemsChange",function(s){return i.CHM(e),i.oxw(2).handleCheckedItemsChange(s)})("keydown",function(s){return i.CHM(e),i.oxw(2).handleKeydown(s)}),i.qZA(),i.TgZ(3,"span",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).toggleCheckAll()})("mousedown",function(s){return s.preventDefault()}),i._uU(4),i.qZA(),i.qZA()}if(2&t){i.oxw();const e=i.MAs(4),o=i.oxw();i.xp6(1),i.Q6J("checkAll",!o.filterable&&!o.touchEnabled)("treeview",e)("checkedItems",o.checkedItems)("valueField",o.valueField)("lastAction",o.lastAction)("kendoEventsOutsideAngular",i.VKq(8,yv,o.handleBlur))("scope",o),i.xp6(3),i.hij(" ",o.messageFor("checkAllText")," ")}}function hL(t,n){}function fL(t,n){if(1&t&&i.YNc(0,hL,0,0,"ng-template",22),2&t){const e=i.oxw(2);i.Q6J("templateContext",i.VKq(1,Jt,null==e.footerTemplate?null:e.footerTemplate.templateRef))}}function gL(t,n){}function mL(t,n){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.messageFor("noDataText"))}}function vL(t,n){if(1&t&&(i.TgZ(0,"div",27),i.YNc(1,gL,0,0,"ng-template",28),i.YNc(2,mL,2,1,"ng-template",29),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.noDataTemplate)("templateContext",i.VKq(3,Jt,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),i.xp6(1),i.Q6J("ngIf",!e.noDataTemplate)}}const _L=function(t){return{focusout:t}};function yL(t,n){if(1&t){const e=i.EpF();i.YNc(0,cL,4,6,"span",12),i.YNc(1,uL,1,3,void 0,13),i.YNc(2,pL,5,10,"div",14),i.TgZ(3,"kendo-treeview",15,16),i.NdJ("keydown",function(s){return i.CHM(e),i.oxw().handleKeydown(s)})("nodeClick",function(s){return i.CHM(e),i.oxw().handleNodeClick(s)})("expand",function(s){return i.CHM(e),i.oxw().nodeExpand.emit(s)})("collapse",function(s){return i.CHM(e),i.oxw().nodeCollapse.emit(s)})("checkedItemsChange",function(s){return i.CHM(e),i.oxw().handleCheckedItemsChange(s)}),i.qZA(),i.YNc(5,fL,1,3,void 0,13),i.YNc(6,vL,3,5,"div",17)}if(2&t){const e=i.oxw();i.Q6J("ngIf",e.filterable),i.xp6(1),i.Q6J("ngIf",e.headerTemplate),i.xp6(1),i.Q6J("ngIf",e.checkAll),i.xp6(1),i.Udp("max-height",e.listHeight,"px"),i.Q6J("nodes",e.data)("animate",!1)("checkable",e.checkableSettings)("checkedItems",e.checkedItems)("valueField",e.valueField)("textField",e.textField)("children",e.children)("hasChildren",e.hasChildren)("isExpanded",e.isNodeExpanded)("isDisabled",e.itemDisabled)("nodeTemplate",e.nodeTemplate)("loadOnDemand",e.loadOnDemand)("filter",e.filter)("isVisible",e.isNodeVisible)("kendoEventsOutsideAngular",i.VKq(23,_L,e.handleBlur))("scope",e),i.xp6(2),i.Q6J("ngIf",e.footerTemplate),i.xp6(1),i.Q6J("ngIf",0===(null==e.data?null:e.data.length)||e.allNodesHidden)}}const bL=function(t){return{"k-multiselect-wrap":!0,"k-floatwrap":!0,"k-state-disabled":t}};function CL(t,n){}function wL(t,n){1&t&&i.YNc(0,CL,0,0,"ng-template")}function SL(t,n){}function IL(t,n){if(1&t&&i.YNc(0,SL,0,0,"ng-template",10),2&t){const e=i.oxw(2).$implicit,o=i.oxw();i.Q6J("templateContext",i.WLB(1,So,o.groupTemplate.templateRef,e))}}function kL(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw(2).$implicit;i.AsE("",e.length," ",1===e.length?"item":"items"," selected")}}function xL(t,n){if(1&t&&(i.TgZ(0,"span"),i.YNc(1,IL,1,4,void 0,8),i.YNc(2,kL,1,2,"ng-template",9),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.groupTemplate),i.xp6(1),i.Q6J("ngIf",!e.groupTemplate)}}function TL(t,n){}function DL(t,n){if(1&t&&i.YNc(0,TL,0,0,"ng-template",10),2&t){const e=i.oxw(2).$implicit,o=i.oxw();i.Q6J("templateContext",i.WLB(1,So,o.template.templateRef,e))}}function ML(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw(2),o=e.$implicit,s=e.index,r=i.oxw();i.Oqu(r.tagProp(o,r.textField,s))}}function EL(t,n){if(1&t&&(i.TgZ(0,"span"),i.YNc(1,DL,1,4,void 0,8),i.YNc(2,ML,1,1,"ng-template",9),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.template),i.xp6(1),i.Q6J("ngIf",!e.template)}}const BL=function(t,n){return{"k-state-focused":t,"k-state-disabled":n}};function FL(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"li",2),i.YNc(1,wL,1,0,void 0,3),i.YNc(2,xL,3,2,"ng-template",null,4,i.W1O),i.YNc(4,EL,3,2,"ng-template",null,5,i.W1O),i.TgZ(6,"span",6),i.TgZ(7,"span",7),i.NdJ("mousedown",function(s){const r=i.CHM(e),a=r.$implicit,l=r.index;return i.oxw().deleteTag(s,a,l)}),i.qZA(),i.qZA(),i.qZA()}if(2&t){const e=n.$implicit,o=n.index,s=i.MAs(3),r=i.MAs(5),a=i.oxw();i.Q6J("ngClass",i.WLB(8,BL,o===a.focused,a.isTagDisabled(e,o))),i.uIk("id",a.itemId(e,o))("aria-hidden",a.tagAriaHidden(o))("aria-setsize",null==a.tags?null:a.tags.length),i.xp6(1),i.Q6J("ngIf",a.isGroupTag(e))("ngIfThen",s)("ngIfElse",r),i.xp6(5),i.uIk("aria-hidden",o!==a.focused)}}const Hp={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1639043976,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},N=t=>null!=t,tn=()=>{let n,e,t="";for(n=0;n<32;n++)e=16*Math.random()|0,(8===n||12===n||16===n||20===n)&&(t+="-"),t+=(12===n?4:16===n?3&e|8:e).toString(16);return t},Yi=t=>Array.isArray(t),Vr=t=>N(t)&&"object"==typeof t,g1=t=>"string"==typeof t&&0===t.length,Yp=t=>Yi(t)&&t.every(n=>Vr(n)),bv=(t,n,e)=>{const o=n.map(s=>N(s)&&N(ie(s,e))?ie(s,e):s);return t.reduce((s,r)=>{const a=N(r)&&N(ie(r,e))?ie(r,e):r,l=o.indexOf(a);return-1!==l&&s.push(l),s},[])},ie=(t,n)=>N(t)?N(n)&&Vr(t)?qt(n)(t):t:null,m1=(t,n,e)=>{if(!N(t))return!1;let o=String(t);return e&&(o=o.toLowerCase()),0===o.indexOf(n)},v1=(t,n)=>!!N(t)&&n.every(e=>t.hasOwnProperty(e)),Ol=t=>t.className.includes("ng-untouched"),Hr=t=>{},GL=(t,n)=>{const e=t.matches||t.msMatchesSelector||t.webkitMatchesSelector;return!!e&&e.call(t,n)},$p=(t,n=0)=>{const e=Number(t);return isNaN(e)?n:e},jc=(t,n,e)=>t.nativeElement.contains(n)||e&&e.popupElement.contains(n),Cv=t=>(t||"").split("_").length-1,wv=(t,n)=>{if(!N(t)||0===t.children.length)return[];let e=t.children;return N(n)&&(e=e.filter(o=>n(o.item))),e.forEach(o=>e=e.concat(wv(o,n))),e},Hs=({dataItem:t,index:n,level:e},o)=>{const s=Array.isArray(o)?o:[o],r=N(e)?e:Cv(n);return qt(s[Math.min(r,s.length-1)])(t)};let dn=(()=>{let t=class{constructor(e,o){this.localization=e,this.valueChange=new i.vpe,this.onBlur=new i.vpe,this.onFocus=new i.vpe,this.onClick=new i.vpe,this.onNavigate=new i.vpe,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=e.rtl?"rtl":"ltr",this.renderer=o}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnChanges(e){let o;if(this.input&&(e.userInput||e.suggestedText)){o=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const s=this.input.nativeElement.selectionStart,r=o.length===s;this.writeInputValue(this.suggestedText?((t,n)=>t.concat(n.substr(n.toLowerCase().indexOf(t.toLowerCase())+t.length)))(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(s,s),this._previousValue=this.userInput}}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}writeInputValue(e){W()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,o){if(W()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,o)}catch(s){}}handleInput(e){const o=e.target.value;o!==this.userInput&&(this._previousValue=o,this.valueChange.emit(o))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[R.ArrowUp,R.ArrowDown,R.ArrowLeft,R.ArrowRight,R.Enter,R.Escape,R.Delete,R.Backspace,R.Home,R.End].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){W()&&this.input.nativeElement.focus()}blur(){W()&&this.input.nativeElement.blur()}setInputSize(){const e=l=>l?l.length:0,o=this.input.nativeElement,s=e(this.placeholder),r=e(this.value),a=Math.max(s,r,1);this.renderer.setAttribute(o,"size",a.toString())}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-searchbar"]],viewQuery:function(e,o){if(1&e&&i.Gf(jA,7),2&e){let s;i.iGM(s=i.CRH())&&(o.input=s.first)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-searchbar",o.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[i.TTD],decls:2,vars:21,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope","input","keydown"],["input",""]],template:function(e,o){1&e&&(i.TgZ(0,"input",0,1),i.NdJ("input",function(r){return o.handleInput(r)})("keydown",function(r){return o.handleKeydown(r)}),i.qZA()),2&e&&(i.Tol("k-input"),i.Q6J("id",o.id)("disabled",o.disabled)("readonly",o.readonly)("placeholder",o.placeholder)("kendoEventsOutsideAngular",i.WLB(18,zp,o.handleFocus,o.handleBlur))("scope",o),i.uIk("tabIndex",o.tabIndex)("dir",o.direction)("role",o.role)("aria-disabled",o.disabled)("aria-readonly",o.readonly)("aria-expanded",o.popupOpen)("aria-owns",o.listId)("aria-describedby",o.tagListId)("aria-activedescendant",o.activeDescendant)("aria-label",o.noDataLabel))},directives:[kt],encapsulation:2}),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"id",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"listId",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"tagListId",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"activeDescendant",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"noDataLabel",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Number)],t.prototype,"tabIndex",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"popupOpen",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"role",void 0),b([(0,i.IIB)(),_("design:type",String),_("design:paramtypes",[String])],t.prototype,"userInput",null),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"suggestedText",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"onBlur",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"onFocus",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"onClick",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"onNavigate",void 0),b([(0,i.i9L)("input",{static:!0}),_("design:type",i.SBq)],t.prototype,"input",void 0),b([(0,i.pfw)("class.k-searchbar"),_("design:type",Boolean)],t.prototype,"searchBarClass",void 0),b([(0,i.IIB)(),_("design:type",String),_("design:paramtypes",[String])],t.prototype,"placeholder",null),t=b([_("design:paramtypes",[I,i.Qsj])],t),t})(),un=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),ci=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoDropDownTreeHeaderTemplate",""],["","kendoMultiColumnComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""],["","kendoMultiSelectTreeHeaderTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),di=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoDropDownTreeFooterTemplate",""],["","kendoMultiColumnComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""],["","kendoMultiSelectTreeFooterTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),pn=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoMultiColumnComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),hn=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoMultiColumnComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),Pt=(()=>{let t=class{constructor(){this.onSelect=new i.vpe,this.onChange=new i.vpe,this.onFocus=new i.vpe,this.total=0,this.selectedIndices=[]}getTotal(){return this.total}isSelected(e){return N(this.selectedIndices.find(o=>o===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:N(e)}))}add(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}unselect(e){if(!this.isSelected(e))return;const o=this.selectedIndices.indexOf(e);this.selectedIndices.splice(o,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}change(e){const o=N(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:o})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();var Ee=(()=>(function(t){t[t.Undefined=0]="Undefined",t[t.Open=1]="Open",t[t.Close=2]="Close",t[t.Enter=3]="Enter",t[t.Tab=4]="Tab",t[t.Esc=5]="Esc",t[t.Delete=6]="Delete",t[t.Backspace=7]="Backspace",t[t.Home=8]="Home",t[t.End=9]="End",t[t.Up=10]="Up",t[t.Down=11]="Down",t[t.Left=12]="Left",t[t.Right=13]="Right"}(Ee||(Ee={})),Ee))();let Zt=(()=>{let t=class{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return N(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(o=>!o.header):this.data).length:0}isGrouped(e){return N(e)&&0!==e.length&&N(e[0])&&v1(e[0],["aggregates","field","items","value"])}getGroupIndices(e){let o=[];for(let s=0;s<=e.length-1;s++)o[s]=(o[s-1]||0)+e[s].items.length;return o}filter(e){let o=[];if(this.isGrouped(this.data))for(let s=0;s<=this.groupIndices.length-1;s++){const r=this.data[s].items.filter(e);r&&(o=o.concat(r))}else o=this.data.filter(e);return o}indexOf(e,o=0){let s=r=>r===e;return this.grouped&&(s=r=>r.value===e),this.findIndex(s,o)}findIndex(e,o=0){let s=-1;if(this.grouped){const r=this._flatData.filter(a=>!a.header&&a.offsetIndex>=o);s=r.findIndex(e),s=r[s]?r[s].offsetIndex:-1}else{const a=this.data.slice(o).findIndex(e);s=-1!==a?a+o:-1}return s}closestGroup(e){for(let o=e;o>=0;o--)if(this._flatData[o].header)return this._flatData[o]}find(e){const o=this.findIndex(e);return this.itemAt(o)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const o=this._flatData.find(s=>!s.header&&s.offsetIndex===e);if(o)return o.index}return-1}itemAt(e){let o;if(0===this.itemsCount)return o;if(this.grouped){const s=this._flatData.find(r=>!r.header&&r.offsetIndex===e);s&&(o=s.value)}else o=this.data[e];return o}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(o=>o.header&&o.index===e)}groupField(){return 0!==this.itemsCount&&this.isGrouped?this._data[0].field:null}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const o=this.groupField();return o?ie(e,o):void 0}flatten(e,o,s=0,r=0){let a=[];N(o)&&a.push({header:!0,index:r+s,offsetIndex:r,value:o});for(let l=0;l<e.length;l++){let d=[];e[l].items?(d=this.flatten(e[l].items,e[l].value,s,l),s+=e[l].items.length):d.push({header:!1,index:r+s+l+1,offsetIndex:s+l,value:e[l]}),a=a.concat(d)}return a}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Ut=(()=>{let t=class{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const o=this.dataService.itemAt(e);if(N(o))return this.itemDisabled({dataItem:o,index:e});if(N(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const o=this.dataService.indexOf(e);if(-1!==o)return this.itemDisabled({dataItem:e,index:o});if(N(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Zt))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=b([_("design:paramtypes",[Zt])],t),t})();class y1{constructor(n,e){this.index=n,this.originalEvent=e}}let Qt=(()=>{let t=class{constructor(e,o){this.disabledItemsService=e,this.selectionService=o,this.open=new i.vpe,this.close=new i.vpe,this.enter=new i.vpe,this.tab=new i.vpe,this.esc=new i.vpe,this.up=new i.vpe,this.right=new i.vpe,this.down=new i.vpe,this.left=new i.vpe,this.delete=new i.vpe,this.backspace=new i.vpe,this.home=new i.vpe,this.end=new i.vpe}process(e){const o=e.originalEvent.keyCode,s=e.originalEvent.altKey;let r,a=Ee.Undefined;s&&o===R.ArrowDown?a=Ee.Open:s&&o===R.ArrowUp?a=Ee.Close:o===R.Enter?a=Ee.Enter:o===R.Escape?a=Ee.Esc:o===R.Tab?a=Ee.Tab:o===R.ArrowUp?(r=this.next({current:e.current,start:e.min,end:e.max,step:-1}),a=Ee.Up):o===R.ArrowLeft?(r=this.next({current:e.current,start:e.min,end:e.max,step:-1}),a=Ee.Left):o===R.ArrowDown?(r=this.next({current:e.current,start:e.min,end:e.max,step:1}),a=Ee.Down):o===R.ArrowRight?(r=this.next({current:e.current,start:e.min,end:e.max,step:1}),a=Ee.Right):o===R.Home?(r=this.isDisabled(0)?e.current:0,a=Ee.Home):o===R.End?(r=this.isDisabled(e.max)?e.current:e.max,a=Ee.End):o===R.Delete?a=Ee.Delete:o===R.Backspace&&(a=Ee.Backspace);const l=new y1(r,e.originalEvent);return a!==Ee.Undefined&&this[Ee[a].toLowerCase()].emit(l),a}next(e){const{current:o,start:s,end:r,step:a}=e,l=N(o)?this.clampIndex(o+a,s,r):s,d=this.firstFocusableIndex(l,s,r,a);return N(d)?d:this.selectionService.isSelected(o)&&o>=s?o:this.firstFocusableIndex(l,s,r,-1*a)}clampIndex(e,o,s){return!N(e)||e<o?o:e>s?s:e}firstFocusableIndex(e,o,s,r){for(;o<=e&&e<=s;){if(!this.isDisabled(e))return e;e+=r}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ut),i.LFG(Pt))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=b([_("design:paramtypes",[Ut,Pt])],t),t})(),ui=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoDropDownTreeNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoMultiColumnComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""],["","kendoMultiSelectTreeNoDataTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})();class Yr{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class $r{}let qc=(()=>{let t=class{constructor(e){this.element=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["li","role","option"],["li","role","group"]]}),t=b([_("design:paramtypes",[i.SBq])],t),t})(),Io=(()=>{let t=class{constructor(e,o,s,r,a,l,d){this.dataService=e,this.wrapper=o,this.selectionService=s,this.disabledItemsService=r,this.cdr=a,this.zone=l,this.renderer=d,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.listClass="k-list k-reset",this.checkboxes={enabled:!1},this.onClick=new i.vpe,this.pageChange=new i.vpe,this.listResize=new i.vpe,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=(0,We.T)(this.selectionService.onSelect.pipe((0,xe.U)(c=>c.indices[0])),this.selectionService.onFocus).pipe((0,vi.w)(c=>this.zone.onStable.pipe((0,nt.q)(1),(0,xe.U)(()=>c)))).subscribe(this.scrollToItem.bind(this))}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}get overflowY(){if(N(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"}ngOnChanges(e){ht("data",e,!1)&&(this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange()),this.setOverflow()),ht("virtual",e,!1)&&this.setOverflow()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.scrollSubscription=(0,mt.R)(this.content.nativeElement,"scroll").pipe(wc(100),(0,ze.b)(this.prefetchData.bind(this)),(0,ze.b)(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})}),this.setOverflow()}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onCheckedChange(e,o){const s=e.target.checked;s&&!this.selectionService.isSelected(o)&&this.selectionService.add(o),!s&&this.selectionService.isSelected(o)&&this.selectionService.unselect(o)}isChecked(e){return this.selectionService.isSelected(this.virtual?e+this.virtual.skip:e)}firstVisibleItem(){const e=this.content.nativeElement,o=e.getBoundingClientRect(),s=Array.prototype.slice.call(e.querySelectorAll(".k-state-disabled"));s.forEach(a=>this.renderer.setStyle(a,"pointer-events","auto"));const r=document.elementFromPoint(o.left+1,o.top+1);return s.forEach(a=>this.renderer.setStyle(a,"pointer-events","none")),((t,n)=>{let e=t;for(;null!==e&&1===e.nodeType;){if(GL(e,"li"))return e;e=e.parentElement||e.parentNode}return null})(r)}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let o;"group"===e.getAttribute("role")?(o=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(o).value):(o=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(o)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),o=this.content.nativeElement.scrollTop,s=Math.trunc(o/this.virtual.itemHeight),r=o>this.lastScrollTop,d=this.lastLoaded-this.pageSize+e>=s-(this.pageSize-(this.lastLoaded-this.startFrom));r&&s+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(s),!r&&d&&this.changePage(s-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let o=this.pageSize+e;o>this.virtual.total&&(e--,o=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=o,this.pageChange.emit({skip:e,take:this.pageSize})})}index(e,o){return e>0?this.dataService.groupIndices[e-1]+o:o}getText(e){return ie(e,this.textField)}getValue(e){return ie(e,this.valueField)}isDisabled(e){return N(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}scrollToItem(e){let o=e;if(this.dataService.grouped&&(o=this.dataService.flatIndex(e),o+=this.firstGroupHeaderInTargetedPage(o)?-1:0),this.virtual&&o>-1)return void this.scrollToIndex(o);const s=this.items.toArray();N(s[o])&&-1!==o&&this.scroll(s[o].element)}scrollToIndex(e){let o=this.content.nativeElement,s=o.scrollTop;const r=e*this.virtual.itemHeight,l=o.clientHeight,d=r+this.virtual.itemHeight;s>r?s=r:d>s+l&&(s=d-l),o.scrollTop=s}scroll(e){if(!e)return;const o=e.nativeElement;let s=this.content.nativeElement,r=o.offsetTop,l=s.scrollTop,d=s.clientHeight,c=r+o.offsetHeight;l>r?l=r:c>l+d&&(l=c-d),s.scrollTop=l}hasScrollbar(){return!!(N(this.items)&&this.items.length&&N(this.list)&&N(this.content))&&(N(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight)}setOverflow(){if(this.virtual){const e=this.hasVirtualScrollbar()?"scroll":"hidden";this.renderer.setStyle(this.content.nativeElement,"overflow-y",e)}}hasVirtualScrollbar(){return this.virtualContainer&&(this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight)>this.content.nativeElement.offsetHeight}positionItems(){this.items.forEach((e,o)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(o+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!N(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Zt),i.Y36(i.SBq),i.Y36(Pt),i.Y36(Ut),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-list"]],viewQuery:function(e,o){if(1&e&&(i.Gf(qA,7),i.Gf(ZA,7),i.Gf(UA,5),i.Gf(qc,5)),2&e){let s;i.iGM(s=i.CRH())&&(o.content=s.first),i.iGM(s=i.CRH())&&(o.list=s.first),i.iGM(s=i.CRH())&&(o.virtualContainer=s.first),i.iGM(s=i.CRH())&&(o.items=s)}},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",listClass:"listClass",checkboxes:"checkboxes",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange",listResize:"listResize"},features:[i.TTD],decls:9,vars:20,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",3,"ngClass"],["list",""],[4,"ngIf"],[3,"resize",4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"checkboxes","height","index","multipleSelection","ngClass"],["class","k-checkbox-label",4,"ngIf"],[1,"k-checkbox-label"],["type","checkbox",1,"k-checkbox",3,"checked","change"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],[3,"resize"],["role","presentation",1,"k-height-container"],["virtualContainer",""]],template:function(e,o){1&e&&(i.YNc(0,KA,3,10,"div",0),i.TgZ(1,"div",1,2),i.TgZ(3,"ul",3,4),i.YNc(5,s5,1,1,void 0,5),i.YNc(6,g5,1,1,void 0,5),i.YNc(7,m5,1,0,"kendo-resize-sensor",6),i.qZA(),i.YNc(8,v5,4,2,"div",7),i.qZA()),2&e&&(i.Q6J("ngIf",o.dataService.grouped),i.xp6(1),i.Udp("overscroll-behavior","none")("max-height",o.height,"px"),i.Q6J("ngClass",i.WLB(15,_5,o.virtual,!o.virtual)),i.xp6(2),i.Tol(o.listClass),i.Q6J("ngClass",i.VKq(18,y5,o.virtual)),i.uIk("id",o.id)("aria-hidden",!o.show),i.xp6(2),i.Q6J("ngIf",!o.dataService.grouped&&o.show),i.xp6(1),i.Q6J("ngIf",o.dataService.grouped),i.xp6(1),i.Q6J("ngIf",!o.virtual),i.xp6(1),i.Q6J("ngIf",o.virtual))},directives:function(){return[x.O5,x.mk,x.PC,To,x.sg,qc,sh,ai]},encapsulation:2}),b([(0,i.IIB)(),_("design:type",Array)],t.prototype,"selected",void 0),b([(0,i.IIB)(),_("design:type",Number)],t.prototype,"focused",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Number)],t.prototype,"height",void 0),b([(0,i.IIB)(),_("design:type",un)],t.prototype,"template",void 0),b([(0,i.IIB)(),_("design:type",pn)],t.prototype,"groupTemplate",void 0),b([(0,i.IIB)(),_("design:type",hn)],t.prototype,"fixedGroupTemplate",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"show",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"id",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"optionPrefix",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"multipleSelection",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"virtual",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"listClass",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"checkboxes",void 0),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],t.prototype,"data",null),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"onClick",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"pageChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"listResize",void 0),b([(0,i.vR)(qc),_("design:type",i.n_E)],t.prototype,"items",void 0),b([(0,i.i9L)("content",{static:!0}),_("design:type",i.SBq)],t.prototype,"content",void 0),b([(0,i.i9L)("list",{static:!0}),_("design:type",i.SBq)],t.prototype,"list",void 0),b([(0,i.i9L)("virtualContainer",{static:!1}),_("design:type",i.SBq)],t.prototype,"virtualContainer",void 0),t=b([_("design:paramtypes",[Zt,i.SBq,Pt,Ut,i.sBO,i.R0b,i.Qsj])],t),t})();const b1={pageSize:50,itemHeight:28},Jp=(t,n)=>{const e=Object.assign({},b1,n);return!0===t?e:t?Object.assign({pageSize:b1.pageSize},t):null},$i=new i.OlP("dropdowns-touch-enabled");var jp;const HL={multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Te)};let Te=jp=class{constructor(n,e,o,s,r,a,l,d,c,p,m){this.localization=n,this.dataService=e,this.popupService=o,this.selectionService=s,this.navigationService=r,this.disabledItemsService=a,this._zone=l,this.cdr=d,this.renderer=c,this.hostElement=p,this.touchEnabled=m,this.highlightFirst=!0,this.focusableId=`k-${tn()}`,this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new i.vpe,this.filterChange=new i.vpe,this.open=new i.vpe,this.opened=new i.vpe,this.close=new i.vpe,this.closed=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.widgetClasses=!0,this.listBoxId=tn(),this.optionPrefix=tn(),this.onChangeCallback=Hr,this.onTouchedCallback=Hr,this.popupMouseDownHandler=f=>f.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new Ze.xQ,this._isFocused=!1,(0,lt.s)(Hp),this.direction=n.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}get width(){let n=0;W()&&(n=this.wrapper.offsetWidth);const e=this.popupSettings.width||n;return{min:isNaN(n)?n:`${n}px`,max:isNaN(e)?e:`${e}px`}}get height(){const n=this.popupSettings.height;return N(n)?`${n}px`:"auto"}get listContainerClasses(){const n=["k-list-container","k-reset"];return this.popupSettings.popupClass&&n.push(this.popupSettings.popupClass),n}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const n=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&n?this.suggestedText:void 0}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}toggle(n){Promise.resolve(null).then(()=>{const e=N(n)?n:!this._open;this._toggle(e)})}get isOpen(){return this._open}togglePopup(n){this.disabled||this.readonly||this.isOpen===n||this.triggerPopupEvents(n)||this._toggle(n)}get activeDescendant(){if(!this.isOpen||!N(this.selectionService.focused)||-1===this.selectionService.focused)return null;const n=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+ie(n,this.valueField)}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}set data(n){this.dataService.data=n||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=ie(this.dataService.itemAt(0),this.valueField))}get data(){const n=this.virtual;if(n){const e=n.skip||0,o=e+n.pageSize;return n.total=this.dataService.data.length,this.dataService.data.slice(e,o)}return this.dataService.data}set value(n){this.verifySettings(n),this._value=n||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set popupSettings(n){this._popupSettings=Object.assign({animate:!0},n)}get popupSettings(){return this._popupSettings}set itemDisabled(n){if("function"!=typeof n)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(n)}.`);this.disabledItemsService.itemDisabled=n}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}set virtual(n){this._virtualSettings=Jp(n)}get virtual(){return this._virtualSettings}get isFocused(){return this._isFocused}set isFocused(n){this.renderer[n?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=n}get isDisabled(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr",this.setMessages()}),this.setMessages()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}ngOnChanges(n){const e=this.virtual;e&&n.data&&n.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize})}reset(){this.value=""}clearValue(n){n.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(n){this.value=n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}focusItemAt(n){const e=n>=0&&n<this.data.length;N(n)&&e&&!this.disabledItemsService.isIndexDisabled(n)?this.selectionService.focus(n):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this._open){const n=this.popupRef.popupElement,{min:e,max:o}=this.width;n.style.minWidth=e,n.style.width=o}}emitChange(n){this.onChangeCallback(n),this.valueChange.emit(n)}verifySettings(n){if((0,i.X6Q)()&&N(n)&&"string"!=typeof n)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(n,e=0){let o;o=n.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(n),e):-1,this.disabledItemsService.isIndexDisabled(o)?o+1<this.dataService.itemsCount?this.search(n,o+1):this.selectionService.focus(-1):(this.selectionService.focus(o),this.suggest&&(this.suggestedText=ie(this.dataService.itemAt(o),this.valueField)))}navigate(n){!this.isOpen||this.selectionService.focus(n)}handleNavigate(n){const e=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(e))return;const o=this.navigationService.process({current:e,max:this.dataService.itemsCount-1,min:0,originalEvent:n});o!==Ee.Undefined&&o!==Ee.Backspace&&o!==Ee.Delete&&o!==Ee.Home&&o!==Ee.End&&o!==Ee.Left&&o!==Ee.Right&&(o===Ee.Enter&&this.isOpen||o!==Ee.Enter)&&n.preventDefault()}handleEnter(n){const e=this.selectionService.focused;let o;if(this.isOpen&&n.originalEvent.preventDefault(),e>=0)o=ie(this.dataService.itemAt(e),this.valueField);else{const s=this.suggest&&this.suggestedText&&this.data.length&&ie(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();o=this.isOpen&&s?this.suggestedText:this.searchbar.value}this.change(o)}handleEscape(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(n){const e=N(this.text)?this.text.length:0;this.backspacePressed=n.length<e,this.text=n,this.togglePopup(n.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(n):this.highlightFirst&&this.search(n)}handleFocus(){this.isFocused=!0,ne(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})}handleBlur(){const n=this.filterable?this.selectionService.focused:-1;let e,o;this.searchbar.input.nativeElement.scrollLeft=0,-1!==n?(e=this.dataService.itemAt(n),o=ie(e,this.valueField)||""):o=this.searchbar.value;const s=o===this.searchbar.value,r=o.toLowerCase()===this.searchbar.value.toLowerCase();!s&&r&&this.selectionService.resetSelection([]),this.isFocused=!1;const a=this.value!==this.text;ne(this.onBlur)||ne(this.close)||Ol(this.wrapper)||a?this._zone.run(()=>{a&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}pageChange(n){this.virtual.skip=n.skip}change(n){this.togglePopup(!1),this.valueChangeSubject.next(n)}subscribeEvents(){!W()||(this.valueChangeSubscription=this.valueChangeSubject.subscribe(n=>{const e=this.value!==n;this.value=n,this.text=n,e&&this.emitChange(n)}),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=(0,We.T)(this.navigationService.up,this.navigationService.down).subscribe(n=>this.navigate(n.index)),this.closeSubscription=this.navigationService.close.subscribe(()=>this.togglePopup(!1)),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}subscribeTouchEvents(){!W()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",n=>{this.isFocused&&!jc(this.hostElement,n.target,this.popupRef)&&this._zone.run(()=>this.blur())}))}unsubscribeEvents(){!W()||(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}handleItemChange(n){const e=n.indices.length?n.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!N(e))return;let o=ie(this.dataService.itemAt(e),this.valueField);this.change(o)}handleItemFocus(n){const e=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&e>=0)&&(this.suggestedText=ie(this.dataService.itemAt(e),this.valueField))}createPopup(){this.virtual&&(this.virtual.skip=0);const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:n,vertical:"top"},anchorAlign:{horizontal:n,vertical:"bottom"}});const s=this.popupRef.popupElement,{min:r,max:a}=this.width;s.addEventListener("mousedown",this.popupMouseDownHandler),s.style.minWidth=r,s.style.width=a,s.style.height=this.height,s.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(n){this._open=n,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(n){const e=new Yr;return n?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}firstFocusableIndex(n){const e=this.data.length-1;return this.disabledItemsService.isIndexDisabled(n)?n<e?this.firstFocusableIndex(n+1):void 0:n}findIndexPredicate(n){return this.dataService.grouped?e=>{let o=ie(e.value,this.valueField);return o=N(o)?o.toString().toLowerCase():"",o.startsWith(n.toLowerCase())}:e=>{let o=ie(e,this.valueField);return o=N(o)?o.toString().toLowerCase():"",o.startsWith(n.toLowerCase())}}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}};Te.\u0275fac=function(n){return new(n||Te)(i.Y36(I),i.Y36(Zt),i.Y36($e),i.Y36(Pt),i.Y36(Qt),i.Y36(Ut),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36($i,8))},Te.\u0275cmp=i.Xpm({type:Te,selectors:[["kendo-autocomplete"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,un,5),i.Suo(o,ci,5),i.Suo(o,di,5),i.Suo(o,ui,5),i.Suo(o,pn,5),i.Suo(o,hn,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s.first),i.iGM(s=i.CRH())&&(e.headerTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first),i.iGM(s=i.CRH())&&(e.noDataTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupTemplate=s.first),i.iGM(s=i.CRH())&&(e.fixedGroupTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(Bl,7,i.s_b),i.Gf(Fl,7),i.Gf(dn,7),i.Gf(Gp,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.searchbar=o.first),i.iGM(o=i.CRH())&&(e.optionsList=o.first)}},hostVars:7,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.dir),i.ekj("k-widget",e.widgetClasses)("k-autocomplete",e.widgetClasses)("k-state-disabled",e.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[i._Bn([HL,Zt,Pt,Qt,Ut,I,{provide:Fe,useValue:"kendo.autocomplete"},{provide:$r,useExisting:(0,i.Gpc)(()=>jp)},{provide:qe,useExisting:(0,i.Gpc)(()=>jp)}]),i.TTD],decls:10,vars:15,consts:function(){let t,n;return t=$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items␟4e9993e088a293543eb0c2801343518c115b6f20␟2690656529626907484:NO DATA FOUND`,n=$localize`:kendo.autocomplete.clearTitle|The title of the clear button␟7cf49cc2d50eebd29f8d61564512383caaaac7a6␟4821453594854847070:clear`,[["kendoAutoCompleteLocalizedMessages","","noDataText",t,"clearTitle",n],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"visibility","click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"kendo-searchbar",1,2),i.NdJ("onNavigate",function(s){return e.handleNavigate(s)})("valueChange",function(s){return e.searchBarChange(s)})("onBlur",function(){return e.handleBlur()})("onFocus",function(){return e.handleFocus()}),i.qZA(),i.YNc(3,b5,1,3,"span",3),i.YNc(4,C5,1,0,"span",4),i.YNc(5,M5,5,14,"ng-template",null,5,i.W1O),i.YNc(7,E5,1,0,"ng-template",6),i.GkF(8,null,7)),2&n&&(i.xp6(1),i.Q6J("role","combobox")("id",e.focusableId)("listId",e.listBoxId)("activeDescendant",e.activeDescendant)("noDataLabel",e.noDataLabel)("userInput",e.text)("suggestedText",e.suggestion)("disabled",e.disabled)("readonly",e.readonly)("tabIndex",e.tabIndex)("popupOpen",e.isOpen)("placeholder",e.placeholder),i.xp6(2),i.Q6J("ngIf",!e.loading&&!e.readonly&&e.clearButton&&(null==e.text?null:e.text.length)),i.xp6(1),i.Q6J("ngIf",e.loading),i.xp6(3),i.Q6J("ngIf",e.isOpen))},directives:function(){return[fn,dn,x.O5,Io,To,ai]},encapsulation:2}),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"highlightFirst",void 0),b([(0,i.IIB)(),_("design:type",String)],Te.prototype,"focusableId",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],Te.prototype,"data",null),b([(0,i.IIB)(),_("design:type",String),_("design:paramtypes",[String])],Te.prototype,"value",null),b([(0,i.IIB)(),_("design:type",String)],Te.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",String)],Te.prototype,"placeholder",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],Te.prototype,"popupSettings",null),b([(0,i.IIB)(),_("design:type",Number)],Te.prototype,"listHeight",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"loading",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"clearButton",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"suggest",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Function),_("design:paramtypes",[Function])],Te.prototype,"itemDisabled",null),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Number)],Te.prototype,"tabindex",void 0),b([(0,i.IIB)("tabIndex"),_("design:type",Number),_("design:paramtypes",[Number])],Te.prototype,"tabIndex",null),b([(0,i.IIB)(),_("design:type",Boolean)],Te.prototype,"filterable",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],Te.prototype,"virtual",null),b([(0,i.r_U)(),_("design:type",i.vpe)],Te.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],Te.prototype,"filterChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],Te.prototype,"open",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],Te.prototype,"opened",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],Te.prototype,"close",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],Te.prototype,"closed",void 0),b([(0,i.r_U)("focus"),_("design:type",i.vpe)],Te.prototype,"onFocus",void 0),b([(0,i.r_U)("blur"),_("design:type",i.vpe)],Te.prototype,"onBlur",void 0),b([(0,i.aQ5)(un,{static:!1}),_("design:type",un)],Te.prototype,"template",void 0),b([(0,i.aQ5)(ci,{static:!1}),_("design:type",ci)],Te.prototype,"headerTemplate",void 0),b([(0,i.aQ5)(di,{static:!1}),_("design:type",di)],Te.prototype,"footerTemplate",void 0),b([(0,i.aQ5)(ui,{static:!1}),_("design:type",ui)],Te.prototype,"noDataTemplate",void 0),b([(0,i.aQ5)(pn,{static:!1}),_("design:type",pn)],Te.prototype,"groupTemplate",void 0),b([(0,i.aQ5)(hn,{static:!1}),_("design:type",hn)],Te.prototype,"fixedGroupTemplate",void 0),b([(0,i.i9L)("container",{read:i.s_b,static:!0}),_("design:type",i.s_b)],Te.prototype,"container",void 0),b([(0,i.i9L)("popupTemplate",{static:!0}),_("design:type",i.Rgc)],Te.prototype,"popupTemplate",void 0),b([(0,i.i9L)(dn,{static:!0}),_("design:type",dn)],Te.prototype,"searchbar",void 0),b([(0,i.i9L)("optionsList",{static:!1}),_("design:type",Io)],Te.prototype,"optionsList",void 0),b([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-autocomplete"),_("design:type",Boolean)],Te.prototype,"widgetClasses",void 0),b([(0,i.pfw)("class.k-state-disabled"),_("design:type",Boolean),_("design:paramtypes",[])],Te.prototype,"isDisabled",null),b([(0,i.pfw)("attr.dir"),_("design:type",Object),_("design:paramtypes",[])],Te.prototype,"dir",null),Te=jp=b([bn(10,(0,i.FiY)()),bn(10,(0,i.tBr)($i)),_("design:paramtypes",[I,Zt,$e,Pt,Qt,Ut,i.R0b,i.sBO,i.Qsj,i.SBq,Boolean])],Te);const ko_dataItems="Expected dataItems of type Object[] to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems",ko_valueDepth="Expected valueDepth of type number[] to be set. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth";var Xp;const YL={multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>ve)};let ve=Xp=class{constructor(n,e,o,s,r,a,l,d,c,p,m){this.localization=n,this.popupService=e,this.selectionService=o,this.navigationService=s,this.disabledItemsService=r,this.dataService=a,this.zone=l,this.cdr=d,this.renderer=c,this.hostElement=p,this.touchEnabled=m,this.selected=[],this.focusableId=`k-${tn()}`,this.allowCustom=!1,this.valueNormalizer=f=>f.pipe((0,xe.U)(y=>y)),this.placeholder="",this.listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new i.vpe,this.selectionChange=new i.vpe,this.filterChange=new i.vpe,this.open=new i.vpe,this.opened=new i.vpe,this.close=new i.vpe,this.closed=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.widgetClasses=!0,this._isFocused=!1,this.listBoxId=tn(),this.optionPrefix=tn(),this.onChangeCallback=f=>{},this.onTouchedCallback=f=>{},this.defaultVirtualItemHeight=28,this.defaultVirtualPageSize=50,this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=f=>f.preventDefault(),this.customValueSubject=new Ze.xQ,this.valueSubject=new Ze.xQ,this.clearValueSubject=new Ze.xQ,this.subs=new Ie.w,(0,lt.s)(Hp),this.direction=n.rtl?"rtl":"ltr",this.data=[]}set text(n){this._text=N(n)?n.toString():""}get text(){return this._text}togglePopup(n){this.disabled||this.readonly||this.isOpen===n||this.triggerPopupEvents(n)||this._toggle(n)}get activeDescendant(){if(!this.isOpen||!N(this.selectionService.focused)||-1===this.selectionService.focused)return null;const n=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(n?ie(n,this.valueField):"")}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}set data(n){if(this.dataService.data=n||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){const o=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=o}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=ie(this.dataService.itemAt(0),this.textField))}get data(){const n=this.virtual;if(n){const e=n.skip||0,o=e+n.pageSize;return n.total=this.dataService.data.length,this.dataService.data.slice(e,o)}return this.dataService.data}set value(n){this._value=n,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set valuePrimitive(n){this._valuePrimitive=n}get valuePrimitive(){return N(this._valuePrimitive)?this._valuePrimitive:!N(this.valueField)}set popupSettings(n){this._popupSettings=Object.assign({animate:!0},n)}get popupSettings(){return this._popupSettings}set itemDisabled(n){if("function"!=typeof n)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(n)}.`);this.disabledItemsService.itemDisabled=n}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}set virtual(n){this._virtualSettings=Jp(n,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})}get virtual(){return this._virtualSettings}get clearable(){return this.clearButton}get dir(){return this.direction}get isFocused(){return this._isFocused}set isFocused(n){this.renderer[n?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=n}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}get popupWidth(){let n=0;W()&&(n=this.wrapper.nativeElement.offsetWidth);const e=this.popupSettings.width||n;return{min:isNaN(n)?n:`${n}px`,max:isNaN(e)?e:`${e}px`}}get popupHeight(){const n=this.popupSettings.height;return N(n)?`${n}px`:"auto"}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setMessages()}createValueStream(){const n=this.valueSubject.pipe((0,ee.h)(l=>{const d=ie(this.value,this.valueField),c=ie(l,this.valueField);let p=ie(l,this.textField);return!(!N(this.value)&&!N(c)||(N(p)&&(p=p.toString()),d===c&&this.text===p&&(this.clearFilter(),1)))}),(0,xe.U)(l=>{const d=ie(l,this.valueField);return{dataItem:l,text:ie(l,this.textField),value:this.valuePrimitive?d:l}})),e=function(t,n){return e=>[(0,ee.h)(t,n)(e),(0,ee.h)(HA(t,n))(e)]}(()=>this.allowCustom)(this.customValueSubject.pipe(Wg(300))),o=e[0].pipe((0,ze.b)(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),(0,ee.h)(()=>{const l=this.text!==ie(this.value,this.valueField);return this.loading=l,this.disabled=l,l||this.clearFilter(),l}),this.valueNormalizer,(0,xe.U)(l=>({custom:!0,dataItem:l,text:this.text,value:l}))),s=e[1].pipe((0,xe.U)(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),r=this.clearValueSubject.pipe((0,xe.U)(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();const a=(0,We.T)(n,o,s,r);this.valueSubscription=a.pipe((0,tp.K)(()=>{const l=void 0!==ie(this.dataItem,this.valueField);return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,l&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),(0,cn.of)(null)})).subscribe(l=>{const d=ie(this.dataItem,this.valueField)!==ie(l.dataItem,this.valueField);this.dataItem=l.dataItem,this.value=l.value,this.text=l.text,this.loading=!1,this.disabled=!1,this.clearFilter(),l.custom&&(this.selectionService.focused=-1),d&&this.selectionChange.emit(l.custom?void 0:this.dataItem),this.emitValueChange()})}attachStreams(){!W()||(this.subs.add(this.localization.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr",this.setMessages()})),this.subs.add((0,We.T)(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe((0,ee.h)(n=>N(n.index))).subscribe(n=>this.navigate(n.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe((0,ze.b)(n=>{this.isOpen&&n.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add((0,We.T)(this.selectionService.onChange,this.selectionService.onSelect.pipe((0,ee.h)(n=>!this.isOpen))).pipe((0,ze.b)(n=>{this._filtering=!1,this.togglePopup(!1)}),(0,xe.U)(n=>this.dataService.itemAt(n.indices[0]))).subscribe(n=>{this.change(n)})),this.subs.add(this.selectionService.onSelect.pipe((0,ee.h)(n=>this.isOpen),(0,ze.b)(n=>this._filtering=!1),(0,xe.U)(n=>this.dataService.itemAt(n.indices[0]))).subscribe(n=>{const e=ie(n,this.valueField)!==ie(this.dataItem,this.valueField);this.updateState({dataItem:n}),e&&this.selectionChange.emit(n)})))}ngOnDestroy(){this.destroyPopup(),clearTimeout(this.messagesTimeout),this.subs.unsubscribe(),N(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()}ngOnChanges(n){const e=this.virtual;e&&n.data&&n.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),ht("valueNormalizer",n)&&this.createValueStream(),bt(["textField","valueField","valuePrimitive"],n,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(n){const e=n>=0&&n<this.data.length;N(n)&&e&&!this.disabledItemsService.isIndexDisabled(n)?this.selectionService.focus(n):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(n){Promise.resolve(null).then(()=>{const e=N(n)?n:!this._open;this._toggle(e),this.cdr.markForCheck()})}get isOpen(){return this._open}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){const n=!N(this.text)||g1(this.text),e=!N(this.value)||g1(this.value);return n&&e}clearValue(n){n.stopImmediatePropagation(),this.focus(),this._filtering=!0,this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(n){this.value=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}onResize(){if(this.isOpen){const n=this.popupRef.popupElement,{min:e,max:o}=this.popupWidth;n.style.minWidth=e,n.style.width=o}}verifySettings(){if((0,i.X6Q)()){if(!0===this.valuePrimitive&&N(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection");if(!1===this.valuePrimitive&&N(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection");if(!N(this.valueField)!=!N(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data");if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error("Expected virtual.itemHeight of type number.")}}setState(){if(this._filtering)return;const n=this.value,o=this.findDataItem({valueField:this.valueField,value:n});N(o.index)&&-1!==o.index?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):N(n)&&this.allowCustom?(this.updateState({dataItem:n}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:n,confirm:e=!1}){this.dataItem=n,this.text=ie(n,this.textField),e&&(this._previousDataItem=n)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(n){const e=!N(n)||n<0;this.selectionService.resetSelection(e?[]:[n]),this.selectionService.focused=n}firstFocusableIndex(n){const e=this.data.length-1;return this.disabledItemsService.isIndexDisabled(n)?n<e?this.firstFocusableIndex(n+1):void 0:n}findIndexPredicate(n){return this.dataService.grouped?e=>{let o=ie(e.value,this.textField);return o=N(o)?o.toString().toLowerCase():"",o.startsWith(n.toLowerCase())}:e=>{let o=ie(e,this.textField);return o=N(o)?o.toString().toLowerCase():"",o.startsWith(n.toLowerCase())}}findDataItem({valueField:n,value:e}){const o={dataItem:null,index:-1},r=this.dataService.findIndex(a=>ie(this.dataService.grouped?a.value:a,n)===ie(e,n));return o.dataItem=this.dataService.itemAt(r),o.index=r,o}search(n,e=0){let o;o=n.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(n),e):-1,this.disabledItemsService.isIndexDisabled(o)?o+1<this.dataService.itemsCount?this.search(n,o+1):this.selectionService.focus(-1):(this.selectionService.focus(o),this.suggest&&(this.suggestedText=ie(this.dataService.itemAt(o),this.textField)))}getSuggestion(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(n){0!==this.dataService.itemsCount&&(this.text=ie(this.dataService.itemAt(n),this.textField),this.selectionService.select(n))}handleNavigate(n){const e=N(this.selectionService.selected[0]),o=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;let s=0;if(this.disabled||this.readonly||n.keyCode===R.Home||n.keyCode===R.End)return;e||(n.keyCode===R.ArrowDown?s=-1:n.keyCode===R.ArrowUp&&(s=1));const r=this.navigationService.process({current:s+o,max:this.dataService.itemsCount-1,min:0,originalEvent:n});r!==Ee.Undefined&&r!==Ee.Left&&r!==Ee.Right&&r!==Ee.Backspace&&r!==Ee.Delete&&(r===Ee.Enter&&this.isOpen||r!==Ee.Enter)&&n.preventDefault()}handleEnter(){const n=this.text,e=this.selectionService.focused,o=N(e)&&-1!==e,s=ie(this._previousDataItem,this.textField)||"",r=ie(this.dataService.itemAt(e),this.textField),a=n!==s;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&a&&(n===r||this.useSuggestion()?this.selectionService.change(e):this.change(n,!0)),this.allowCustom||(o?this.selectionService.change(e):a&&this.change(n,!0))}handleBlur(){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;const n=ie(this.dataItem,this.valueField)!==ie(this.value,this.valueField),e=this.searchbar.value,o=e!==(ie(this.dataItem,this.textField)||""),s=n||o;s||ne(this.onBlur)||ne(this.close)||Ol(this.hostElement.nativeElement)?this.zone.run(()=>{s&&(N(this.focusedItemText)&&this.focusedItemText.toLowerCase()===e.toLowerCase()||n?this.selectionService.change(this.selectionService.focused):this.change(e,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}handleEscape(){this.togglePopup(!1),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(n){this.backspacePressed=n.length<(this.text?this.text.length:0),this.text=n,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==n?(this.filterText=n,this.filterChange.emit(n)):this.search(n)}handleFocus(){this.isFocused=!0,ne(this.onFocus)&&this.zone.run(()=>this.onFocus.emit())}pageChange(n){this.virtual.skip=n.skip}change(n,e=!1){e?this.customValueSubject.next(n):this.valueSubject.next(n)}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){this.touchEnabled||this.searchbar.focus(),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){return["k-list-container","k-reset"].concat(this.popupSettings.popupClass||[])}preventEventDefault(n){n.preventDefault()}get focusedItemText(){const n=this.selectionService.focused;if(!N(n)||-1===n)return null;const e=ie(this.dataService.itemAt(n),this.textField);return N(e)?e.toString():""}restoreItemFocus(){!(N(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!this.suggest||!N(this.searchbar.value))return!1;const n=this.dataService.itemAt(this.selectionService.focused),e=ie(n,this.textField);return!!N(e)&&this.searchbar.value.toLowerCase()===e.toLowerCase()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){this.virtual&&(this.virtual.skip=0);const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:{horizontal:n,vertical:"bottom"},popupAlign:{horizontal:n,vertical:"top"}});const s=this.popupRef.popupElement,{min:r,max:a}=this.popupWidth;s.addEventListener("mousedown",this.popupMouseDownHandler),s.style.minWidth=r,s.style.width=a,s.style.height=this.popupHeight,s.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(n){this._open=n,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(n){const e=new Yr;return n?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}clearFilter(){!this.filterable||!this.filterText||(this.filterText="",this.filterChange.emit(this.filterText))}setMessages(){this.zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}subscribeTouchEvents(){!W()||!this.touchEnabled||this.zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",n=>{const o=jc(this.hostElement,n.target,this.popupRef);this.isFocused&&!o?this.zone.run(()=>this.blur()):this.isOpen&&!o&&this.zone.run(()=>this.togglePopup(!1))}))}attachSelectClickHandler(){this.selectClickDisposeHandler=this.renderer.listen(this.select.nativeElement,fw?"pointerdown":"click",this.selectClick.bind(this))}};ve.\u0275fac=function(n){return new(n||ve)(i.Y36(I),i.Y36($e),i.Y36(Pt),i.Y36(Qt),i.Y36(Ut),i.Y36(Zt),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36($i,8))},ve.\u0275cmp=i.Xpm({type:ve,selectors:[["kendo-combobox"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,un,5),i.Suo(o,ci,5),i.Suo(o,di,5),i.Suo(o,ui,5),i.Suo(o,pn,5),i.Suo(o,hn,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s.first),i.iGM(s=i.CRH())&&(e.headerTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first),i.iGM(s=i.CRH())&&(e.noDataTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupTemplate=s.first),i.iGM(s=i.CRH())&&(e.fixedGroupTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(Bl,7,i.s_b),i.Gf(Fl,7),i.Gf(dn,7),i.Gf(Gp,5),i.Gf(Jc,7),i.Gf(B5,7)),2&n){let o;i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.searchbar=o.first),i.iGM(o=i.CRH())&&(e.optionsList=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.select=o.first)}},hostVars:7,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.dir),i.ekj("k-widget",e.widgetClasses)("k-combobox",e.widgetClasses)("k-combobox-clearable",e.clearable))},inputs:{focusableId:"focusableId",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",placeholder:"placeholder",listHeight:"listHeight",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",valuePrimitive:"valuePrimitive",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",loading:"loading",textField:"textField",valueField:"valueField",iconClass:"iconClass"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoComboBox"],features:[i._Bn([YL,Zt,Pt,Qt,Ut,I,{provide:Fe,useValue:"kendo.combobox"},{provide:$r,useExisting:(0,i.Gpc)(()=>Xp)},{provide:qe,useExisting:(0,i.Gpc)(()=>Xp)}]),i.TTD],decls:14,vars:21,consts:function(){let t,n;return t=$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items␟2b6e00c74a6d9c98c03a6274d0224e9bd457ff89␟7708502966028483300:NO DATA FOUND`,n=$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`,[["kendoComboBoxLocalizedMessages","","noDataText",t,"clearTitle",n],["unselectable","on",1,"k-dropdown-wrap",3,"ngClass"],["wrapper",""],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["aria-hidden","true","unselectable","on",1,"k-select",3,"kendoEventsOutsideAngular"],["select",""],[1,"k-icon",3,"ngClass"],["popupTemplate",""],[3,"ngIf"],["container",""],["aria-hidden","true",1,"k-icon","k-clear-value","k-i-close",3,"kendoEventsOutsideAngular","click"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.TgZ(3,"kendo-searchbar",3,4),i.NdJ("onNavigate",function(s){return e.handleNavigate(s)})("valueChange",function(s){return e.searchBarChange(s)})("onBlur",function(){return e.handleBlur()})("onFocus",function(){return e.handleFocus()}),i.qZA(),i.YNc(5,F5,1,6,"span",5),i.TgZ(6,"span",6,7),i._UZ(8,"span",8),i.qZA(),i.YNc(9,G5,5,14,"ng-template",null,9,i.W1O),i.qZA(),i.YNc(11,V5,1,0,"ng-template",10),i.GkF(12,null,11)),2&n&&(i.xp6(1),i.Q6J("ngClass",i.VKq(17,_v,e.disabled)),i.xp6(2),i.Q6J("role","combobox")("id",e.focusableId)("listId",e.listBoxId)("activeDescendant",e.activeDescendant)("noDataLabel",e.noDataLabel)("userInput",e.text)("suggestedText",e.getSuggestion())("disabled",e.disabled)("readonly",e.readonly)("tabIndex",e.tabIndex)("popupOpen",e.isOpen)("placeholder",e.placeholder),i.xp6(2),i.Q6J("ngIf",e.clearButton&&!e.loading&&!e.disabled&&!e.readonly&&(null==e.text?null:e.text.length)),i.xp6(1),i.Q6J("kendoEventsOutsideAngular",i.VKq(19,Vp,e.preventEventDefault)),i.xp6(2),i.Q6J("ngClass",e.buttonClasses),i.xp6(3),i.Q6J("ngIf",e.isOpen))},directives:function(){return[fn,x.mk,dn,x.O5,kt,Io,To,ai]},encapsulation:2}),b([(0,i.IIB)(),_("design:type",String)],ve.prototype,"focusableId",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"allowCustom",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ve.prototype,"data",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ve.prototype,"value",null),b([(0,i.IIB)(),_("design:type",String)],ve.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",String)],ve.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Boolean),_("design:paramtypes",[Boolean])],ve.prototype,"valuePrimitive",null),b([(0,i.IIB)(),_("design:type",Function)],ve.prototype,"valueNormalizer",void 0),b([(0,i.IIB)(),_("design:type",String)],ve.prototype,"placeholder",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ve.prototype,"popupSettings",null),b([(0,i.IIB)(),_("design:type",Number)],ve.prototype,"listHeight",void 0),b([(0,i.IIB)(),_("design:type",String)],ve.prototype,"iconClass",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"loading",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"suggest",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"clearButton",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Function),_("design:paramtypes",[Function])],ve.prototype,"itemDisabled",null),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Number)],ve.prototype,"tabindex",void 0),b([(0,i.IIB)("tabIndex"),_("design:type",Number),_("design:paramtypes",[Number])],ve.prototype,"tabIndex",null),b([(0,i.IIB)(),_("design:type",Boolean)],ve.prototype,"filterable",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ve.prototype,"virtual",null),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"selectionChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"filterChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"open",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"opened",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"close",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ve.prototype,"closed",void 0),b([(0,i.r_U)("focus"),_("design:type",i.vpe)],ve.prototype,"onFocus",void 0),b([(0,i.r_U)("blur"),_("design:type",i.vpe)],ve.prototype,"onBlur",void 0),b([(0,i.aQ5)(un,{static:!1}),_("design:type",un)],ve.prototype,"template",void 0),b([(0,i.aQ5)(ci,{static:!1}),_("design:type",ci)],ve.prototype,"headerTemplate",void 0),b([(0,i.aQ5)(di,{static:!1}),_("design:type",di)],ve.prototype,"footerTemplate",void 0),b([(0,i.aQ5)(ui,{static:!1}),_("design:type",ui)],ve.prototype,"noDataTemplate",void 0),b([(0,i.aQ5)(pn,{static:!1}),_("design:type",pn)],ve.prototype,"groupTemplate",void 0),b([(0,i.aQ5)(hn,{static:!1}),_("design:type",hn)],ve.prototype,"fixedGroupTemplate",void 0),b([(0,i.i9L)("container",{read:i.s_b,static:!0}),_("design:type",i.s_b)],ve.prototype,"container",void 0),b([(0,i.i9L)("popupTemplate",{static:!0}),_("design:type",i.Rgc)],ve.prototype,"popupTemplate",void 0),b([(0,i.i9L)(dn,{static:!0}),_("design:type",dn)],ve.prototype,"searchbar",void 0),b([(0,i.i9L)("optionsList",{static:!1}),_("design:type",Io)],ve.prototype,"optionsList",void 0),b([(0,i.i9L)("wrapper",{static:!0}),_("design:type",i.SBq)],ve.prototype,"wrapper",void 0),b([(0,i.i9L)("select",{static:!0}),_("design:type",i.SBq)],ve.prototype,"select",void 0),b([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-combobox"),_("design:type",Boolean)],ve.prototype,"widgetClasses",void 0),b([(0,i.pfw)("class.k-combobox-clearable"),_("design:type",Boolean),_("design:paramtypes",[])],ve.prototype,"clearable",null),b([(0,i.pfw)("attr.dir"),_("design:type",Object),_("design:paramtypes",[])],ve.prototype,"dir",null),ve=Xp=b([bn(10,(0,i.FiY)()),bn(10,(0,i.tBr)($i)),_("design:paramtypes",[I,$e,Pt,Qt,Ut,Zt,i.R0b,i.sBO,i.Qsj,i.SBq,Boolean])],ve);let Jr=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownListValueTemplate",""],["","kendoDropDownTreeValueTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})();var Wp;const $L={multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>ce)};let ce=Wp=class{constructor(n,e,o,s,r,a,l,d,c,p,m){this.localization=n,this.popupService=e,this.selectionService=o,this.navigationService=s,this.disabledItemsService=r,this.dataService=a,this._zone=l,this.renderer=d,this.hostElement=c,this.cdr=p,this.touchEnabled=m,this.focusableId=`k-${tn()}`,this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new i.vpe,this.filterChange=new i.vpe,this.selectionChange=new i.vpe,this.open=new i.vpe,this.opened=new i.vpe,this.close=new i.vpe,this.closed=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=tn(),this.optionPrefix=tn(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=f=>{},this.onChangeCallback=f=>{},this.word="",this.last="",this.filterFocused=new i.vpe,this.filterBlurred=new i.vpe,this.wrapperFocused=new i.vpe,this.wrapperBlurred=new i.vpe,this.selectionSubscription=new Ie.w,this._open=!1,this._popupSettings={animate:!0},(0,lt.s)(Hp),this.direction=n.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get width(){const n=W()?this.wrapper.nativeElement.offsetWidth:0,e=this.popupSettings.width||n;return{min:isNaN(n)?n:`${n}px`,max:isNaN(e)?e:`${e}px`}}get height(){const n=this.popupSettings.height;return N(n)?`${n}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;const n=Number(this.tabIndex);return isNaN(n)?0:n}get ariaExpanded(){return this.isOpen}get ariaOwns(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(N(this.dataItem))return this.optionPrefix+"-"+ie(this.dataItem,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}set data(n){this.dataService.data=n||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const n=this.virtual;if(n){const e=n.skip||0,o=e+n.pageSize;return n.total=this.dataService.data.length,this.dataService.data.slice(e,o)}return this.dataService.data}set value(n){N(n)||(this._previousDataItem=void 0),this._value=n,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set popupSettings(n){this._popupSettings=Object.assign({animate:!0},n)}get popupSettings(){return this._popupSettings}set itemDisabled(n){if("function"!=typeof n)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(n)}.`);this.disabledItemsService.itemDisabled=n}set virtual(n){this._virtualSettings=Jp(n)}get virtual(){return this._virtualSettings}set valuePrimitive(n){this._valuePrimitive=n}get valuePrimitive(){return N(this._valuePrimitive)?this._valuePrimitive:!N(this.valueField)}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}blurComponent(){this.wrapperBlurred.emit()}blurFilterInput(){this.filterBlurred.emit()}focusComponent(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,ne(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}keydown(n){const e=N(this.defaultItem)?-1:0;let o=isNaN(this.selectionService.focused)?this.firstFocusableIndex(e):this.selectionService.focused,s=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(n.keyCode===R.Home||n.keyCode===R.End))return;const l=N(this.selectionService.selected[0]),d=N(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);(!l||d)&&(n.keyCode===R.ArrowDown||n.keyCode===R.ArrowRight?s=-1:(n.keyCode===R.ArrowUp||n.keyCode===R.ArrowLeft)&&(s=1));const c=n,p=this.navigationService.process({current:o+s,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:c});p!==Ee.Undefined&&p!==Ee.Tab&&p!==Ee.Backspace&&p!==Ee.Delete&&(p!==Ee.Left&&p!==Ee.Right||!this.filterable)&&p!==Ee.Enter&&c.preventDefault()}keypress(n){this.disabled||this.readonly||this.filterable||this.onKeyPress(n)}click(n){n.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)}onResize(){if(this._open){const n=this.popupRef.popupElement,{min:e,max:o}=this.width;n.style.minWidth=e,n.style.width=o}}get dir(){return this.direction}set isFocused(n){this.renderer[n?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=n}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.assignAriaDescribedBy()}isEmpty(){const n=this.value;return!(0===n||!1===n||n||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}ngOnChanges(n){const e=this.virtual;e&&n.data&&n.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),ht("defaultItem",n,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),bt(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],n,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(n){const o=(N(this.defaultItem)?-1:0)<=n&&n<this.data.length;N(n)&&o&&!this.disabledItemsService.isIndexDisabled(n)?this.selectionService.focus(n):this.selectionService.focus(null)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}toggle(n){Promise.resolve(null).then(()=>{const e=N(n)?n:!this._open;this._toggle(e)})}_toggle(n){this._open=n,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(n){const e=new Yr;return n?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}togglePopup(n){this.disabled||this.readonly||this.isOpen===n||this.triggerPopupEvents(n)||(!n&&this.filterable&&this.isFocused&&this.focus(),this._toggle(n))}get isOpen(){return this._open}reset(){this.value=void 0}writeValue(n){this.value=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}get listContainerClasses(){const n=["k-list-container","k-reset"];return this.popupSettings.popupClass&&n.push(this.popupSettings.popupClass),n}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return ie(this.defaultItem,this.textField)}createPopup(){this.virtual&&(this.virtual.skip=0);const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:n,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:n,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const s=this.popupRef.popupElement,{min:r,max:a}=this.width;s.addEventListener("mousedown",this.popupMouseDownHandler),s.style.minWidth=r,s.style.width=a,s.style.height=this.height,s.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:n,confirm:e=!1}){this.dataItem=n,this.text=ie(n,this.textField),e&&(this._previousDataItem=n)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(n){const e=!N(n);this.selectionService.resetSelection(e?[]:[n]),this.selectionService.focused=e?this.firstFocusableIndex(0):n}onSelectionChange({dataItem:n}){this.updateState({dataItem:n}),this.selectionChange.emit(n),this.assignAriaDescribedBy()}subscribeEvents(){!W()||(this.selectionSubscription.add(this.selectionService.onSelect.pipe((0,ee.h)(n=>this.isOpen),(0,xe.U)(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add((0,We.T)(this.selectionService.onSelect.pipe((0,ee.h)(n=>!this.isOpen)),this.selectionService.onChange).pipe((0,xe.U)(this.itemFromEvent.bind(this)),(0,ze.b)(n=>this.togglePopup(!1))).subscribe(({dataItem:n,value:e,newSelection:o})=>{o&&this.onSelectionChange({dataItem:n});const s=!N(n)&&this._previousDataItem,r=e!==ie(this.value,this.valueField);s?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):r&&(this.value=this.valuePrimitive?e:n,this._previousDataItem=n,this.emitChange(this.value)),this.clearFilter()})),this.navigationSubscription=(0,We.T)(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(l1(()=>this.filterable)),this.navigationService.right.pipe(l1(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe((0,ee.h)(n=>!isNaN(n.index))).subscribe(n=>this.selectionService.select(n.index)),this.openSubscription=this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.closeSubscription=this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.enterSubscription=this.navigationService.enter.pipe((0,ze.b)(n=>n.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe((0,Bm.b)(()=>Sc(10).pipe((0,nt.q)(1),(0,Wi.R)(this.wrapperFocused)))).subscribe(()=>{this.wrapperBlurred.emit()}),this._zone.runOutsideAngular(()=>{this.componentBlurredSubscription=(0,We.T)(this.wrapperBlurred.pipe((0,Bm.b)(()=>Sc(10).pipe((0,nt.q)(1),(0,Wi.R)(this.filterFocused)))),this.navigationService.tab).pipe((0,ze.b)(n=>n instanceof y1&&this.focus()),(0,ee.h)(()=>this.isFocused)).subscribe(()=>this.componentBlur())}))}subscribeTouchEvents(){!W()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",n=>{this.isFocused&&!jc(this.hostElement,n.target,this.popupRef)&&this._zone.run(()=>{this.filterFocused&&this.togglePopup(!1),this.blur()})}))}unsubscribeEvents(){!W()||(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}itemFromEvent(n){const e=n.indices[0];let o=this.dataService.itemAt(e);o=N(o)?o:this.currentOrDefault(e);const s=ie(o,this.valueField);return{dataItem:o,index:e,newSelection:n.newSelection,value:s}}currentOrDefault(n){return N(this.dataItem)&&-1!==n?this.dataItem:this.defaultItem}firstFocusableIndex(n){const e=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(n)?n<e?this.firstFocusableIndex(n+1):void 0:n}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){N(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){!this.filterable||!this.filterText||(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if((0,i.X6Q)()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&N(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&N(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!N(this.valueField)!=!N(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}componentBlur(){this.isFocused=!1;const e=N(this.selectionService.selected[0])&&ie(this.value,this.valueField)!==ie(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);e||ne(this.close)||ne(this.onBlur)||ne(this.filterChange)||Ol(this.hostElement.nativeElement)?this._zone.run(()=>{e&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}onMouseDown(n){"input"!==n.target.tagName.toLowerCase()&&n.preventDefault()}onKeyPress(n){if(0===n.which||n.keyCode===R.Enter)return;let e=String.fromCharCode(n.charCode||n.keyCode);this.ignoreCase&&(e=e.toLowerCase())," "===e&&n.preventDefault(),this.word+=e,this.last=e,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let n=this.dataService.filter(c=>N(c)&&!c.header&&!this.disabledItemsService.isItemDisabled(c)).map(c=>this.dataService.grouped?{item:c.value,itemIndex:c.offsetIndex}:{item:c,itemIndex:this.dataService.indexOf(c)});const e=((t,n)=>{for(let e=0;e<t.length;e++)if(t.charAt(e)!==n)return!1;return!0})(this.word,this.last);let a,l,d,o=n.length,s=!isNaN(this.selectionService.selected[0]),r=s?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(d={item:this.defaultItem,itemIndex:-1},o+=1,r+=1),r+=e&&s?1:0,n=((t,n,e)=>{let o=t;return e&&(o=[e].concat(o)),o.slice(n).concat(o.slice(0,n))})(n,r,d),l=0;l<o;l++){a=ie(n[l].item,this.textField);const c=Boolean(e&&m1(a,this.last,this.ignoreCase)),p=Boolean(m1(a,this.word,this.ignoreCase));if(c||p){l=n[l].itemIndex;break}}l!==o&&this.navigate(l)}emitChange(n){this.onChangeCallback(n),this.valueChange.emit(n)}navigate(n){this.selectionService.select(n)}findDataItem({valueField:n,value:e}){const o={dataItem:null,index:-1},s=l=>ie(l,n);let r;r=this.dataService.grouped?l=>s(l.value)===s(e):l=>s(l)===s(e);const a=this.dataService.findIndex(r);return o.dataItem=this.dataService.itemAt(a),o.index=a,o}setState(){const n=this.value,e=this.valueField,o=this.textField,s=this.valuePrimitive;if(this.defaultItem){const l=ie(this.defaultItem,e),d=ie(n,e);if(!N(n)||d===l)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const r=this.findDataItem({valueField:e,value:n}),a=!(s&&o);r.dataItem?(this.updateState({dataItem:r.dataItem,confirm:!0}),this.resetSelection(r.index)):N(n)&&a?(this.updateState({dataItem:n}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(n){this.filterChange.emit(n.target.value)}pageChange(n){this.virtual.skip=n.skip}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}assignAriaDescribedBy(){const e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=tn();const o=`${this.valueLabelId} ${e}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",o)}};ce.\u0275fac=function(n){return new(n||ce)(i.Y36(I),i.Y36($e),i.Y36(Pt),i.Y36(Qt),i.Y36(Ut),i.Y36(Zt),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36($i,8))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["kendo-dropdownlist"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,un,5),i.Suo(o,pn,5),i.Suo(o,hn,5),i.Suo(o,Jr,5),i.Suo(o,ci,5),i.Suo(o,di,5),i.Suo(o,ui,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.itemTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupTemplate=s.first),i.iGM(s=i.CRH())&&(e.fixedGroupTemplate=s.first),i.iGM(s=i.CRH())&&(e.valueTemplate=s.first),i.iGM(s=i.CRH())&&(e.headerTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first),i.iGM(s=i.CRH())&&(e.noDataTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(Bl,7,i.s_b),i.Gf(Fl,7),i.Gf(Jc,7),i.Gf(Gp,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.optionsList=o.first)}},hostVars:5,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.dir),i.ekj("k-widget",e.widgetClasses)("k-dropdown",e.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",valuePrimitive:"valuePrimitive",tabIndex:"tabIndex",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[i._Bn([$L,Zt,Pt,Qt,Ut,I,{provide:Fe,useValue:"kendo.dropdownlist"},{provide:$r,useExisting:(0,i.Gpc)(()=>Wp)},{provide:qe,useExisting:(0,i.Gpc)(()=>Wp)}]),i.TTD],decls:13,vars:23,consts:function(){let t;return t=$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items␟4fc2f70c9c8cf7b18affd6b938105996d6ac3306␟8289552890585138350:NO DATA FOUND`,[["kendoDropDownListLocalizedMessages","","noDataText",t],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","kendoEventsOutsideAngular","scope","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.NdJ("keydown",function(s){return e.keydown(s)})("keypress",function(s){return e.keypress(s)})("click",function(s){return e.click(s)}),i.TgZ(3,"span",3),i.YNc(4,Y5,1,4,void 0,4),i.YNc(5,$5,1,1,"ng-template",5),i.qZA(),i.TgZ(6,"span",6),i._UZ(7,"span",7),i.qZA(),i.YNc(8,iN,8,17,"ng-template",null,8,i.W1O),i.qZA(),i.YNc(10,nN,1,0,"ng-template",5),i.GkF(11,null,9)),2&n&&(i.xp6(1),i.Q6J("id",e.focusableId)("ngClass",i.VKq(18,p1,e.disabled))("kendoEventsOutsideAngular",i.WLB(20,zp,e.focusComponent,e.blurComponent))("scope",e),i.uIk("dir",e.direction)("readonly",e.readonly)("tabindex",e.widgetTabIndex)("aria-disabled",e.disabled)("aria-readonly",e.readonly)("aria-expanded",e.ariaExpanded)("aria-owns",e.ariaOwns)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.noDataLabel),i.xp6(2),i.Q6J("id",e.valueLabelId),i.xp6(1),i.Q6J("ngIf",e.valueTemplate),i.xp6(1),i.Q6J("ngIf",!e.valueTemplate),i.xp6(2),i.Q6J("ngClass",e.buttonClasses),i.xp6(3),i.Q6J("ngIf",e.isOpen))},directives:function(){return[fn,x.mk,kt,x.O5,To,Io,X.Fj,oh,X.JJ,X.On,sh,ai]},encapsulation:2}),b([(0,i.IIB)(),_("design:type",String)],ce.prototype,"focusableId",void 0),b([(0,i.IIB)(),_("design:type",String)],ce.prototype,"iconClass",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ce.prototype,"loading",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ce.prototype,"data",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ce.prototype,"value",null),b([(0,i.IIB)(),_("design:type",String)],ce.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",String)],ce.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ce.prototype,"popupSettings",null),b([(0,i.IIB)(),_("design:type",Number)],ce.prototype,"listHeight",void 0),b([(0,i.IIB)(),_("design:type",Object)],ce.prototype,"defaultItem",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ce.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Function),_("design:paramtypes",[Function])],ce.prototype,"itemDisabled",null),b([(0,i.IIB)(),_("design:type",Boolean)],ce.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],ce.prototype,"filterable",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],ce.prototype,"virtual",null),b([(0,i.IIB)(),_("design:type",Boolean)],ce.prototype,"ignoreCase",void 0),b([(0,i.IIB)(),_("design:type",Number)],ce.prototype,"delay",void 0),b([(0,i.IIB)(),_("design:type",Boolean),_("design:paramtypes",[Boolean])],ce.prototype,"valuePrimitive",null),b([(0,i.IIB)(),_("design:type",Number)],ce.prototype,"tabindex",void 0),b([(0,i.IIB)("tabIndex"),_("design:type",Number),_("design:paramtypes",[Number])],ce.prototype,"tabIndex",null),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"filterChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"selectionChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"open",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"opened",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"close",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],ce.prototype,"closed",void 0),b([(0,i.r_U)("focus"),_("design:type",i.vpe)],ce.prototype,"onFocus",void 0),b([(0,i.r_U)("blur"),_("design:type",i.vpe)],ce.prototype,"onBlur",void 0),b([(0,i.aQ5)(un,{static:!1}),_("design:type",un)],ce.prototype,"itemTemplate",void 0),b([(0,i.aQ5)(pn,{static:!1}),_("design:type",pn)],ce.prototype,"groupTemplate",void 0),b([(0,i.aQ5)(hn,{static:!1}),_("design:type",hn)],ce.prototype,"fixedGroupTemplate",void 0),b([(0,i.aQ5)(Jr,{static:!1}),_("design:type",Jr)],ce.prototype,"valueTemplate",void 0),b([(0,i.aQ5)(ci,{static:!1}),_("design:type",ci)],ce.prototype,"headerTemplate",void 0),b([(0,i.aQ5)(di,{static:!1}),_("design:type",di)],ce.prototype,"footerTemplate",void 0),b([(0,i.aQ5)(ui,{static:!1}),_("design:type",ui)],ce.prototype,"noDataTemplate",void 0),b([(0,i.i9L)("container",{read:i.s_b,static:!0}),_("design:type",i.s_b)],ce.prototype,"container",void 0),b([(0,i.i9L)("popupTemplate",{static:!0}),_("design:type",i.Rgc)],ce.prototype,"popupTemplate",void 0),b([(0,i.i9L)("wrapper",{static:!0}),_("design:type",i.SBq)],ce.prototype,"wrapper",void 0),b([(0,i.i9L)("optionsList",{static:!1}),_("design:type",Io)],ce.prototype,"optionsList",void 0),b([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-dropdown"),_("design:type",Boolean)],ce.prototype,"widgetClasses",void 0),b([(0,i.pfw)("attr.dir"),_("design:type",String),_("design:paramtypes",[])],ce.prototype,"dir",null),ce=Wp=b([bn(10,(0,i.FiY)()),bn(10,(0,i.tBr)($i)),_("design:paramtypes",[I,$e,Pt,Qt,Ut,Zt,i.R0b,i.Qsj,i.SBq,i.sBO,Boolean])],ce);let Kp=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),Ys=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoMultiSelectTagTemplate",""],["","kendoMultiSelectTreeTagTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),$s=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoMultiSelectGroupTagTemplate",""],["","kendoMultiSelectTreeGroupTagTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})();class w1 extends Yr{constructor(n){super(),this.dataItem=n}}var eh;const jL={multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>he)};let he=eh=class{constructor(n,e,o,s,r,a,l,d,c,p,m,f){this.localization=n,this.popupService=e,this.dataService=o,this.selectionService=s,this.navigationService=r,this.disabledItemsService=a,this.cdr=l,this.differs=d,this.renderer=c,this.hostElement=p,this._zone=m,this.touchEnabled=f,this.listBoxId=tn(),this.tagListId=tn(),this.tagPrefix="tag-"+tn(),this.optionPrefix="option-"+tn(),this.focusedTagIndex=void 0,this.focusableId=`k-${tn()}`,this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=y=>y||[],this.allowCustom=!1,this.valueNormalizer=y=>y.pipe((0,xe.U)(S=>{const D=M=>"string"==typeof M&&S.toLowerCase()===M.toLowerCase(),P=this.value.find(D);return P||(this.dataService.find(D)||S)})),this.filterChange=new i.vpe,this.valueChange=new i.vpe,this.open=new i.vpe,this.opened=new i.vpe,this.close=new i.vpe,this.closed=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.removeTag=new i.vpe,this.widgetClasses=!0,this.initialized=!1,this.onChangeCallback=y=>{},this.onTouchedCallback=y=>{},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this._checkboxes={enabled:!1},this._isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new Ze.xQ,this.observableSubscriptions=new Ie.w,(0,lt.s)(Hp),this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}focusItemAt(n){const o=(this.allowCustom?-1:0)<=0&&n<this.data.length;N(n)&&o&&!this.disabledItemsService.isIndexDisabled(n)?this.selectionService.focus(n):this.selectionService.focus(null)}focus(){this.disabled||this.searchbar.focus()}onSearchBarFocus(){this.isFocused||(this.isFocused=!0,ne(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}blur(){this.disabled||this.searchbar.blur()}onSearchBarBlur(){!this.isFocused||(this.isFocused=!1,ne(this.onBlur)||ne(this.filterChange)||ne(this.close)||Ol(this.hostElement.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup()))}wrapperMousedown(n){if(0===n.button){if(this.isFocused&&this.isOpen&&n.target===this.searchbar.input.nativeElement)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==n.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),n.preventDefault()}}onMouseDown(n){n.preventDefault()}onResize(){if(this._open){const n=this.popupRef.popupElement,{min:e,max:o}=this.width;n.style.minWidth=e,n.style.width=o}}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}set data(n){this.dataService.data=n||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){const n=this.virtual;if(n){const e=n.skip||0,o=e+n.pageSize;return n.total=this.dataService.data.length,this.dataService.data.slice(e,o)}return this.dataService.data}set value(n){this._value=n||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}set placeholder(n){this._placeholder=n||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}set itemDisabled(n){if("function"!=typeof n)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(n)}.`);this.disabledItemsService.itemDisabled=n}set checkboxes(n){this._checkboxes=(t=>Vr(t)?Object.assign({},{enabled:!0,checkOnClick:!0},t):{enabled:Boolean(t),checkOnClick:!0})(n)}get checkboxes(){return this._checkboxes}set virtual(n){this._virtualSettings=Jp(n)}get virtual(){return this._virtualSettings}set popupSettings(n){this._popupSettings=Object.assign({animate:!0},n)}get popupSettings(){return this._popupSettings}set valuePrimitive(n){this._valuePrimitive=n}get valuePrimitive(){return N(this._valuePrimitive)?this._valuePrimitive:!N(this.valueField)}get dir(){return this.direction}get disabledClass(){return this.disabled}get listContainerClasses(){const n=["k-list-container","k-reset"];return this.popupSettings.popupClass&&n.push(this.popupSettings.popupClass),n}get width(){let n=0;W()&&(n=this.wrapper.nativeElement.offsetWidth);const e=this.popupSettings.width||n;return{min:isNaN(n)?n:`${n}px`,max:isNaN(e)?e:`${e}px`}}get height(){const n=this.popupSettings.height;return N(n)?`${n}px`:"auto"}get activeDescendant(){const n=this.focusedTagIndex,e=this.selectionService.focused;let o,s;if(N(n)&&!this.isOpen)s=this.tags[n],o=this.tagPrefix;else{if(!N(e)||-1===e||!this.isOpen)return null;s=this.dataService.itemAt(e),o=this.optionPrefix}return o+"-"+ie(s,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}verifySettings(){if((0,i.X6Q)()&&0!==this.value.length){if(!Yi(this.value))throw new Error("Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!0===this.valuePrimitive&&Yp(this.value))throw new Error("Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!1===this.valuePrimitive&&!Yp(this.value))throw new Error("Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!N(this.valueField)!=!N(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data")}}change(n){if(!N(n.added)&&!N(n.removed)||-1!==n.added&&-1!==n.removed){if(N(n.added)){const o=this.dataService.itemAt(n.added),s=this.valuePrimitive&&N(o)&&N(o[this.valueField])?o[this.valueField]:o;this.value=[...this.value,s]}if(N(n.removed)){const o=this.dataService.itemAt(n.removed);this.value=this.value.filter(r=>ie(r,this.valueField)!==ie(o,this.valueField)),this.selectionService.focused=n.removed,this.cdr.detectChanges()}this.emitValueChange()}else this.addCustomValue(this.text)}setState(n){let e=this.dataService.data;this.dataService.grouped&&(e=e.filter(s=>!s.header).map(s=>s.value));const o=bv(this.value,e,this.valueField);this.selectionService.resetSelection(o),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&void 0===this.selectionService.focused&&(this.dataService.itemsCount>0?this.selectionService.focused=this.firstFocusableIndex(0):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=n.slice()),(Yp(n)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=((t,n,e)=>{const o=((t,n)=>Yi(t)&&t.filter(e=>Vr(e)&&N(ie(e,n))))(t,e)||[];return(((t,n=[],e)=>t.map(o=>n.find(s=>ie(s,e)===o)).filter(o=>void 0!==o))(t,n,e)||[]).concat(o)})(n,e,this.valueField)),this.selectedDataItems.length<n.length&&(this.selectedDataItems=n.map(s=>{const r=this.selectedDataItems.find(a=>ie(a,this.valueField)===ie(s,this.valueField));return N(r)?r:this.resolveDataItemFromTags(s)}).filter(s=>N(s))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()}handleFilter(n){this.text=n,n&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(n):this.searchTextAndFocus(n),this.searchbar.setInputSize()}pageChange(n){this.virtual.skip=n.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(n){const e=this.text&&n.keyCode!==R.ArrowDown&&n.keyCode!==R.ArrowUp,o=this.text&&n.keyCode===R.Enter||n.keyCode===R.Escape;if(!this.text&&n.keyCode===R.Backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||e&&!o)return;const r=n,a=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,l=this.navigationService.process({current:a,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:r});l!==Ee.Undefined&&(l===Ee.Enter&&this.isOpen||l!==Ee.Enter)&&n.preventDefault()}handleRemoveTag({tag:n}){const e=new w1(n);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(e),!e.isDefaultPrevented()&&(n instanceof Array?this.removeGroupTag(n):this.removeSingleTag(n),this.cdr.detectChanges()))}clearAll(n){n.stopImmediatePropagation(),n.preventDefault(),this.focus(),this.clearFilter();const e=this.selectionService.selected;this.value=this.value.filter((o,s)=>this.disabledItemsService.isIndexDisabled(e[s])),this.emitValueChange()}addCustomValue(n){this.customValueSubject.next(n)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.setState(this.value),this.initialized=!0}ngOnChanges(n){const e=this.virtual;e&&n.data&&n.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),ht("valueNormalizer",n)&&this.createCustomValueStream(),bt(["textField","valueField","valuePrimitive"],n)&&this.setState(this.value)}ngAfterViewInit(){this.searchbar.setInputSize()}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout)}toggle(n){Promise.resolve(null).then(()=>{const e=N(n)?n:!this._open;this._toggle(e),this.cdr.markForCheck()})}get isOpen(){return this._open}reset(){this.text="",this.value=[]}writeValue(n){this.value=n||[]}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}set isFocused(n){this.renderer[n?"addClass":"removeClass"](this.hostElement.nativeElement,"k-state-focused"),this._isFocused=n}get isFocused(){return this._isFocused}subscribeEvents(){if(!W())return;const n=()=>this.isOpen,e=()=>!this.isOpen,o=()=>!this.isOpen&&void 0!==this.focusedTagIndex;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe((0,ee.h)(n)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe((0,ee.h)(n)).subscribe(s=>this.handleUp(s.index)),this.navigationService.home.pipe((0,ee.h)(()=>e)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe((0,ee.h)(()=>e)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe((0,ee.h)(o)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe((0,ee.h)(o)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(s=>this.handleDownKey(s.index))].forEach(s=>this.observableSubscriptions.add(s))}subscribeTouchEvents(){!W()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",n=>{(this.isFocused||this.isOpen)&&!jc(this.hostElement,n.target,this.popupRef)&&this._zone.run(()=>{this.blur(),this.isOpen&&this.togglePopup(!1)})}))}unsubscribeEvents(){!W()||(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}removeGroupTag(n){let e=this.dataService.data;this.dataService.grouped&&(e=e.filter(s=>!s.header).map(s=>s.value));const o=new Set(n.map(s=>ie(s,this.valueField)));this.value=this.value.filter(s=>{const r=bv([s],e,this.valueField)[0],a=this.disabledItemsService.isIndexDisabled(r);return!o.has(ie(s,this.valueField))||a}),this.emitValueChange()}removeSingleTag(n){let e=this.dataService.data;this.dataService.grouped&&(e=e.filter(s=>!s.header).map(s=>s.value));const o=bv([n],e,this.valueField)[0];this.disabledItemsService.isIndexDisabled(o)||((t=>!isNaN(t))(o)?(this.selectionService.unselect(o),this.selectionService.focused=o,this.togglePopup(!1)):(this.value=this.value.filter(r=>ie(r,this.valueField)!==ie(n,this.valueField)),this.emitValueChange()))}disabledItemsMapper(){const{selected:n}=this.selectionService;return new Set(this.selectedDataItems.reduce((e,o,s)=>(this.disabledItemsService.isIndexDisabled(n[s])&&e.push(s),e),[]))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe((0,ze.b)(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,(0,tp.K)(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),(0,cn.of)(null)))).subscribe(n=>{if(this.loading=!1,this.disabled=!1,N(n)){const e=this.valuePrimitive?ie(n,this.valueField):n,o=this.dataService.indexOf(e),s=-1===o;-1===this.value.indexOf(e)?(this.tags=this.tagMapper([...this.selectedDataItems,n]),s?this.value=[...this.value,e]:this.selectionService.add(o)):!s&&this.selectionService.isSelected(o)?(this.selectionService.unselect(o),this.selectionService.focused=o):this.value=this.value.filter(r=>ie(r,this.valueField)!==e),this.emitValueChange()}this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(n){this.change(n),this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()}handleEnter(n){const e=this.selectionService,o=this.selectionService.focused;this.isOpen&&n.originalEvent.preventDefault(),-1!==o?(e.isSelected(o)?(e.unselect(o),e.focused=o):e.add(o),this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()):this.allowCustom&&this.text&&this.addCustomValue(this.text)}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}handleUp(n){this.selectionService.focused=n}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--}handleDownKey(n){this.isOpen?this.selectionService.focused=n||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){const n=this.tags.length-1;this.focusedTagIndex===n?this.focusedTagIndex=void 0:this.focusedTagIndex<n&&this.focusedTagIndex++}findIndex(n,e=0){let o;n=n.toLowerCase();let s=this.dataService.findIndex(r=>(o=ie(this.dataService.grouped?r.value:r,this.textField),o=N(o)?o.toString().toLowerCase():"",n&&o.startsWith(n)),e);return this.disabledItemsService.isIndexDisabled(s)?s+1>this.dataService.itemsCount?-1:this.findIndex(n,s+1):s}searchTextAndFocus(n){const e=this.findIndex(n);this.selectionService.focused=e}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(n){this.disabled||this.readonly||this.isOpen===n||this.triggerPopupEvents(n)||this._toggle(n)}triggerPopupEvents(n){const e=new Yr;return n?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}_toggle(n){this._open=n,this.destroyPopup(),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){this.virtual&&(this.virtual.skip=0);const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:n,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:n,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const s=this.popupRef.popupElement,{min:r,max:a}=this.width;s.addEventListener("mousedown",this.popupMouseDownHandler),s.style.minWidth=r,s.style.width=a,s.style.height=this.height,s.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(n){return this.tags&&this.tags.length&&N(n)?this.tags.reduce((o,s)=>{const r=Yi(s)?s:[s];return o.push(...r),o},[]).find(o=>ie(o,this.valueField)===ie(n,this.valueField)):void 0}firstFocusableIndex(n){const e=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(n)){const o=n+1;return o<e?this.firstFocusableIndex(o):void 0}return n}nextTick(n){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(n))})}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}};he.\u0275fac=function(n){return new(n||he)(i.Y36(I),i.Y36($e),i.Y36(Zt),i.Y36(Pt),i.Y36(Qt),i.Y36(Ut),i.Y36(i.sBO),i.Y36(i.aQg),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36($i,8))},he.\u0275cmp=i.Xpm({type:he,selectors:[["kendo-multiselect"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,un,5),i.Suo(o,Kp,5),i.Suo(o,pn,5),i.Suo(o,hn,5),i.Suo(o,ci,5),i.Suo(o,di,5),i.Suo(o,Ys,5),i.Suo(o,$s,5),i.Suo(o,ui,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s.first),i.iGM(s=i.CRH())&&(e.customItemTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupTemplate=s.first),i.iGM(s=i.CRH())&&(e.fixedGroupTemplate=s.first),i.iGM(s=i.CRH())&&(e.headerTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first),i.iGM(s=i.CRH())&&(e.tagTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupTagTemplate=s.first),i.iGM(s=i.CRH())&&(e.noDataTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(Bl,7,i.s_b),i.Gf(dn,7),i.Gf(Fl,7),i.Gf(Jc,7),i.Gf(Gp,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.searchbar=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.optionsList=o.first)}},hostVars:7,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.dir),i.ekj("k-widget",e.widgetClasses)("k-multiselect",e.widgetClasses)("k-state-disabled",e.disabledClass))},inputs:{focusableId:"focusableId",autoClose:"autoClose",tabindex:"tabindex",disabled:"disabled",readonly:"readonly",filterable:"filterable",listHeight:"listHeight",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",data:"data",value:"value",tabIndex:"tabIndex",placeholder:"placeholder",itemDisabled:"itemDisabled",checkboxes:"checkboxes",virtual:"virtual",popupSettings:"popupSettings",valuePrimitive:"valuePrimitive",loading:"loading",valueField:"valueField",textField:"textField"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[i._Bn([jL,Zt,Pt,Qt,Ut,I,{provide:Fe,useValue:"kendo.multiselect"},{provide:$r,useExisting:(0,i.Gpc)(()=>eh)},{provide:qe,useExisting:(0,i.Gpc)(()=>eh)}]),i.TTD],decls:13,vars:24,consts:function(){let t,n;return t=$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items␟3cc1323f79a5fe012960578e513f8a35b2af1e96␟1450213984397806503:NO DATA FOUND`,n=$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`,[["kendoMultiSelectLocalizedMessages","","noDataText",t,"clearTitle",n],[1,"k-multiselect-wrap","k-floatwrap",3,"mousedown"],["wrapper",""],[3,"id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","disabledIndices","removeTag"],[3,"id","role","tagListId","activeDescendant","noDataLabel","userInput","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"visibility","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],["class","k-list",4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","height","template","groupTemplate","fixedGroupTemplate","show","multipleSelection","virtual","checkboxes","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-list"],["kendoDropDownsSelectable","",1,"k-item","k-custom-item",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],["default_custom_item_template",""],[1,"k-icon","k-i-plus",2,"float","right"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"div",1,2),i.NdJ("mousedown",function(s){return e.wrapperMousedown(s)}),i.TgZ(3,"kendo-taglist",3),i.NdJ("removeTag",function(s){return e.handleRemoveTag(s)}),i.qZA(),i.TgZ(4,"kendo-searchbar",4,5),i.NdJ("onNavigate",function(s){return e.handleNavigate(s)})("valueChange",function(s){return e.handleFilter(s)})("onBlur",function(){return e.onSearchBarBlur()})("onFocus",function(){return e.onSearchBarFocus()}),i.qZA(),i.YNc(6,oN,1,3,"span",6),i.YNc(7,sN,1,0,"span",7),i.qZA(),i.YNc(8,vN,6,17,"ng-template",null,8,i.W1O),i.YNc(10,_N,1,0,"ng-template",9),i.GkF(11,null,10)),2&n&&(i.xp6(3),i.Q6J("id",e.tagListId)("tags",e.tags)("textField",e.textField)("valueField",e.valueField)("focused",e.focusedTagIndex)("disabled",e.disabled)("template",e.tagTemplate)("groupTemplate",e.groupTagTemplate)("tagPrefix",e.tagPrefix)("disabledIndices",e.disabledIndices),i.xp6(1),i.Q6J("id",e.focusableId)("role","listbox")("tagListId",e.tagListId)("activeDescendant",e.activeDescendant)("noDataLabel",e.noDataLabel)("userInput",e.text)("disabled",e.disabled)("readonly",e.readonly)("tabIndex",e.tabIndex)("popupOpen",e.isOpen)("placeholder",e.placeholder),i.xp6(2),i.Q6J("ngIf",!e.loading&&!e.readonly&&e.clearButton&&((null==e.tags?null:e.tags.length)||(null==e.text?null:e.text.length))),i.xp6(1),i.Q6J("ngIf",e.loading),i.xp6(3),i.Q6J("ngIf",e.isOpen))},directives:function(){return[fn,xv,dn,x.O5,Io,To,sh,ai]},encapsulation:2}),b([(0,i.IIB)(),_("design:type",String)],he.prototype,"focusableId",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"autoClose",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"loading",void 0),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],he.prototype,"data",null),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],he.prototype,"value",null),b([(0,i.IIB)(),_("design:type",String)],he.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",String)],he.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",Number)],he.prototype,"tabindex",void 0),b([(0,i.IIB)("tabIndex"),_("design:type",Number),_("design:paramtypes",[Number])],he.prototype,"tabIndex",null),b([(0,i.IIB)(),_("design:type",String),_("design:paramtypes",[String])],he.prototype,"placeholder",null),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Function),_("design:paramtypes",[Function])],he.prototype,"itemDisabled",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],he.prototype,"checkboxes",null),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"filterable",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],he.prototype,"virtual",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],he.prototype,"popupSettings",null),b([(0,i.IIB)(),_("design:type",Number)],he.prototype,"listHeight",void 0),b([(0,i.IIB)(),_("design:type",Boolean),_("design:paramtypes",[Boolean])],he.prototype,"valuePrimitive",null),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"clearButton",void 0),b([(0,i.IIB)(),_("design:type",Object)],he.prototype,"tagMapper",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],he.prototype,"allowCustom",void 0),b([(0,i.IIB)(),_("design:type",Function)],he.prototype,"valueNormalizer",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"filterChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"open",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"opened",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"close",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"closed",void 0),b([(0,i.r_U)("focus"),_("design:type",i.vpe)],he.prototype,"onFocus",void 0),b([(0,i.r_U)("blur"),_("design:type",i.vpe)],he.prototype,"onBlur",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],he.prototype,"removeTag",void 0),b([(0,i.i9L)("container",{read:i.s_b,static:!0}),_("design:type",i.s_b)],he.prototype,"container",void 0),b([(0,i.i9L)(dn,{static:!0}),_("design:type",dn)],he.prototype,"searchbar",void 0),b([(0,i.i9L)("popupTemplate",{static:!0}),_("design:type",i.Rgc)],he.prototype,"popupTemplate",void 0),b([(0,i.i9L)("wrapper",{static:!0}),_("design:type",i.SBq)],he.prototype,"wrapper",void 0),b([(0,i.i9L)("optionsList",{static:!1}),_("design:type",Io)],he.prototype,"optionsList",void 0),b([(0,i.aQ5)(un,{static:!1}),_("design:type",un)],he.prototype,"template",void 0),b([(0,i.aQ5)(Kp,{static:!1}),_("design:type",Kp)],he.prototype,"customItemTemplate",void 0),b([(0,i.aQ5)(pn,{static:!1}),_("design:type",pn)],he.prototype,"groupTemplate",void 0),b([(0,i.aQ5)(hn,{static:!1}),_("design:type",hn)],he.prototype,"fixedGroupTemplate",void 0),b([(0,i.aQ5)(ci,{static:!1}),_("design:type",ci)],he.prototype,"headerTemplate",void 0),b([(0,i.aQ5)(di,{static:!1}),_("design:type",di)],he.prototype,"footerTemplate",void 0),b([(0,i.aQ5)(Ys,{static:!1}),_("design:type",Ys)],he.prototype,"tagTemplate",void 0),b([(0,i.aQ5)($s,{static:!1}),_("design:type",$s)],he.prototype,"groupTagTemplate",void 0),b([(0,i.aQ5)(ui,{static:!1}),_("design:type",ui)],he.prototype,"noDataTemplate",void 0),b([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-multiselect"),_("design:type",Boolean)],he.prototype,"widgetClasses",void 0),b([(0,i.pfw)("attr.dir"),_("design:type",String),_("design:paramtypes",[])],he.prototype,"dir",null),b([(0,i.pfw)("class.k-state-disabled"),_("design:type",Boolean),_("design:paramtypes",[])],he.prototype,"disabledClass",null),he=eh=b([bn(11,(0,i.FiY)()),bn(11,(0,i.tBr)($i)),_("design:paramtypes",[I,$e,Zt,Pt,Qt,Ut,i.sBO,i.aQg,i.Qsj,i.SBq,i.R0b,Boolean])],he);let Iv,th=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoMultiColumnComboBoxColumnCellTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),ih=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoMultiColumnComboBoxColumnHeaderTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})(),Sv=(()=>{let t=class{constructor(){this.hidden=!1,this.matchesMedia=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-combobox-column"]],contentQueries:function(e,o,s){if(1&e&&(i.Suo(s,th,5),i.Suo(s,ih,5)),2&e){let r;i.iGM(r=i.CRH())&&(o.cellTemplate=r.first),i.iGM(r=i.CRH())&&(o.headerTemplate=r.first)}},inputs:{hidden:"hidden",field:"field",title:"title",width:"width",style:"style",headerStyle:"headerStyle",class:"class",headerClass:"headerClass",media:"media"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),b([(0,i.aQ5)(th,{static:!1}),_("design:type",th)],t.prototype,"cellTemplate",void 0),b([(0,i.aQ5)(ih,{static:!1}),_("design:type",ih)],t.prototype,"headerTemplate",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"field",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"title",void 0),b([(0,i.IIB)(),_("design:type",Number)],t.prototype,"width",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"hidden",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"style",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"headerStyle",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"class",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"headerClass",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"media",void 0),t})();const kv=()=>{if(isNaN(Iv)){const t=document.createElement("div");t.style.cssText="overflow: scroll; overflow-x: hidden; zoom: 1; clear: both; display: block;",t.innerHTML="&nbsp;",document.body.appendChild(t),Iv=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return Iv};var Uc;let xo=Uc=class extends ve{constructor(n,e,o,s,r,a,l,d,c,p,m){super(n,e,o,s,r,a,l,d,c,p,m),this.hostClasses=!0,this.removeWindowResizeListener=Hr,this.defaultVirtualItemHeight=36,this.defaultVirtualPageSize=30}set header(n){this.updateHeaderPadding(n&&n.nativeElement)}get popupWidth(){const n=this.wrapper.nativeElement.offsetWidth,e=`${n}px`,o=this.popupSettings.width||(t=>{if(!(t=>!(!N(t)||0===t.length)&&t.toArray().every(n=>!isNaN(n.width)&&n.width>0))(t))return null;const e=kv()+2;return t.reduce((o,s)=>(!s.hidden&&s.matchesMedia&&(o+=parseInt(s.width,10)),o),e)})(this.columns)||n;return{min:e,max:isNaN(o)?o:`${o}px`}}get listContainerClasses(){return["k-list-container","k-popup","k-reset","k-group","k-dropdowngrid-popup","k-popup-flush","k-state-border-up"].concat(this.popupSettings.popupClass||[])}ngAfterViewInit(){this.updateColumnsMediaState(),this.addWindowResizeListener()}ngOnDestroy(){super.ngOnDestroy(),this.removeWindowResizeListener()}textFrom(n,e){return ie(n,e)}updateHeaderPadding(n){if(!N(n))return;const e=this.localization.rtl?"padding-left":"padding-right";this.optionsList.hasScrollbar()&&kv()>0?this.renderer.setStyle(n,e,`${kv()}px`):this.renderer.removeStyle(n,e)}verifySettings(){if((0,i.X6Q)()){if(N(this.data)&&this.data.length>0&&this.data.some(n=>!Vr(n)))throw new Error("Provided data must consist only of objects. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/");if(!N(this.valueField)||!N(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multicolumncombobox/data-binding/#toc-fields-configuration");super.verifySettings()}}addWindowResizeListener(){!W()||this.zone.runOutsideAngular(()=>this.removeWindowResizeListener=this.renderer.listen(window,"resize",this.updateColumnsMediaState.bind(this)))}updateColumnsMediaState(){!N(this.columns)||!W()||this.columns.forEach(n=>{const e=!n.media||window.matchMedia(n.media).matches;n.matchesMedia!==e&&(n.matchesMedia=e,this.isOpen&&this.zone.run(()=>this.popupRef.popupElement.style.width=this.popupWidth.max))})}};xo.\u0275fac=function(n){return new(n||xo)(i.Y36(I),i.Y36($e),i.Y36(Pt),i.Y36(Qt),i.Y36(Ut),i.Y36(Zt),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36($i))},xo.\u0275cmp=i.Xpm({type:xo,selectors:[["kendo-multicolumncombobox"]],contentQueries:function(n,e,o){if(1&n&&i.Suo(o,Sv,4),2&n){let s;i.iGM(s=i.CRH())&&(e.columns=s)}},viewQuery:function(n,e){if(1&n&&i.Gf(yN,5),2&n){let o;i.iGM(o=i.CRH())&&(e.header=o.first)}},hostVars:2,hostBindings:function(n,e){2&n&&i.ekj("k-dropdowngrid",e.hostClasses)},features:[i._Bn([Pt,Zt,Qt,Ut,I,{provide:Fe,useValue:"kendo.multicolumncombobox"},{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Uc)},{provide:qe,useExisting:(0,i.Gpc)(()=>Uc)},{provide:$r,useExisting:(0,i.Gpc)(()=>Uc)}]),i.qOj],decls:14,vars:20,consts:function(){let t,n;return t=$localize`:kendo.multicolumncombobox.noDataText|The text displayed in the popup when there are no items␟23a18095f2c16d40a04251fa2fb15d3927e7a79a␟3227251500690942605:NO DATA FOUND`,n=$localize`:kendo.multicolumncombobox.clearTitle|The title of the clear button␟6b371962a2564e2e50986f7ec238e513b466d553␟326603149056291198:clear`,[["kendoMultiColumnComboBoxLocalizedMessages","","noDataText",t,"clearTitle",n],["unselectable","on",1,"k-dropdown-wrap"],["wrapper",""],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["aria-hidden","true","unselectable","on",1,"k-select",3,"kendoEventsOutsideAngular"],["select",""],[1,"k-icon",3,"ngClass"],["popupTemplate",""],[3,"resize",4,"ngIf"],["container",""],["aria-hidden","true",1,"k-icon","k-clear-value","k-i-close",3,"kendoEventsOutsideAngular","click"],[4,"ngIf"],[1,"k-grid-header"],["header",""],[1,"k-grid-header-wrap"],["role","presentation"],[4,"ngFor","ngForOf"],["rowTemplate",""],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","listClass","pageChange","listResize"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[3,"width",4,"ngIf"],["class","k-header",3,"ngStyle","ngClass",4,"ngIf"],[1,"k-header",3,"ngStyle","ngClass"],["class","k-cell",3,"ngClass","width","ngStyle",4,"ngIf"],[1,"k-cell",3,"ngClass","ngStyle"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"ngIf"],[1,"k-footer"],[3,"resize"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.TgZ(3,"kendo-searchbar",3,4),i.NdJ("onNavigate",function(s){return e.handleNavigate(s)})("valueChange",function(s){return e.searchBarChange(s)})("onBlur",function(){return e.handleBlur()})("onFocus",function(){return e.handleFocus()}),i.qZA(),i.YNc(5,bN,1,6,"span",5),i.TgZ(6,"span",6,7),i._UZ(8,"span",8),i.qZA(),i.qZA(),i.YNc(9,YN,16,19,"ng-template",null,9,i.W1O),i.YNc(11,$N,1,0,"kendo-resize-sensor",10),i.GkF(12,null,11)),2&n&&(i.xp6(1),i.ekj("k-state-disabled",e.disabled),i.xp6(2),i.Q6J("role","combobox")("id",e.focusableId)("listId",e.listBoxId)("activeDescendant",e.activeDescendant)("noDataLabel",e.noDataLabel)("userInput",e.text)("suggestedText",e.getSuggestion())("disabled",e.disabled)("readonly",e.readonly)("tabIndex",e.tabIndex)("popupOpen",e.isOpen)("placeholder",e.placeholder),i.xp6(2),i.Q6J("ngIf",e.clearButton&&!e.loading&&!e.disabled&&!e.readonly&&(null==e.text?null:e.text.length)),i.xp6(1),i.Q6J("kendoEventsOutsideAngular",i.VKq(18,Vp,e.preventEventDefault)),i.xp6(2),i.Q6J("ngClass",e.buttonClasses),i.xp6(3),i.Q6J("ngIf",e.isOpen))},directives:function(){return[fn,dn,x.O5,kt,x.mk,x.sg,Io,To,x.PC,ai]},encapsulation:2}),b([(0,i.pfw)("class.k-dropdowngrid"),_("design:type",Boolean)],xo.prototype,"hostClasses",void 0),b([(0,i.AcB)(Sv),_("design:type",i.n_E)],xo.prototype,"columns",void 0),b([(0,i.i9L)("header",{static:!1}),_("design:type",i.SBq),_("design:paramtypes",[i.SBq])],xo.prototype,"header",null),xo=Uc=b([bn(10,(0,i.tBr)($i)),_("design:paramtypes",[I,$e,Pt,Qt,Ut,Zt,i.R0b,i.sBO,i.Qsj,i.SBq,Boolean])],xo);let jr=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownTreeNodeTemplate",""],["","kendoMultiSelectTreeNodeTemplate",""]]}),t=b([_("design:paramtypes",[i.Rgc])],t),t})();var Rl;const S1={animate:!0},UL=()=>!1,QL=()=>(0,cn.of)([]),XL=()=>!1,WL=()=>!0;let be=Rl=class{constructor(n,e,o,s,r,a,l,d){this.popupService=n,this.navigationService=e,this.renderer=o,this.hostElement=s,this._zone=r,this.cdr=a,this.localization=l,this.touchEnabled=d,this.hostClasses=!0,this.open=new i.vpe,this.opened=new i.vpe,this.close=new i.vpe,this.closed=new i.vpe,this.nodeExpand=new i.vpe,this.nodeCollapse=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.valueChange=new i.vpe,this.filterChange=new i.vpe,this.clearButton=!0,this.hasChildren=UL,this.fetchChildren=QL,this.placeholder="",this.listHeight=200,this.disabled=!1,this.readonly=!1,this.valuePrimitive=!1,this.itemDisabled=XL,this.isNodeVisible=WL,this.loadOnDemand=!0,this.filterable=!1,this.filter="",this.focusableId=`k-${Ve()}`,this.selectedKeys=[],this.filterStateChange=new i.vpe,this.allNodesHidden=!1,this.valueLabelId=`k-${Ve()}`,this._popupSettings=S1,this._tabindex=0,this._isFocused=!1,this.subscriptions=[],this.onTouchedCallback=Hr,this.onChangeCallback=Hr,this.direction=l.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}get clearable(){return this.clearButton}set treeview(n){n&&((this.isFocused&&!this.filterable||this.touchEnabled)&&n.focus(),n.animate=!0,this._treeview=n)}get treeview(){return this._treeview}set data(n){this._nodes=n,this.setState()}get data(){return this._nodes}set value(n){this._value=n,this.setState()}get value(){return this._value}set popupSettings(n){this._popupSettings=Object.assign({},S1,n)}get popupSettings(){return this._popupSettings}set dataItem(n){this._dataItem=n,this.setState()}get dataItem(){return this._dataItem?this._dataItem:this.value}set tabindex(n){const e=Number(n);this._tabindex=isNaN(e)?0:e}get tabindex(){return this.disabled?-1:this._tabindex}set isFocused(n){this.renderer[n?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=n}get isFocused(){return this._isFocused}get width(){const n=this.wrapper.nativeElement.offsetWidth,e=this.popupSettings.width||n;return{min:isNaN(n)?n:`${n}px`,max:isNaN(e)?e:`${e}px`}}get height(){const n=this.popupSettings.height;return N(n)?`${n}px`:"auto"}get isOpen(){return N(this.popupRef)}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}set isExpanded(n){this.isNodeExpanded=n}get isExpanded(){return this.isNodeExpanded}get expand(){return this.nodeExpand}get collapse(){return this.nodeCollapse}set nodes(n){this.data=n}get nodes(){return this.data}set children(n){this.fetchChildren=n}get children(){return this.fetchChildren}set isVisible(n){this.isNodeVisible=n}get isVisible(){return this.isNodeVisible}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.assignAriaDescribedBy(),this.subscriptions.push(this.localization.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr",this.cdr.markForCheck()}))}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents()}ngOnChanges(n){bt(["textField","valueField","valuePrimitive"],n,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}isEmpty(){return!this.text&&!this.placeholder}togglePopup(n){this.disabled||this.readonly||this.isOpen===n||this.triggerPopupEvents(n)||(n?this.createPopup():this.destroyPopup())}handleFocus(){this.isFocused||(this.isFocused=!0,ne(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}handleBlur(n){const e=n&&n.relatedTarget;this.hostElement.nativeElement.contains(e)||this.isOpen&&this.popupRef.popupElement.contains(e)||(this.isFocused=!1,ne(this.onBlur)||Ol(this.hostElement.nativeElement)?this._zone.run(()=>{this.togglePopup(!1),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1))}handleKeydown(n){this.disabled||this.readonly||this.navigationService.process({originalEvent:n})}handleClick(){this.togglePopup(!this.isOpen)}focusItemAt(n){if(this.treeview){const e=this.treeview.itemLookup(n);!N(e)||this.treeview.isDisabled(e.item.dataItem,e.item.index)||this.treeview.focus(n)}}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}reset(){this.value=void 0,this.dataItem=void 0}toggle(n){Promise.resolve(null).then(()=>{const e=N(n)?n:!N(this.popupRef);this.destroyPopup(),e&&this.createPopup()})}get popupContainerClasses(){const n=["k-popup-dropdowntree","k-reset","k-group","k-list-container"];return this.popupSettings.popupClass&&n.push(this.popupSettings.popupClass),n}onSelectionChange({dataItem:n,index:e}){this.valueDepth=e.split("_").length-1;const o=this.getField(this.valueField,n),s=this.valuePrimitive?qt(o)(n):n;s!==this.value&&(this.value=s,this.dataItem=n,this.emitValueChange(this.value)),this.togglePopup(!1),this.focus()}messageFor(n){return this.localization.get(n)}clearValue(n){n.stopImmediatePropagation(),this.focus(),this.value=void 0,this.dataItem=void 0,this.clearState(),this.valueChange.emit(void 0),this.emitValueChange()}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}preventEventDefault(n){n.preventDefault()}writeValue(n){!N(n)&&N(this.value)&&(this.dataItem=null),this.value=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}handleFilterInputChange(n){this.filterChange.next(n),this.allNodesHidden=this.nodes.every((e,o)=>!this.isVisible(e,String(o)))}get buttonClasses(){return this.loading?"k-i-loading":"k-i-arrow-s"}verifySettings(){if((0,i.X6Q)()){if(!0===this.valuePrimitive&&N(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-primitive-values");if(!0===this.valuePrimitive&&N(this.value)&&"object"!=typeof this.dataItem)throw new Error("Expected dataItem of type Object to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownTreeComponent/#toc-dataitem");if(!1===this.valuePrimitive&&N(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding/#toc-object-values");if(!N(this.valueField)||!N(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdowntree/value-binding");if((Yi(this.valueField)||Yi(this.textField))&&N(this.value)&&!N(this.valueDepth))throw new Error("Expected valueDepth to be set. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/DropDownTreeComponent/#toc-valuedepth")}}emitValueChange(n){this.onChangeCallback(n),this.valueChange.emit(n)}getText(n,e){return N(e)&&N(n)?qt(this.getField(n,e))(e):null}getField(n,e){const o=n.length-1;return"string"==typeof n?n:N(this.valueDepth)?o<this.valueDepth?n[o]:n[this.valueDepth]:n.find(s=>s in e)}triggerPopupEvents(n){const e=new Yr;return n?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}createPopup(){const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:{horizontal:n,vertical:"bottom"},content:this.popupTemplate,popupAlign:{horizontal:n,vertical:"top"},positionMode:"absolute",popupClass:this.popupContainerClasses});const s=this.popupRef.popupElement,{min:r,max:a}=this.width;s.style.minWidth=r,s.style.width=a,s.style.height=this.height,s.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})}destroyPopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null,""!==this.filter&&(this.filter="",this.allNodesHidden=!1,ne(this.filterChange)&&this._zone.run(()=>{this.filterChange.emit("")})))}handleEscape(){this.togglePopup(!1),this.focus()}setState(){if(N(this.value)&&N(this.dataItem)&&N(this.valueField)){this.text=this.getText(this.textField,this.dataItem);const n=this.getField(this.valueField,this.dataItem);this.selectBy=n,this.selectedKeys=[qt(n)(this.dataItem)]}else this.clearState();this.cdr.markForCheck()}clearState(){this.text=void 0,this.selectedKeys=[]}subscribeEvents(){this.subscriptions.push(this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.navigationService.enter.pipe((0,ze.b)(n=>n.originalEvent.preventDefault())).subscribe(()=>this.togglePopup(!0)),this.navigationService.esc.subscribe(()=>this.handleEscape()),this.navigationService.tab.subscribe(()=>this.focus()),this.navigationService.down.subscribe(n=>{!this.treeview||(n.originalEvent.preventDefault(),this.treeview.isActive||this.treeview.focus())}),this.navigationService.up.subscribe(n=>{!this.treeview||(n.originalEvent.preventDefault(),this.filterable&&"0"===this.treeview.navigationService.activeIndex&&this.filterInput.nativeElement.focus())}))}subscribeTouchEvents(){!W()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",n=>{this.isFocused&&!jc(this.hostElement,n.target,this.popupRef)&&this._zone.run(()=>{this.isOpen&&this.treeview.blur(),this.blur()})}))}unsubscribeEvents(){this.subscriptions.forEach(n=>n.unsubscribe()),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}assignAriaDescribedBy(){const n=this.wrapper.nativeElement.getAttribute("aria-describedby")||"",e=`${this.valueLabelId} ${n.trim()}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",e)}};var Al;be.\u0275fac=function(n){return new(n||be)(i.Y36($e),i.Y36(Qt),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(I),i.Y36($i,8))},be.\u0275cmp=i.Xpm({type:be,selectors:[["kendo-dropdowntree"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,ui,5),i.Suo(o,ci,5),i.Suo(o,di,5),i.Suo(o,jr,5),i.Suo(o,Jr,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.noDataTemplate=s.first),i.iGM(s=i.CRH())&&(e.headerTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first),i.iGM(s=i.CRH())&&(e.nodeTemplate=s.first),i.iGM(s=i.CRH())&&(e.valueTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(h1,5),i.Gf(Fl,7),i.Gf(Jc,7),i.Gf(Bl,7,i.s_b),i.Gf(f1,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.treeview=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.filterInput=o.first)}},hostVars:7,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction),i.ekj("k-widget",e.hostClasses)("k-dropdowntree",e.hostClasses)("k-dropdowntree-clearable",e.clearable))},inputs:{clearButton:"clearButton",hasChildren:"hasChildren",fetchChildren:"fetchChildren",placeholder:"placeholder",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",valuePrimitive:"valuePrimitive",itemDisabled:"itemDisabled",isNodeVisible:"isNodeVisible",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",focusableId:"focusableId",data:"data",value:"value",popupSettings:"popupSettings",dataItem:"dataItem",tabindex:"tabindex",isNodeExpanded:"isNodeExpanded",valueDepth:"valueDepth",loading:"loading",textField:"textField",valueField:"valueField"},outputs:{open:"open",opened:"opened",close:"close",closed:"closed",nodeExpand:"nodeExpand",nodeCollapse:"nodeCollapse",onFocus:"focus",onBlur:"blur",valueChange:"valueChange",filterChange:"filterChange"},exportAs:["kendoDropDownTree"],features:[i._Bn([Zt,Pt,Qt,Ut,I,{provide:Fe,useValue:"kendo.dropdowntree"},{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Rl)},{provide:qe,useExisting:(0,i.Gpc)(()=>Rl)},{provide:Ki,useExisting:(0,i.Gpc)(()=>Rl)},{provide:Nr,useExisting:(0,i.Gpc)(()=>Rl)}]),i.TTD],decls:13,vars:18,consts:function(){let t,n;return t=$localize`:kendo.dropdowntree.noDataText|The text displayed in the popup when there are no items␟b5507b240a829a596159da3600ea1c73810d8708␟8377764809518564323:NO DATA FOUND`,n=$localize`:kendo.dropdowntree.clearTitle|The title of the clear button␟549a21c02a5be9711c5297a917390d5f4c06448b␟5091538317194981642:clear`,[["kendoDropDownTreeLocalizedMessages","","noDataText",t,"clearTitle",n],["role","listbox","aria-haspopup","tree",3,"ngClass","kendoEventsOutsideAngular","scope","click","keydown"],["wrapper",""],[1,"k-input"],[4,"ngIf"],[3,"ngIf"],["class","k-icon k-clear-value k-i-close","aria-hidden","true",3,"visibility","click",4,"ngIf"],["aria-hidden","true",1,"k-select"],[1,"k-icon","k-i-arrow-60-down",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],["aria-hidden","true",1,"k-icon","k-clear-value","k-i-close",3,"click"],["class","k-list-filter",4,"ngIf"],["kendoTreeViewSelectable","",3,"nodes","maxHeight","animate","selectedKeys","selectBy","textField","children","hasChildren","loadOnDemand","isExpanded","isDisabled","nodeTemplate","filter","isVisible","selectedKeysChange","focusout","keydown","selectionChange","expand","collapse",4,"ngIf"],["class","k-nodata",4,"ngIf"],[1,"k-list-filter"],["role","textbox","aria-haspopup","true","aria-expanded","false","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-textbox",3,"filterInput","ngModel","kendoEventsOutsideAngular","scope","input","keydown.arrowdown","keydown.alt.arrowup","ngModelChange"],["filterInput",""],[1,"k-icon","k-i-zoom"],["kendoTreeViewSelectable","",3,"nodes","animate","selectedKeys","selectBy","textField","children","hasChildren","loadOnDemand","isExpanded","isDisabled","nodeTemplate","filter","isVisible","selectedKeysChange","focusout","keydown","selectionChange","expand","collapse"],["treeview",""],[1,"k-nodata"],[3,"ngIf","templateContext"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.NdJ("click",function(){return e.handleClick()})("keydown",function(s){return e.handleKeydown(s)}),i.TgZ(3,"span",3),i.YNc(4,jN,1,4,void 0,4),i.YNc(5,qN,1,1,"ng-template",5),i.qZA(),i.YNc(6,ZN,1,3,"span",6),i.TgZ(7,"span",7),i._UZ(8,"span",8),i.qZA(),i.qZA(),i.YNc(9,oL,5,5,"ng-template",null,9,i.W1O),i.GkF(11,null,10)),2&n&&(i.xp6(1),i.Q6J("ngClass",i.VKq(13,p1,e.disabled))("kendoEventsOutsideAngular",i.WLB(15,zp,e.handleFocus,e.handleBlur))("scope",e),i.uIk("id",e.focusableId)("aria-expanded",e.isOpen)("aria-readonly",e.readonly)("tabindex",e.tabindex)("dir",e.direction),i.xp6(2),i.uIk("id",e.valueLabelId),i.xp6(1),i.Q6J("ngIf",e.valueTemplate),i.xp6(1),i.Q6J("ngIf",!e.valueTemplate),i.xp6(1),i.Q6J("ngIf",!e.loading&&!e.readonly&&e.clearButton&&(null==e.text?null:e.text.length)&&!e.disabled),i.xp6(2),i.Q6J("ngClass",e.buttonClasses))},directives:function(){return[fn,x.mk,kt,x.O5,To,X.Fj,oh,X.JJ,X.On,Tt,hv]},encapsulation:2,changeDetection:0}),b([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-dropdowntree"),(0,i.pfw)("class.k-dropdowntree-clearable"),_("design:type",Boolean)],be.prototype,"hostClasses",void 0),b([(0,i.pfw)("attr.dir"),_("design:type",String)],be.prototype,"direction",void 0),b([(0,i.pfw)("class.k-dropdowntree-clearable"),_("design:type",Boolean),_("design:paramtypes",[])],be.prototype,"clearable",null),b([(0,i.aQ5)(ui,{static:!1}),_("design:type",ui)],be.prototype,"noDataTemplate",void 0),b([(0,i.aQ5)(ci,{static:!1}),_("design:type",ci)],be.prototype,"headerTemplate",void 0),b([(0,i.aQ5)(di,{static:!1}),_("design:type",di)],be.prototype,"footerTemplate",void 0),b([(0,i.aQ5)(jr,{static:!1}),_("design:type",jr)],be.prototype,"nodeTemplate",void 0),b([(0,i.aQ5)(Jr,{static:!1}),_("design:type",Jr)],be.prototype,"valueTemplate",void 0),b([(0,i.i9L)("popupTemplate",{static:!0}),_("design:type",i.Rgc)],be.prototype,"popupTemplate",void 0),b([(0,i.i9L)("wrapper",{static:!0}),_("design:type",i.SBq)],be.prototype,"wrapper",void 0),b([(0,i.i9L)("container",{read:i.s_b,static:!0}),_("design:type",i.s_b)],be.prototype,"container",void 0),b([(0,i.i9L)("treeview",{static:!1}),_("design:type",Tt),_("design:paramtypes",[Tt])],be.prototype,"treeview",null),b([(0,i.i9L)("filterInput",{static:!1}),_("design:type",i.SBq)],be.prototype,"filterInput",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"open",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"opened",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"close",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"closed",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"nodeExpand",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"nodeCollapse",void 0),b([(0,i.r_U)("focus"),_("design:type",i.vpe)],be.prototype,"onFocus",void 0),b([(0,i.r_U)("blur"),_("design:type",i.vpe)],be.prototype,"onBlur",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],be.prototype,"filterChange",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"loading",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"clearButton",void 0),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],be.prototype,"data",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],be.prototype,"value",null),b([(0,i.IIB)(),_("design:type",Object)],be.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",Object)],be.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Number)],be.prototype,"valueDepth",void 0),b([(0,i.IIB)(),_("design:type",Function)],be.prototype,"hasChildren",void 0),b([(0,i.IIB)(),_("design:type",Function)],be.prototype,"fetchChildren",void 0),b([(0,i.IIB)(),_("design:type",String)],be.prototype,"placeholder",void 0),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],be.prototype,"popupSettings",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],be.prototype,"dataItem",null),b([(0,i.IIB)(),_("design:type",Number)],be.prototype,"listHeight",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"valuePrimitive",void 0),b([(0,i.IIB)(),_("design:type",Number),_("design:paramtypes",[Number])],be.prototype,"tabindex",null),b([(0,i.IIB)(),_("design:type",Function)],be.prototype,"itemDisabled",void 0),b([(0,i.IIB)(),_("design:type",Function)],be.prototype,"isNodeExpanded",void 0),b([(0,i.IIB)(),_("design:type",Function)],be.prototype,"isNodeVisible",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"loadOnDemand",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],be.prototype,"filterable",void 0),b([(0,i.IIB)(),_("design:type",String)],be.prototype,"filter",void 0),b([(0,i.IIB)(),_("design:type",String)],be.prototype,"focusableId",void 0),be=Rl=b([bn(7,(0,i.FiY)()),bn(7,(0,i.tBr)($i)),_("design:paramtypes",[$e,Qt,i.Qsj,i.SBq,i.R0b,i.sBO,I,Boolean])],be);const I1={animate:!0},k1={checkChildren:!0,checkOnClick:!0},KL=()=>!1,e8=()=>(0,cn.of)([]),t8=()=>!1,i8=()=>!0;let pe=Al=class{constructor(n,e,o,s,r,a,l,d){this.popupService=n,this.renderer=e,this.hostElement=o,this.navigationService=s,this._zone=r,this.localization=a,this.cdr=l,this.touchEnabled=d,this.hostClasses=!0,this.valueDepth=[],this.placeholder="",this.listHeight=200,this.disabled=!1,this.readonly=!1,this.valuePrimitive=!1,this.loadOnDemand=!1,this.focusableId=`k-${Ve()}`,this.clearButton=!0,this.filterable=!1,this.checkAll=!1,this.hasChildren=KL,this.fetchChildren=e8,this.isNodeVisible=i8,this.itemDisabled=t8,this.tagMapper=c=>c||[],this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.open=new i.vpe,this.opened=new i.vpe,this.close=new i.vpe,this.closed=new i.vpe,this.nodeExpand=new i.vpe,this.nodeCollapse=new i.vpe,this.valueChange=new i.vpe,this.removeTag=new i.vpe,this.filterChange=new i.vpe,this.filterStateChange=new i.vpe,this.checkedItems=[],this.checkBy=c=>c,this.showAfter=0,this.allNodesHidden=!1,this.tagListId=Ve(),this.tagPrefix="tag-"+Ve(),this.focusedTagIndex=void 0,this._value=[],this._tabindex=0,this._popupSettings=I1,this._checkableSettings=k1,this._isFocused=!1,this.subscriptions=[],this.lastAction="check",this.onTouchedCallback=Hr,this.onChangeCallback=Hr,this.direction=a.rtl?"rtl":"ltr",this.subscribeEvents()}set treeview(n){this._treeview=n,n&&((this.isFocused&&!this.filterable&&!this.checkAll||this.touchEnabled)&&n.focus(),Promise.resolve(null).then(()=>this.treeview.animate=!0))}get treeview(){return this._treeview}set tabindex(n){const e=$p(n);this._tabindex=isNaN(e)?0:e}get tabindex(){return this.disabled?-1:this._tabindex}set popupSettings(n){this._popupSettings=Object.assign({},I1,n),this.cdr.detectChanges()}get popupSettings(){return this._popupSettings}set checkableSettings(n){this._checkableSettings=Object.assign({},k1,n)}get checkableSettings(){return this._checkableSettings}set data(n){this._nodes=n,this.setState()}get data(){return this._nodes}set value(n){this._value=n||[],this.setState()}get value(){return this._value}set dataItems(n){this._dataItems=(n||[]).map((e,o)=>v1(e,["dataItem","index","level"])?e:{dataItem:e,index:null,level:this.valueDepth[o]||0}),this.setState()}get dataItems(){return this._dataItems||this.value.map((n,e)=>({dataItem:n,index:null,level:this.valueDepth[e]||0}))}get focusedTagId(){return!N(this.focusedTagIndex)||this.isOpen?null:`${this.tagPrefix}-${Hs({dataItem:this.tags[this.focusedTagIndex]},this.valueField)}`}set isFocused(n){this.renderer[n?"addClass":"removeClass"](this.hostElement.nativeElement,"k-state-focused"),this._isFocused=n}get isFocused(){return this._isFocused}get isOpen(){return N(this.popupRef)}get width(){const n=this.wrapper.nativeElement.offsetWidth,e=this.popupSettings.width||n;return{min:isNaN(n)?n:`${n}px`,max:isNaN(e)?e:`${e}px`}}get height(){const n=this.popupSettings.height;return N(n)?`${n}px`:"auto"}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}get popupContainerClasses(){const n=["k-popup-dropdowntree","k-reset","k-group","k-list-container"];return this.popupSettings.popupClass&&n.push(this.popupSettings.popupClass),n}set nodes(n){this.data=n}get nodes(){return this.data}set children(n){this.fetchChildren=n}get children(){return this.fetchChildren}get expand(){return this.nodeExpand}get collapse(){return this.nodeCollapse}set isExpanded(n){this.isNodeExpanded=n}get isExpanded(){return this.isNodeExpanded}set isVisible(n){this.isNodeVisible=n}get isVisible(){return this.isNodeVisible}get isTagFocused(){return!this.isOpen&&void 0!==this.focusedTagIndex}get isTreeViewActive(){return this.treeview&&this.treeview.isActive}get isWrapperActive(){return document.activeElement===this.wrapper.nativeElement}get isFilterActive(){return this.filterInput&&document.activeElement===this.filterInput.nativeElement}get isCheckAllActive(){return this.checkAllInput&&document.activeElement===this.checkAllInput.nativeElement}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded",String(this.isOpen)),this.subscriptions.push(this.localization.changes.subscribe(({rtl:n})=>{this.direction=n?"rtl":"ltr",this.cdr.markForCheck()}))}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents()}ngOnChanges(n){bt(["textField","valueField","valuePrimitive"],n,!1)&&this.setState(),bt(["valueDepth","value","dataItems"],n,!1)&&(this.dataItems=!n.value||n.dataItems||this.valuePrimitive?this.dataItems.map((e,o)=>Object.assign({},e,{level:this.valueDepth[o]||0})):this.value)}ngAfterContentChecked(){this.verifySettings()}isEmpty(){return!(Boolean(this.placeholder)||N(this.value)&&0!==this.value.length)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}focusItemAt(n){if(this.treeview){const e=this.treeview.itemLookup(n);!N(e)||this.treeview.isDisabled(e.item.dataItem,e.item.index)||this.treeview.focus(n)}}reset(){this.value=[],this.dataItems=[],this.valueDepth=[]}toggle(n){Promise.resolve(null).then(()=>{const e=N(n)?n:!N(this.popupRef);this.destroyPopup(),e&&this.createPopup()})}handleFocus(){this.isFocused||(this.isFocused=!0,ne(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}),this.isOpen&&this.treeview&&(this.lastNodeOnFocus.setAttribute("tabindex","0"),this.treeview.focus()))}handleBlur(n){const e=n&&n.relatedTarget;this.hostElement.nativeElement.contains(e)||this.isOpen&&this.popupRef.popupElement.contains(e)||(this.isFocused=!1,this.togglePopup(!1),(ne(this.onBlur)||Ol(this.hostElement.nativeElement))&&this._zone.run(()=>{this.onBlur.emit(),this.onTouchedCallback()}))}handleClick(){this.togglePopup(!this.isOpen)}handleKeydown(n){if(this.isWrapperActive&&n.keyCode===R.Backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||this.readonly)return;const o=n;this.navigationService.process({originalEvent:o})===Ee.Open&&o.preventDefault()}handleNodeClick(n){this.isFocused||(this.lastNodeOnFocus=n.originalEvent.target.parentElement.parentElement,this.focus())}togglePopup(n){const e=this.disabled||this.readonly,o=this.isOpen===n;this._zone.run(()=>{this.focusedTagIndex=void 0}),e||o||(this.triggerPopupEvents(n)?this.removeTreeViewFromTabOrder():n?this.createPopup():this.destroyPopup())}messageFor(n){return this.localization.get(n)}handleCheckedItemsChange(n){this.valueDepth=n.map(e=>e.level),this.lastAction=n.length>this.dataItems.length?"check":"uncheck",this.dataItems=n.slice(),this.updateValue(this.dataItems)}handleRemoveTag({tag:n,index:e}){if(this.disabled||this.readonly)return;const o=new w1(n);this.removeTag.emit(o),!o.isDefaultPrevented()&&(n instanceof Array?(this.dataItems=this.dataItems.filter((s,r)=>r<this.showAfter||this.disabledIndices.has(r)),this.valueDepth=this.valueDepth.filter((s,r)=>r<this.showAfter||this.disabledIndices.has(r))):(this.dataItems=this.dataItems.filter((s,r)=>r!==e||this.disabledIndices.has(r)),this.valueDepth=this.valueDepth.filter((s,r)=>r!==e||this.disabledIndices.has(r))),this.updateValue(this.dataItems),this.isFocused||this.focus())}handleTagMapperChange(n){this.showAfter=$p(n),this.setTags()}clearAll(n){n.stopImmediatePropagation(),n.preventDefault(),this.focus(),this.value=this.value.filter((e,o)=>this.disabledIndices.has(o)),this.dataItems=this.dataItems.filter((e,o)=>this.disabledIndices.has(o)),this.valueDepth=this.valueDepth.filter((e,o)=>this.disabledIndices.has(o)),this.emitValueChange(this.value)}writeValue(n){this.value=n||[],this.valuePrimitive||(this.dataItems=this.value)}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}handleFilterInputChange(n){this.filterChange.next(n),this.allNodesHidden=this.nodes.every((e,o)=>!this.isVisible(e,String(o)))}toggleCheckAll(){this.checkAllInput.nativeElement.focus(),this.checkAllInput.nativeElement.click()}verifySettings(){if((0,i.X6Q)()){if(!N(this.valueField)||!N(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding");if(!Yi(this.value))throw new Error("Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/#value-selection");if(this.value.length>0){if(this.valuePrimitive&&this.value.some(e=>Vr(e)))throw new Error("Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-primitive-values");const n=this.dataItems.every(e=>Vr(e.dataItem));if(this.valuePrimitive&&!Yi(this.dataItems))throw new Error(ko_dataItems);if(this.valuePrimitive&&!n)throw new Error(ko_dataItems);if(this.valuePrimitive&&this.dataItems.length!==this.value.length)throw new Error("Expected dataItems length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/MultiSelectTreeComponent/#toc-dataitems");if(!this.valuePrimitive&&!Yp(this.value))throw new Error("Expected values of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselecttree/value-binding/#toc-object-values");if((Yi(this.valueField)||Yi(this.textField))&&!Yi(this.valueDepth))throw new Error(ko_valueDepth);if((Yi(this.valueField)||Yi(this.textField))&&0===this.valueDepth.length)throw new Error(ko_valueDepth);if((Yi(this.valueField)||Yi(this.textField))&&this.valueDepth.length!==this.value.length)throw new Error("Expected valueDepth length to match the number of provided values. See https://www.telerik.com/kendo-angular-ui-develop/components/dropdowns/api/MultiSelectTreeComponent/#toc-valuedepth")}}}emitValueChange(n){this.onChangeCallback(n),this.valueChange.emit(n)}triggerPopupEvents(n){const e=new Yr;return n?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}createPopup(){const n="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,appendTo:this.appendTo,anchorAlign:{horizontal:n,vertical:"bottom"},content:this.popupTemplate,popupAlign:{horizontal:n,vertical:"top"},positionMode:"absolute",popupClass:this.popupContainerClasses});const s=this.popupRef.popupElement,{min:r,max:a}=this.width;s.style.minWidth=r,s.style.width=a,s.style.height=this.height,this.renderer.setAttribute(s,"dir",this.direction),this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","true"),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})}destroyPopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.renderer.setAttribute(this.wrapper.nativeElement,"aria-expanded","false"),""!==this.filter&&(this.filter="",this.allNodesHidden=!1,ne(this.filterChange)&&this._zone.run(()=>{this.filterChange.emit("")})))}subscribeEvents(){this.subscriptions.push(this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.navigationService.enter.pipe((0,ze.b)(n=>n.originalEvent.preventDefault())).subscribe(()=>this.togglePopup(!0)),(0,We.T)(this.navigationService.close,this.navigationService.esc).subscribe(()=>{this.focus(),this.togglePopup(!1)}),this.navigationService.tab.subscribe(this.handleTabKey.bind(this)),this.navigationService.up.subscribe(this.handleUpKey.bind(this)),this.navigationService.down.subscribe(this.handleDownKey.bind(this)),this.navigationService.left.pipe((0,ee.h)(()=>!this.isTreeViewActive)).subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.pipe((0,ee.h)(()=>!this.isTreeViewActive)).subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.home.pipe((0,ee.h)(()=>!this.isOpen)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe((0,ee.h)(()=>!this.isOpen)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe((0,ee.h)(()=>this.isTagFocused)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe((0,ee.h)(()=>this.isTagFocused)).subscribe(this.handleDelete.bind(this)))}handleTabKey(){this.focus(),this.isOpen&&(this.treeview.blur(),this.removeTreeViewFromTabOrder())}handleUpKey(n){if(!this.treeview||(n.originalEvent.preventDefault(),this.isWrapperActive))return;const e="0"===this.treeview.navigationService.activeIndex;this.filterable&&this.isFilterActive?this.focus():this.checkAll&&!this.isCheckAllActive&&e?this.checkAllInput.nativeElement.focus():(this.isCheckAllActive||e)&&(this.filterable?this.filterInput.nativeElement.focus():this.focus())}handleDownKey(n){!this.treeview||(n.originalEvent.preventDefault(),this.filterable&&this.isWrapperActive?this.filterInput.nativeElement.focus():this.checkAll&&(this.isWrapperActive||this.isFilterActive)?this.checkAllInput.nativeElement.focus():this.treeview.isActive||this.treeview.focus(),this.focusedTagIndex=void 0)}handleRightKey(n){n.originalEvent.preventDefault();const e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e?this.focusedTagIndex++:this.focusedTagIndex||(this.focusedTagIndex=0)}handleLeftKey(n){n.originalEvent.preventDefault(),void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--}handleEnd(n){n.originalEvent.preventDefault(),this.focusedTagIndex=this.tags.length-1}handleHome(n){n.originalEvent.preventDefault(),this.focusedTagIndex=0}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():this.handleRemoveTag({tag:this.tags[this.tags.length-1],index:this.tags.length-1})}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex],index:this.focusedTagIndex}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}unsubscribeEvents(){this.subscriptions.forEach(n=>n.unsubscribe())}removeTreeViewFromTabOrder(){this.treeview.element.nativeElement.querySelectorAll("li").forEach(e=>{"0"===e.getAttribute("tabindex")&&(this.lastNodeOnFocus=e,this.lastNodeOnFocus.setAttribute("tabindex","-1"))})}setState(){N(this.dataItems)&&N(this.valueField)&&(this.setTags(),this.checkedItems=this.dataItems.slice()),this.cdr.markForCheck()}setTags(){const n=this.dataItems.map(e=>e.dataItem);this.tags=this.tagMapper(n),this.disabledIndices=this.disabledItemsMapper()}updateValue(n){const e=n.map(this.valuePrimitive?o=>Hs(o,this.valueField):o=>o.dataItem);this.value=e,this.emitValueChange(this.value)}disabledItemsMapper(){return new Set(this.dataItems.reduce((n,e,o)=>(this.itemDisabled(e.dataItem,e.index)&&n.push(o),n),[]))}};pe.\u0275fac=function(n){return new(n||pe)(i.Y36($e),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Qt),i.Y36(i.R0b),i.Y36(I),i.Y36(i.sBO),i.Y36($i,8))},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["kendo-multiselecttree"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,ci,5),i.Suo(o,di,5),i.Suo(o,jr,5),i.Suo(o,ui,5),i.Suo(o,Ys,5),i.Suo(o,$s,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.headerTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first),i.iGM(s=i.CRH())&&(e.nodeTemplate=s.first),i.iGM(s=i.CRH())&&(e.noDataTemplate=s.first),i.iGM(s=i.CRH())&&(e.tagTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupTagTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(h1,5),i.Gf(Fl,7),i.Gf(Jc,7),i.Gf(Bl,7,i.s_b),i.Gf(f1,5),i.Gf(sL,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.treeview=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.filterInput=o.first),i.iGM(o=i.CRH())&&(e.checkAllInput=o.first)}},hostVars:5,hostBindings:function(n,e){2&n&&(i.uIk("dir",e.direction),i.ekj("k-widget",e.hostClasses)("k-dropdowntree",e.hostClasses))},inputs:{valueDepth:"valueDepth",placeholder:"placeholder",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",valuePrimitive:"valuePrimitive",loadOnDemand:"loadOnDemand",focusableId:"focusableId",clearButton:"clearButton",filterable:"filterable",checkAll:"checkAll",hasChildren:"hasChildren",fetchChildren:"fetchChildren",isNodeVisible:"isNodeVisible",itemDisabled:"itemDisabled",tagMapper:"tagMapper",tabindex:"tabindex",popupSettings:"popupSettings",checkableSettings:"checkableSettings",data:"data",value:"value",dataItems:"dataItems",isNodeExpanded:"isNodeExpanded",textField:"textField",valueField:"valueField",loading:"loading"},outputs:{onFocus:"focus",onBlur:"blur",open:"open",opened:"opened",close:"close",closed:"closed",nodeExpand:"nodeExpand",nodeCollapse:"nodeCollapse",valueChange:"valueChange",removeTag:"removeTag",filterChange:"filterChange"},exportAs:["kendoMultiSelectTree"],features:[i._Bn([I,Qt,Zt,Ut,Pt,{provide:Fe,useValue:"kendo.multiselecttree"},{multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Al)},{provide:Ki,useExisting:(0,i.Gpc)(()=>Al)},{provide:Nr,useExisting:(0,i.Gpc)(()=>Al)},{provide:qe,useExisting:(0,i.Gpc)(()=>Al)}]),i.TTD],decls:11,vars:28,consts:function(){let t,n,e;return t=$localize`:kendo.multiselecttree.noDataText|The text displayed in the popup when there are no items␟1689309191709bbbb071c889072707cb3f12dc93␟5589893825114548617:NO DATA FOUND`,n=$localize`:kendo.multiselecttree.clearTitle|The title of the clear button␟f99cf5ed2ae05c7d1df8dc97f56176a4934c8db9␟7268188619735862842:clear`,e=$localize`:kendo.multiselecttree.checkAllText|The text displayed for the check-all checkbox␟7213da1304801b92c6dd35231b5305408e2734e3␟4511060501589211517:Check all`,[["kendoMultiSelectTreeLocalizedMessages","","noDataText",t,"clearTitle",n,"checkAllText",e],["role","listbox","aria-haspopup","tree",3,"ngClass","kendoEventsOutsideAngular","scope","click","keydown"],["wrapper",""],[3,"id","tags","focused","textField","valueField","valueDepth","disabled","tagPrefix","template","groupTemplate","disabledIndices","removeTag"],["class","k-input k-readonly",4,"ngIf"],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],["container",""],[1,"k-input","k-readonly"],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click"],[1,"k-icon","k-i-loading"],["class","k-list-filter",4,"ngIf"],[4,"ngIf"],["class","k-check-all",4,"ngIf"],["kendoMultiSelectTreeCheckable","",3,"nodes","animate","checkable","checkedItems","valueField","textField","children","hasChildren","isExpanded","isDisabled","nodeTemplate","loadOnDemand","filter","isVisible","kendoEventsOutsideAngular","scope","keydown","nodeClick","expand","collapse","checkedItemsChange"],["treeview",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter"],["role","textbox","aria-haspopup","true","aria-expanded","false","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-textbox",3,"filterInput","ngModel","kendoEventsOutsideAngular","scope","input","keydown","ngModelChange"],["filterInput",""],[1,"k-icon","k-i-zoom"],[3,"templateContext"],[1,"k-check-all"],["type","checkbox","role","checkbox","tabindex","0","aria-disabled","false","aria-readonly","false",1,"k-checkbox",3,"checkAll","treeview","checkedItems","valueField","lastAction","kendoEventsOutsideAngular","scope","checkedItemsChange","keydown"],["checkAllInput",""],[1,"k-checkbox-label",3,"click","mousedown"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"div",1,2),i.NdJ("click",function(){return e.handleClick()})("keydown",function(s){return e.handleKeydown(s)}),i.TgZ(3,"kendo-taglist",3),i.NdJ("removeTag",function(s){return e.handleRemoveTag(s)}),i.qZA(),i.YNc(4,rL,2,1,"span",4),i.YNc(5,aL,1,1,"span",5),i.YNc(6,lL,1,0,"span",6),i.qZA(),i.YNc(7,yL,7,25,"ng-template",null,7,i.W1O),i.GkF(9,null,8)),2&n&&(i.xp6(1),i.Q6J("ngClass",i.VKq(23,bL,e.disabled))("kendoEventsOutsideAngular",i.WLB(25,zp,e.handleFocus,e.handleBlur))("scope",e),i.uIk("aria-describedby",e.tagListId)("aria-readonly",e.readonly)("aria-activedescendant",e.focusedTagId)("tabindex",e.tabindex)("id",e.focusableId)("dir",e.direction),i.xp6(2),i.Q6J("id",e.tagListId)("tags",e.tags)("focused",e.focusedTagIndex)("textField",e.textField)("valueField",e.valueField)("valueDepth",e.valueDepth)("disabled",e.disabled)("tagPrefix",e.tagPrefix)("template",e.tagTemplate)("groupTemplate",e.groupTagTemplate)("disabledIndices",e.disabledIndices),i.xp6(1),i.Q6J("ngIf",!e.tags||!e.tags.length),i.xp6(1),i.Q6J("ngIf",!e.disabled&&!e.loading&&!e.readonly&&e.clearButton&&(null==e.tags?null:e.tags.length)),i.xp6(1),i.Q6J("ngIf",e.loading))},directives:function(){return[fn,x.mk,kt,xv,x.O5,Tt,T1,X.Fj,oh,X.JJ,X.On,To,D1]},encapsulation:2}),b([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-dropdowntree"),_("design:type",Boolean)],pe.prototype,"hostClasses",void 0),b([(0,i.pfw)("attr.dir"),_("design:type",String)],pe.prototype,"direction",void 0),b([(0,i.aQ5)(ci,{static:!1}),_("design:type",ci)],pe.prototype,"headerTemplate",void 0),b([(0,i.aQ5)(di,{static:!1}),_("design:type",di)],pe.prototype,"footerTemplate",void 0),b([(0,i.aQ5)(jr,{static:!1}),_("design:type",jr)],pe.prototype,"nodeTemplate",void 0),b([(0,i.aQ5)(ui,{static:!1}),_("design:type",ui)],pe.prototype,"noDataTemplate",void 0),b([(0,i.aQ5)(Ys,{static:!1}),_("design:type",Ys)],pe.prototype,"tagTemplate",void 0),b([(0,i.aQ5)($s,{static:!1}),_("design:type",$s)],pe.prototype,"groupTagTemplate",void 0),b([(0,i.i9L)("popupTemplate",{static:!0}),_("design:type",i.Rgc)],pe.prototype,"popupTemplate",void 0),b([(0,i.i9L)("wrapper",{static:!0}),_("design:type",i.SBq)],pe.prototype,"wrapper",void 0),b([(0,i.i9L)("container",{read:i.s_b,static:!0}),_("design:type",i.s_b)],pe.prototype,"container",void 0),b([(0,i.i9L)("treeview",{static:!1}),_("design:type",Tt),_("design:paramtypes",[Tt])],pe.prototype,"treeview",null),b([(0,i.i9L)("filterInput",{static:!1}),_("design:type",i.SBq)],pe.prototype,"filterInput",void 0),b([(0,i.i9L)("checkAllInput",{static:!1}),_("design:type",i.SBq)],pe.prototype,"checkAllInput",void 0),b([(0,i.IIB)(),_("design:type",Number),_("design:paramtypes",[Number])],pe.prototype,"tabindex",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],pe.prototype,"popupSettings",null),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],pe.prototype,"checkableSettings",null),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],pe.prototype,"data",null),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],pe.prototype,"value",null),b([(0,i.IIB)(),_("design:type",Array),_("design:paramtypes",[Array])],pe.prototype,"dataItems",null),b([(0,i.IIB)(),_("design:type",Object)],pe.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",Object)],pe.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Array)],pe.prototype,"valueDepth",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"loading",void 0),b([(0,i.IIB)(),_("design:type",String)],pe.prototype,"placeholder",void 0),b([(0,i.IIB)(),_("design:type",Number)],pe.prototype,"listHeight",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"readonly",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"valuePrimitive",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"loadOnDemand",void 0),b([(0,i.IIB)(),_("design:type",String)],pe.prototype,"focusableId",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"clearButton",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"filterable",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],pe.prototype,"checkAll",void 0),b([(0,i.IIB)(),_("design:type",Function)],pe.prototype,"hasChildren",void 0),b([(0,i.IIB)(),_("design:type",Function)],pe.prototype,"fetchChildren",void 0),b([(0,i.IIB)(),_("design:type",Function)],pe.prototype,"isNodeExpanded",void 0),b([(0,i.IIB)(),_("design:type",Function)],pe.prototype,"isNodeVisible",void 0),b([(0,i.IIB)(),_("design:type",Function)],pe.prototype,"itemDisabled",void 0),b([(0,i.IIB)(),_("design:type",Object)],pe.prototype,"tagMapper",void 0),b([(0,i.r_U)("focus"),_("design:type",i.vpe)],pe.prototype,"onFocus",void 0),b([(0,i.r_U)("blur"),_("design:type",i.vpe)],pe.prototype,"onBlur",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"open",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"opened",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"close",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"closed",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"nodeExpand",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"nodeCollapse",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"valueChange",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"removeTag",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],pe.prototype,"filterChange",void 0),pe=Al=b([bn(7,(0,i.FiY)()),bn(7,(0,i.tBr)($i)),_("design:paramtypes",[$e,i.Qsj,i.SBq,Qt,i.R0b,I,i.sBO,Boolean])],pe);let xv=(()=>{let t=class{constructor(){this.disabledIndices=new Set,this.removeTag=new i.vpe}tagProp(e,o,s){const r=o&&this.getPropField(e,o,s);return ie(e,r)}isTagDisabled(e,o){return this.isGroupTag(e)?e.every((s,r)=>this.disabledIndices.has(r+o)):this.disabledIndices.has(o)}deleteTag(e,o,s){e.preventDefault(),e.stopImmediatePropagation(),!this.disabled&&1===e.which&&this.removeTag.emit({tag:o,index:s})}itemId(e,o){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField,o)}isGroupTag(e){return e instanceof Array}tagAriaHidden(e){return N(this.focused)&&this.focused!==e}getPropField(e,o,s){const r=o.length-1;if("string"==typeof o)return o;if(this.valueDepth){const a=this.valueDepth[s];return r<a?o[r]:o[a]}return o.find(a=>a in e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-taglist"]],inputs:{disabledIndices:"disabledIndices",tags:"tags",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id"},outputs:{removeTag:"removeTag"},decls:2,vars:2,consts:[[1,"k-reset"],["role","option","aria-selected","true","class","k-button",3,"ngClass",4,"ngFor","ngForOf"],["role","option","aria-selected","true",1,"k-button",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["groupTag",""],["singleTag",""],["aria-label","delete",1,"k-select"],[1,"k-icon","k-i-close",3,"mousedown"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(e,o){1&e&&(i.TgZ(0,"ul",0),i.YNc(1,FL,8,11,"li",1),i.qZA()),2&e&&(i.uIk("id",o.id),i.xp6(1),i.Q6J("ngForOf",o.tags))},directives:function(){return[x.sg,qc,x.mk,x.O5,To]},encapsulation:2}),b([(0,i.IIB)(),_("design:type",Array)],t.prototype,"tags",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"textField",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Array)],t.prototype,"valueDepth",void 0),b([(0,i.IIB)(),_("design:type",Number)],t.prototype,"focused",void 0),b([(0,i.IIB)(),_("design:type",Ys)],t.prototype,"template",void 0),b([(0,i.IIB)(),_("design:type",$s)],t.prototype,"groupTemplate",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"disabled",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"tagPrefix",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"id",void 0),b([(0,i.IIB)(),_("design:type",Set)],t.prototype,"disabledIndices",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"removeTag",void 0),t})(),nh=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{noDataText:"noDataText",clearTitle:"clearTitle",checkAllText:"checkAllText"},features:[i.qOj]}),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"noDataText",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"clearTitle",void 0),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"checkAllText",void 0),t})();var Tv;let fn=Tv=class extends nh{constructor(n){super(),this.service=n}};var Dv;fn.\u0275fac=function(n){return new(n||fn)(i.Y36(I))},fn.\u0275dir=i.lG2({type:fn,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoDropDownTreeLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoMultiColumnComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""],["","kendoMultiSelectTreeLocalizedMessages",""]],features:[i._Bn([{provide:nh,useExisting:(0,i.Gpc)(()=>Tv)}]),i.qOj]}),fn=Tv=b([_("design:paramtypes",[I])],fn);let qr=Dv=class extends nh{constructor(n){super(),this.service=n}get override(){return!0}};qr.\u0275fac=function(n){return new(n||qr)(i.Y36(I))},qr.\u0275cmp=i.Xpm({type:qr,selectors:[["kendo-dropdownlist-messages"],["kendo-combobox-messages"],["kendo-multicolumncombobox-messages"],["kendo-autocomplete-messages"],["kendo-multiselect-messages"],["kendo-dropdowntree-messages"],["kendo-multiselecttree-messages"]],features:[i._Bn([{provide:nh,useExisting:(0,i.Gpc)(()=>Dv)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),qr=Dv=b([_("design:paramtypes",[I])],qr);let oh=(()=>{let t=class{constructor(e,o){this.element=e,this.zone=o}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[i.TTD]}),b([(0,i.IIB)("filterInput"),_("design:type",Boolean)],t.prototype,"focused",void 0),t=b([_("design:paramtypes",[i.SBq,i.R0b])],t),t})(),Zr=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),sh=(()=>{let t=class{constructor(e){this.checkboxes={enabled:!1},this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),(!this.checkboxes.enabled||this.checkboxes.checkOnClick)&&(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Pt))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,o){1&e&&i.NdJ("click",function(r){return o.onClick(r)}),2&e&&(i.uIk("index",o.index),i.Udp("height",o.height,"px")("min-height",o.height,"px"),i.ekj("k-state-focused",o.focusedClassName)("k-state-selected",o.selectedClassName))},inputs:{checkboxes:"checkboxes",multipleSelection:"multipleSelection",index:"index",height:"height"}}),b([(0,i.pfw)("attr.index"),(0,i.IIB)(),_("design:type",Number)],t.prototype,"index",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"checkboxes",void 0),b([(0,i.pfw)("style.height.px"),(0,i.pfw)("style.minHeight.px"),(0,i.IIB)(),_("design:type",Number)],t.prototype,"height",void 0),b([(0,i.IIB)(),_("design:type",Boolean)],t.prototype,"multipleSelection",void 0),b([(0,i.pfw)("class.k-state-focused"),_("design:type",Boolean),_("design:paramtypes",[])],t.prototype,"focusedClassName",null),b([(0,i.pfw)("class.k-state-selected"),_("design:type",Boolean),_("design:paramtypes",[])],t.prototype,"selectedClassName",null),b([(0,i.L6J)("click",["$event"]),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],t.prototype,"onClick",null),t=b([_("design:paramtypes",[Pt])],t),t})(),To=(()=>{let t=class{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b))},t.\u0275dir=i.lG2({type:t,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),b([(0,i.IIB)(),_("design:type",Object),_("design:paramtypes",[Object])],t.prototype,"templateContext",null),t=b([_("design:paramtypes",[i.s_b])],t),t})(),x1=(()=>{class t{addItem(e){if(this.isItemChecked(e))return;const o=Cv(e.index),s=Object.assign({},e,{level:o});this.checkedItems.push(s),this.checkedKeys.add(Hs(s,this.valueField))}removeItem(e){if(!this.isItemChecked(e))return;const o=Cv(e.index),s=Object.assign({},e,{level:o});this.checkedItems=this.checkedItems.filter(r=>Hs(r,this.valueField)!==Hs(s,this.valueField)),this.checkedKeys.delete(Hs(s,this.valueField))}isItemChecked(e){return this.checkedKeys.has(Hs(e,this.valueField))}updateItems(){this.checkedItems=this.checkedItems||[],this.checkedKeys=new Set(this.checkedItems.map(e=>Hs(e,this.valueField)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,inputs:{checkedItems:"checkedItems",valueField:"valueField"}}),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Array)],t.prototype,"checkedItems",void 0),t})(),T1=(()=>{let t=class extends x1{constructor(e){super(),this.treeView=e,this.checkedItemsChange=new i.vpe,this.checkedKeys=new Set,this.subscriptions=new Ie.w,this.subscriptions.add(this.treeView.checkedChange.subscribe(this.handleCheckedChange.bind(this))),this.treeView.isChecked=this.getCheckedState.bind(this)}ngOnChanges(e){N(e.checkable)&&this.toggleCheckOnClick(),N(e.checkedItems)&&this.updateItems()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.unsubscribeClick()}getCheckedState(e,o){return this.isItemChecked({dataItem:e,index:o})?"checked":this.checkable.checkChildren&&this.isItemIndeterminate(this.treeView.itemLookup(o))?"indeterminate":"none"}handleCheckedChange(e){this.checkNode(e),this.checkable.checkChildren&&this.checkParents(e.parent),this.checkedItemsChange.emit(this.checkedItems.slice())}toggleCheckOnClick(){this.unsubscribeClick(),this.checkable.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.pipe((0,ee.h)(e=>"click"===e.type)).subscribe(e=>{const o=this.treeView.itemLookup(e.item.index);this.handleCheckedChange(o)}))}unsubscribeClick(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)}checkNode(e){if(this.treeView.isDisabled(e.item.dataItem,e.item.index))return;const o=e.item,s=[o];this.checkable.checkChildren&&wv(e,l=>this.treeView.isVisible(l.dataItem,l.index)&&!this.treeView.isDisabled(l.dataItem,l.index)).forEach(l=>s.push(l.item));const r=!this.isItemChecked(o);s.forEach(a=>{r?this.addItem(a):this.removeItem(a)})}checkParents(e){let o=e;for(;o;)o.children.every(r=>this.isItemChecked(r))?this.addItem(o.item):this.removeItem(o.item),o=o.parent}isItemIndeterminate(e){const o=e.children;if(!Array.isArray(o)||0===o.length)return!1;let s=0,r=o[s];for(;N(r);){if(this.isItemChecked(r.item)||this.isItemIndeterminate(r))return!0;s+=1,r=o[s]}return!1}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Tt))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoMultiSelectTreeCheckable",""]],inputs:{checkable:"checkable",valueField:"valueField",checkedItems:"checkedItems"},outputs:{checkedItemsChange:"checkedItemsChange"},features:[i.qOj,i.TTD]}),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"checkable",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"valueField",void 0),b([(0,i.IIB)(),_("design:type",Array)],t.prototype,"checkedItems",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"checkedItemsChange",void 0),t=b([_("design:paramtypes",[Tt])],t),t})(),D1=(()=>{let t=class extends x1{constructor(e,o,s,r){super(),this.element=e,this.zone=o,this.cdr=s,this.renderer=r,this.checkedItemsChange=new i.vpe,this.checkedKeys=new Set}handleChange(e){this.currentCheckedState=e.checked,this.currentIndeterminateState=this.isIndeterminate,this.treeview.nodes.map((o,s)=>{const r=String(s),a=this.treeview.itemLookup(r);this.checkNode(a)}),this.checkedItemsChange.emit(this.checkedItems.slice())}get isIndeterminate(){const e=this.treeview.nodes.some((o,s)=>{const r=String(s),a=this.treeview.itemLookup(r);return this.someChecked(a)});return!this.isChecked&&e}get isChecked(){return this.treeview.nodes.every((o,s)=>{const r=String(s),a=this.treeview.itemLookup(r);return this.allChecked(a)})}ngOnChanges(e){N(e.checkedItems)&&(this.updateItems(),this.renderer.setProperty(this.element.nativeElement,"checked",this.isChecked),this.renderer.setProperty(this.element.nativeElement,"indeterminate",this.isIndeterminate))}ngOnInit(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}checkNode(e){if(this.treeview.isDisabled(e.item.dataItem,e.item.index))return;const o=[];o.push(e.item),wv(e,r=>this.treeview.isVisible(r.dataItem,r.index)&&!this.treeview.isDisabled(r.dataItem,r.index)).forEach(r=>o.push(r.item)),o.forEach(r=>{this.currentIndeterminateState?"check"===this.lastAction?this.addItem(r):this.removeItem(r):this.currentCheckedState?this.addItem(r):this.removeItem(r)})}allChecked(e){const o=e&&e.children;return Array.isArray(o)?o.every(r=>r.children.length?this.isItemChecked(r.item)&&this.allChecked(r):this.isItemChecked(r.item))&&this.isItemChecked(e.item):void 0}someChecked(e){const o=e&&e.children;return Array.isArray(o)?o.some(r=>r.children.length?this.isItemChecked(r.item)||this.someChecked(r):this.isItemChecked(r.item))||this.isItemChecked(e.item):void 0}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","checkAll",""]],hostBindings:function(e,o){1&e&&i.NdJ("change",function(r){return o.handleChange(r.target)})},inputs:{lastAction:"lastAction",treeview:"treeview",checkedItems:"checkedItems",valueField:"valueField",focused:["checkAll","focused"]},outputs:{checkedItemsChange:"checkedItemsChange"},features:[i.qOj,i.TTD]}),b([(0,i.IIB)(),_("design:type",String)],t.prototype,"lastAction",void 0),b([(0,i.IIB)(),_("design:type",Tt)],t.prototype,"treeview",void 0),b([(0,i.IIB)(),_("design:type",Array)],t.prototype,"checkedItems",void 0),b([(0,i.IIB)(),_("design:type",Object)],t.prototype,"valueField",void 0),b([(0,i.IIB)("checkAll"),_("design:type",Boolean)],t.prototype,"focused",void 0),b([(0,i.r_U)(),_("design:type",i.vpe)],t.prototype,"checkedItemsChange",void 0),b([(0,i.L6J)("change",["$event.target"]),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],t.prototype,"handleChange",null),t=b([_("design:paramtypes",[i.SBq,i.R0b,i.sBO,i.Qsj])],t),t})(),Qc=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,X.u5,yn,_o,Zr,Kt],x.ez,X.u5,yn,_o,Zr,Kt]}),t})(),d8=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Qc,VA],Zr]}),t})(),Mv=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Qc],Zr]}),t})();const p8=Fc;let h8=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:$i,useValue:p8}],imports:[[Qc],Zr]}),t})(),Ev=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Qc],Zr]}),t})();const f8=Fc;let g8=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:$i,useValue:f8}],imports:[[Qc],Zr]}),t})(),m8=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Mv,h8,Ev,g8,d8]}),t})();function v(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function Vn(t,n){return function(e,o){n(e,o,t)}}function g(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}const q=t=>t?new Date(t.getTime()):null,Xc=(t,n)=>{const e=q(t);return 0===n&&23===e.getHours()&&e.setHours(e.getHours()+2),e},wn=(t,n)=>{const e=q(t);return e.setDate(e.getDate()+n),Xc(e,t.getHours())},gn=(t,n,e,o=0,s=0,r=0,a=0)=>{const l=new Date(t,n,e,o,s,r,a);return t>-1&&t<100&&l.setFullYear(l.getFullYear()-1900),Xc(l,o)},Ct=t=>gn(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),gt=(t,n)=>!t&&!n||t&&n&&t.getTime()===n.getTime(),oo=t=>{const n=gn(t.getFullYear(),t.getMonth()+1,1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return wn(n,-1)},pi=(t,n)=>{const e=q(t),s=(12+(e.getMonth()+n)%12)%12;return e.setMonth(e.getMonth()+n),((t,n)=>t.getMonth()!==n?oo(pi(t,-1)):t)(Xc(e,t.getHours()),s)},B1=(t,n)=>{const e=t.getMonth(),o=gn(n,e,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return o.getMonth()===e?o:oo(pi(o,-1))},mn=(t,n)=>Xc(B1(t,t.getFullYear()+n),t.getHours()),Hn=(t,n)=>mn(t,10*n),Wc=(t,n)=>mn(t,100*n),ah=(t,n)=>B1(t,n(t.getFullYear())),Ur=t=>ah(t,n=>n-n%100),lh=t=>ah(t,n=>n-n%100+90),nn=t=>ah(t,n=>n-n%10),Kc=t=>ah(t,n=>n-n%10+9),F1=(t,n)=>{const e=t.getDate(),o=gn(t.getFullYear(),n,e,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return o.getDate()===e?o:oo(pi(o,-1))},ed=t=>F1(t,11),O1=(t,n)=>(Ur(n).getFullYear()-Ur(t).getFullYear())/100,R1=(t,n)=>(nn(n).getFullYear()-nn(t).getFullYear())/10,A1=(t,n)=>wn(t,7*n),N1=t=>gn(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());var td=(()=>(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"}(td||(td={})),td))();const L1=(t,n,e=td.Forward)=>{const o=q(t),s=(n-o.getDay()+7*e)%7;return o.setDate(o.getDate()+s),Xc(o,t.getHours())},P1=(t,n)=>12*(n.getFullYear()-t.getFullYear())+(n.getMonth()-t.getMonth()),z1=t=>F1(t,0),G1=(t,n)=>n.getFullYear()-t.getFullYear();var id=(()=>(function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(id||(id={})),id))();const Ov=(t,n)=>{const e=gn(t.getFullYear(),0,1,-6),s=((t,n)=>n!==id.Monday?wn(((t,n)=>L1(t,n,td.Backward))(t,n),4):wn(t,4-(t.getDay()||7)))(t,n).getTime()-e.getTime(),r=Math.floor(s/864e5);return 1+Math.floor(r/7)},V1=(t,n=id.Monday)=>{t=Ct(t);const e=wn(t,-7),o=wn(t,7),s=Ov(t,n);return 0===s?Ov(e,n)+1:53===s&&Ov(o,n)>1?1:s};var w8=ke(8229),S8=ke(9112),I8=ke(6465),x8=ke(6102);const D8=new class extends x8.v{flush(n){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let o,s=-1,r=e.length;n=n||e.shift();do{if(o=n.execute(n.state,n.delay))break}while(++s<r&&(n=e.shift()));if(this.active=!1,o){for(;++s<r&&(n=e.shift());)n.unsubscribe();throw o}}}(class extends I8.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,o=0){return null!==o&&o>0?super.requestAsyncId(n,e,o):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(()=>n.flush(null))))}recycleAsyncId(n,e,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(n,e,o);0===n.actions.length&&(cancelAnimationFrame(e),n.scheduled=void 0)}});var M8=ke(2145);class B8{constructor(n,e){this.predicate=n,this.inclusive=e}call(n,e){return e.subscribe(new F8(n,this.predicate,this.inclusive))}}class F8 extends zn.L{constructor(n,e,o){super(n),this.predicate=e,this.inclusive=o,this.index=0}_next(n){const e=this.destination;let o;try{o=this.predicate(n,this.index++)}catch(s){return void e.error(s)}this.nextOrComplete(n,o)}nextOrComplete(n,e){const o=this.destination;Boolean(e)?o.next(n):(this.inclusive&&o.next(n),o.complete())}}const H1=["*"],Y1=["list"];function O8(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw().$implicit,o=i.oxw();i.Oqu(o.service.navigationTitle(e))}}function R8(t,n){}const $1=function(t,n,e){return{$implicit:t,activeView:n,date:e}};function A8(t,n){if(1&t&&(i.TgZ(0,"li"),i.TgZ(1,"span"),i.YNc(2,O8,1,1,"ng-template",5),i.YNc(3,R8,0,0,"ng-template",6),i.qZA(),i.qZA()),2&t){const e=n.$implicit,o=n.index,s=i.oxw();i.uIk("data-date-index",o),i.xp6(1),i.ekj("k-calendar-navigation-marker",s.service.isRangeStart(e)),i.xp6(1),i.Q6J("ngIf",!s.templateRef),i.xp6(1),i.Q6J("ngIf",s.templateRef)("ngTemplateOutlet",s.templateRef)("ngTemplateOutletContext",i.kEZ(7,$1,s.service.navigationTitle(e),s.activeViewValue,e))}}const Js=function(t){return{click:t}};function N8(t,n){if(1&t&&(i.TgZ(0,"th",11),i._uU(1),i.qZA()),2&t){const e=n.$implicit,o=i.oxw(2);i.Udp("width",o.colWidth,"%"),i.xp6(1),i.Oqu(e)}}function L8(t,n){if(1&t&&(i.TgZ(0,"table",7),i.TgZ(1,"thead",8),i.TgZ(2,"tr",9),i.YNc(3,N8,2,3,"th",10),i.qZA(),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.xp6(3),i.Q6J("ngForOf",e.weekNames)}}function P8(t,n){1&t&&i._UZ(0,"col")}function z8(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"tbody",12),i.NdJ("cellClick",function(s){return i.CHM(e),i.oxw().cellClick.emit(s)})("weekNumberCellClick",function(s){return i.CHM(e),i.oxw().weekNumberCellClick.emit(s)}),i.qZA()}if(2&t){const e=n.$implicit,o=i.oxw();i.Q6J("activeView",o.activeView)("isActive",o.isActive)("min",o.min)("max",o.max)("cellUID",o.cellUID)("focusedDate",o.focusedDate)("selectedDates",o.selectedDates)("weekNumber",o.weekNumber)("templateRef",o.cellTemplateRef)("weekNumberTemplateRef",o.weekNumberTemplateRef)("viewDate",e)}}function G8(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-calendar-navigation",5),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw(2).handleNavigation(s)})("pageChange",function(){return i.CHM(e),i.oxw(2).onPageChange()}),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplate?null:e.navigationItemTemplate.templateRef)}}function V8(t,n){if(1&t){const e=i.EpF();i.ynx(0),i.YNc(1,G8,1,5,"kendo-calendar-navigation",2),i.TgZ(2,"kendo-calendar-viewlist",3),i.NdJ("todayButtonClick",function(s){return i.CHM(e),i.oxw().handleDateChange({selectedDates:[s],focusedDate:s})})("cellClick",function(s){return i.CHM(e),i.oxw().handleCellClick(s)})("weekNumberCellClick",function(s){return i.CHM(e),i.oxw().handleWeekNumberClick(s)})("activeDateChange",function(s){return i.CHM(e),i.oxw().handleActiveDateChange(s)})("pageChange",function(){return i.CHM(e),i.oxw().onPageChange()}),i.qZA(),i.TgZ(3,"kendo-resize-sensor",4),i.NdJ("resize",function(){return i.CHM(e),i.oxw().onResize()}),i.qZA(),i.BQk()}if(2&t){const e=i.oxw();let o;i.xp6(1),i.Q6J("ngIf",e.navigation),i.xp6(1),i.Q6J("activeView",e.activeViewEnum)("isActive",e.isActive)("cellTemplateRef",null==(o=e.activeCellTemplate())?null:o.templateRef)("headerTitleTemplateRef",null==e.headerTitleTemplate?null:e.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==e.weekNumberTemplate?null:e.weekNumberTemplate.templateRef)("cellUID",e.cellUID)("min",e.min)("max",e.max)("focusedDate",e.focusedDate)("weekNumber",e.weekNumber)("selectedDates",e.selectedDates)}}function H8(t,n){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"kendo-multiviewcalendar",6,7),i.NdJ("activeViewChange",function(s){return i.CHM(e),i.oxw().handleActiveViewChange(s)})("navigate",function(s){return i.CHM(e),i.oxw().navigate.emit(s)})("valueChange",function(s){i.CHM(e);const r=i.MAs(2);return i.oxw().handleMultiViewCalendarValueChange(s,r.focusedDate)}),i._UZ(3,"kendo-multiviewcalendar-messages",8),i.qZA(),i.BQk()}if(2&t){const e=i.oxw();i.xp6(1),i.Q6J("views",1)("min",e.min)("max",e.max)("isActive",e.isActive)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("animateNavigation",e.animateNavigation)("cellTemplate",e.activeCellTemplate())("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("headerTitleTemplate",e.headerTitleTemplate)("weekNumberTemplate",e.weekNumberTemplate)("focusedDate",e.focusedDate)("selection",e.selection)("value",e.value)("disabledDates",e.disabledDates),i.xp6(2),i.Q6J("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))}}const Y8=["dateInput"],$8=["wrap"];function J8(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",6),i.NdJ("mousedown",function(s){return s.preventDefault()}),i.TgZ(1,"span",7),i.NdJ("mousedown",function(){i.CHM(e);const s=i.oxw();return s.arrowDirection=s.arrow.Up})("mouseleave",function(){i.CHM(e);const s=i.oxw();return s.arrowDirection=s.arrow.None})("click",function(){return i.CHM(e),i.oxw().handleButtonClick(1)}),i._UZ(2,"span",8),i.qZA(),i.TgZ(3,"span",9),i.NdJ("click",function(){return i.CHM(e),i.oxw().handleButtonClick(-1)})("mousedown",function(){i.CHM(e);const s=i.oxw();return s.arrowDirection=s.arrow.Down})("mouseleave",function(){i.CHM(e);const s=i.oxw();return s.arrowDirection=s.arrow.None}),i._UZ(4,"span",10),i.qZA(),i.qZA()}if(2&t){const e=i.oxw();i.xp6(1),i.ekj("k-state-active",e.arrowDirection===e.arrow.Up),i.Q6J("title",e.localization.get("increment")),i.uIk("aria-label",e.localization.get("increment")),i.xp6(2),i.ekj("k-state-active",e.arrowDirection===e.arrow.Down),i.Q6J("title",e.localization.get("decrement")),i.uIk("aria-label",e.localization.get("decrement"))}}const j8=function(t,n,e,o,s,r,a){return{click:t,focus:n,mousedown:e,touchstart:o,dragstart:s,drop:r,blur:a}},ch=["container"],Rv=["popupTemplate"],Av=["wrapper"];function q8(t,n){}const J1=function(t){return{keydown:t}};function Z8(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-calendar",9,10),i.NdJ("valueChange",function(s){i.CHM(e);const r=i.oxw();return r.handleChange(r.mergeTime(s))}),i._UZ(2,"kendo-calendar-messages",11),i.qZA(),i.YNc(3,q8,0,0,"ng-template")}if(2&t){const e=i.oxw();i.Q6J("type",e.calendarType)("min",e.min)("max",e.max)("navigation",e.navigation)("animateNavigation",e.animateCalendarNavigation)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",i.VKq(25,J1,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),i.xp6(2),i.Q6J("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))}}const j1=function(t,n){return{click:t,mousedown:n}},U8=function(t,n){return{keydown:t,mousedown:n}};function Q8(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-timeselector",9,10),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().handleChange(s)})("valueReject",function(){return i.CHM(e),i.oxw().handleReject()}),i._UZ(2,"kendo-timeselector-messages",11),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("cancelButton",e.cancelButton)("nowButton",e.nowButton)("format",e.format)("min",e.min)("max",e.max)("steps",e.steps)("value",e.value)("kendoEventsOutsideAngular",i.WLB(15,U8,e.handleKeydown,e.handleMousedown))("scope",e),i.xp6(2),i.Q6J("acceptLabel",e.localization.get("acceptLabel"))("accept",e.localization.get("accept"))("cancelLabel",e.localization.get("cancelLabel"))("cancel",e.localization.get("cancel"))("nowLabel",e.localization.get("nowLabel"))("now",e.localization.get("now"))}}function X8(t,n){if(1&t&&(i.TgZ(0,"button",25),i._uU(1),i.qZA()),2&t){const e=i.oxw(2);i.Q6J("kendoEventsOutsideAngular",i.VKq(5,Js,e.handleCancel))("scope",e),i.uIk("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),i.xp6(1),i.hij(" ",e.localization.get("cancel")," ")}}const W8=function(t,n){return{mousedown:t,keydown:n}},K8=function(t,n){return{focusin:t,focusout:n}},eP=function(t,n){return{click:t,keydown:n}},tP=function(t){return{transitionend:t}},iP=function(t,n,e){return{keydown:t,focusin:n,focusout:e}};function nP(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"div",10),i.TgZ(2,"div",11),i.TgZ(3,"button",12),i._uU(4),i.qZA(),i.TgZ(5,"button",13),i._uU(6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"div",14,15),i.TgZ(9,"div",16),i.TgZ(10,"kendo-calendar",17),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().calendarValue=s})("valueChange",function(){return i.CHM(e),i.oxw().handleCalendarValueChange()}),i._UZ(11,"kendo-calendar-messages",18),i.qZA(),i.qZA(),i.TgZ(12,"div",19),i.TgZ(13,"kendo-timeselector",20),i._UZ(14,"kendo-timeselector-messages",21),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div",22),i.YNc(16,X8,2,7,"button",23),i.TgZ(17,"button",24),i._uU(18),i.qZA(),i.qZA(),i.qZA()}if(2&t){const e=i.MAs(8),o=i.oxw();i.Gre("k-datetime-wrap k-",o.activeTab,"-tab"),i.Q6J("kendoEventsOutsideAngular",i.WLB(62,W8,o.preventMouseDown,o.handleKeyDown))("scope",o),i.xp6(1),i.Q6J("kendoEventsOutsideAngular",i.WLB(65,K8,o.handleFocus,o.handleBlur))("scope",o),i.xp6(2),i.ekj("k-state-active","date"===o.activeTab),i.Q6J("kendoEventsOutsideAngular",i.WLB(68,eP,o.changeActiveTab.bind(o,"date"),o.handleBackTabOut))("scope",o),i.uIk("title",o.localization.get("dateTabLabel"))("aria-label",o.localization.get("dateTabLabel")),i.xp6(1),i.hij(" ",o.localization.get("dateTab")," "),i.xp6(1),i.ekj("k-state-active","time"===o.activeTab),i.Q6J("kendoEventsOutsideAngular",i.VKq(71,Js,o.changeActiveTab.bind(o,"time"))),i.uIk("title",o.localization.get("timeTabLabel"))("aria-label",o.localization.get("timeTabLabel")),i.xp6(1),i.hij(" ",o.localization.get("timeTab")," "),i.xp6(1),i.Udp("transition",o.tabSwitchTransition),i.Q6J("kendoEventsOutsideAngular",i.VKq(73,tP,o.handleTabChangeTransitionEnd.bind(o,e))),i.xp6(3),i.Q6J("value",o.calendarValue)("type",o.calendarType)("min",o.calendarMin)("max",o.calendarMax)("focusedDate",o.focusedDate)("weekNumber",o.weekNumber)("navigation",!1)("animateNavigation",o.animateCalendarNavigation)("cellTemplate",o.cellTemplate)("monthCellTemplate",o.monthCellTemplate)("yearCellTemplate",o.yearCellTemplate)("decadeCellTemplate",o.decadeCellTemplate)("centuryCellTemplate",o.centuryCellTemplate)("weekNumberTemplate",o.weekNumberTemplate)("headerTitleTemplate",o.headerTitleTemplate)("disabled",o.disableCalendar)("disabledDates",o.disabledDates),i.xp6(1),i.Q6J("today",o.localization.get("today"))("prevButtonTitle",o.localization.get("prevButtonTitle"))("nextButtonTitle",o.localization.get("nextButtonTitle")),i.xp6(2),i.Q6J("value",o.value)("format",o.timeSelectorFormat)("min",o.timeSelectorMin)("max",o.timeSelectorMax)("setButton",!1)("cancelButton",!1)("steps",o.steps)("disabled",o.disableTimeSelector),i.xp6(1),i.Q6J("now",o.localization.get("now"))("nowLabel",o.localization.get("nowLabel")),i.xp6(1),i.Q6J("kendoEventsOutsideAngular",i.kEZ(75,iP,o.handleTabOut,o.handleFocus,o.handleBlur))("scope",o),i.xp6(1),i.Q6J("ngIf",o.cancelButton),i.xp6(1),i.Q6J("disabled",!o.calendarValue)("kendoEventsOutsideAngular",i.VKq(79,Js,o.handleAccept))("scope",o),i.uIk("title",o.localization.get("acceptLabel"))("aria-label",o.localization.get("acceptLabel")),i.xp6(1),i.hij(" ",o.localization.get("accept")," ")}}const oP=function(t,n){return{mousedown:t,click:n}};function sP(t,n){if(1&t&&(i.TgZ(0,"caption",7),i._uU(1),i.qZA()),2&t){const e=i.oxw().date,o=i.oxw();i.Q6J("ngClass",o.getCaptionClass()),i.xp6(1),i.Oqu(o.getCaptionTitle(e))}}function rP(t,n){if(1&t&&(i.TgZ(0,"th",11),i._uU(1),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(e)}}function aP(t,n){if(1&t&&(i.TgZ(0,"thead",8),i.TgZ(1,"tr",9),i.YNc(2,rP,2,1,"th",10),i.qZA(),i.qZA()),2&t){const e=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",e.weekNames)}}function lP(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"table",3),i.YNc(1,sP,2,2,"caption",4),i.YNc(2,aP,3,1,"thead",5),i.TgZ(3,"tbody",6),i.NdJ("cellClick",function(s){return i.CHM(e),i.oxw().cellClick.emit(s)})("weekNumberCellClick",function(s){return i.CHM(e),i.oxw().weekNumberCellClick.emit(s)})("cellEnter",function(s){return i.CHM(e),i.oxw().cellEnter.emit(s)})("cellLeave",function(s){return i.CHM(e),i.oxw().cellLeave.emit(s)}),i.qZA(),i.qZA()}if(2&t){const e=n.date,o=n.className,s=i.oxw();i.Q6J("ngClass",o),i.xp6(1),i.Q6J("ngIf",s.showViewHeader),i.xp6(1),i.Q6J("ngIf",s.isMonthView()),i.xp6(1),i.Q6J("activeView",s.activeView)("isActive",s.isActive)("min",s.min)("max",s.max)("cellUID",s.cellUID)("focusedDate",s.focusedDate)("selectedDates",s.selectedDates)("selectionRange",s.selectionRange)("activeRangeEnd",s.activeRangeEnd)("weekNumber",s.weekNumber)("templateRef",s.cellTemplateRef)("weekNumberTemplateRef",s.weekNumberTemplateRef)("viewDate",e)}}function cP(t,n){}const q1=function(t){return{date:t,className:"k-pointer-events-none"}};function dP(t,n){if(1&t&&i.YNc(0,cP,0,0,"ng-template",12),2&t){const e=i.oxw(),o=i.MAs(1);i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(2,q1,e.nextAnimationDate))}}function uP(t,n){}const pP=function(t){return{date:t}};function hP(t,n){if(1&t&&i.YNc(0,uP,0,0,"ng-template",12),2&t){const e=n.$implicit;i.oxw();const o=i.MAs(1);i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(2,pP,e))}}function fP(t,n){}function gP(t,n){if(1&t&&i.YNc(0,fP,0,0,"ng-template",12),2&t){const e=i.oxw(),o=i.MAs(1);i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(2,q1,e.prevAnimationDate))}}function yP(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw();i.Oqu(e.title)}}function bP(t,n){}function CP(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){return i.CHM(e),i.oxw().prevButtonClick.emit()}),i._UZ(1,"span",9),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("disabled",e.isPrevDisabled)("title",e.prevButtonTitle),i.uIk("aria-disabled",e.isPrevDisabled)}}function wP(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(){return i.CHM(e),i.oxw().nextButtonClick.emit()}),i._UZ(1,"span",11),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("disabled",e.isNextDisabled)("title",e.nextButtonTitle),i.uIk("aria-disabled",e.isNextDisabled)}}const SP=["kendoCalendarView",""];function IP(t,n){1&t&&(i.TgZ(0,"td",3),i._uU(1,"\xa0"),i.qZA())}function kP(t,n){if(1&t&&(i.TgZ(0,"tr",4),i.TgZ(1,"th",5),i._uU(2),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("colSpan",e.colSpan),i.xp6(1),i.Oqu(e.title)}}function xP(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw(3).$implicit,o=i.oxw();i.hij(" ",o.getWeekNumber(o.firstDate(e))," ")}}function TP(t,n){}const Z1=function(t,n){return{$implicit:t,cellContext:n}};function DP(t,n){if(1&t&&(i.TgZ(0,"td",9),i.YNc(1,xP,1,1,"ng-template",6),i.YNc(2,TP,0,0,"ng-template",10),i.qZA()),2&t){const e=i.oxw(2).$implicit,o=i.oxw();i.Q6J("kendoEventsOutsideAngular",i.VKq(5,Js,o.handleWeekNumberClick.bind(o,e))),i.xp6(1),i.Q6J("ngIf",!o.weekNumberTemplateRef),i.xp6(1),i.Q6J("ngIf",o.weekNumberTemplateRef)("ngTemplateOutlet",o.weekNumberTemplateRef)("ngTemplateOutletContext",i.WLB(7,Z1,o.firstDate(e),o.getWeekNumberContext(e)))}}function MP(t,n){if(1&t&&i.YNc(0,DP,3,10,"td",8),2&t){const e=i.oxw().$implicit,o=i.oxw(),s=i.MAs(1);i.Q6J("ngIf",o.firstDate(e))("ngIfElse",s)}}function EP(t,n){if(1&t&&i._uU(0),2&t){const e=i.oxw(2).$implicit;i.Oqu(e.formattedValue)}}function BP(t,n){}function FP(t,n){if(1&t&&i.YNc(0,BP,0,0,"ng-template",15),2&t){const e=i.oxw(2).$implicit,o=i.oxw(2);i.Q6J("ngTemplateOutlet",o.templateRef)("ngTemplateOutletContext",i.WLB(2,Z1,e.value,e))}}function OP(t,n){if(1&t&&(i.TgZ(0,"td",12),i.TgZ(1,"span",13),i.YNc(2,EP,1,1,"ng-template",6),i.YNc(3,FP,1,5,void 0,14),i.qZA(),i.qZA()),2&t){const e=i.oxw(),o=e.$implicit,s=e.index,r=i.oxw().index,a=i.oxw();i.Q6J("ngClass",a.getStyles(o))("title",o.title),i.uIk("id",o.id)("data-cell-index",a.tableCellIndex(r,s))("aria-selected",o.isSelected||o.isRangeStart||o.isRangeMid||o.isRangeEnd)("aria-disabled",o.isDisabled),i.xp6(2),i.Q6J("ngIf",!a.templateRef),i.xp6(1),i.Q6J("ngIf",a.templateRef)}}function RP(t,n){if(1&t&&(i.ynx(0),i.YNc(1,OP,4,8,"td",11),i.BQk()),2&t){const e=n.$implicit,o=i.oxw(2),s=i.MAs(1);i.xp6(1),i.Q6J("ngIf",o.shouldRenderCellContent(e))("ngIfElse",s)}}function AP(t,n){if(1&t&&(i.TgZ(0,"tr",4),i.YNc(1,MP,1,2,"ng-template",6),i.YNc(2,RP,2,2,"ng-container",7),i.qZA()),2&t){const e=n.$implicit,o=i.oxw();i.xp6(1),i.Q6J("ngIf",o.weekNumber),i.xp6(1),i.Q6J("kForOf",e)}}function NP(t,n){if(1&t&&(i.TgZ(0,"li",3),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.qZA()),2&t){const e=n.$implicit;i.uIk("data-timelist-item-index",n.index),i.xp6(2),i.Oqu(e.text)}}const LP=["accept"],PP=["cancel"],zP=["now"],GP=["listWrapper"],Nv=function(t,n,e){return{click:t,focus:n,blur:e}};function VP(t,n){if(1&t&&(i.TgZ(0,"button",8,9),i._uU(2),i.qZA()),2&t){const e=i.oxw();i.Q6J("kendoEventsOutsideAngular",i.kEZ(6,Nv,e.handleNow,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),i.uIk("title",e.localization.get("nowLabel"))("aria-label",e.localization.get("nowLabel")),i.xp6(2),i.Oqu(e.localization.get("now"))}}const HP=function(t,n){return{focus:t,blur:n}};function YP(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",12,13),i.TgZ(2,"span",2),i._uU(3),i.qZA(),i.TgZ(4,"kendo-timelist",14),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw(2).current=s}),i.qZA(),i.qZA()}if(2&t){const e=i.oxw(),o=e.$implicit,s=e.index,r=i.oxw();i.xp6(3),i.Oqu(r.intl.dateFieldName(o)),i.xp6(1),i.Q6J("min",r.min)("max",r.max)("part",o)("step",r.partStep(o))("disabled",r.disabled)("value",r.current)("kendoEventsOutsideAngular",i.WLB(10,HP,r.handleListFocus,r.handleBlur))("scope",r),i.uIk("data-timelist-index",s)}}function $P(t,n){if(1&t&&(i.TgZ(0,"div",15),i._uU(1),i.qZA()),2&t){const e=i.oxw().$implicit;i.xp6(1),i.hij(" ",e.pattern," ")}}function JP(t,n){if(1&t&&(i.YNc(0,YP,5,13,"div",10),i.YNc(1,$P,2,1,"div",11)),2&t){const e=n.$implicit;i.Q6J("ngIf","literal"!==e.type),i.xp6(1),i.Q6J("ngIf","literal"===e.type)}}function jP(t,n){if(1&t&&(i.TgZ(0,"button",19,20),i._uU(2),i.qZA()),2&t){const e=i.oxw(2);i.Q6J("kendoEventsOutsideAngular",i.kEZ(6,Nv,e.handleReject,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),i.uIk("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),i.xp6(2),i.Oqu(e.localization.get("cancel"))}}function qP(t,n){if(1&t&&(i.TgZ(0,"button",21,22),i._uU(2),i.qZA()),2&t){const e=i.oxw(2);i.Q6J("kendoEventsOutsideAngular",i.kEZ(6,Nv,e.handleAccept,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),i.uIk("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),i.xp6(2),i.Oqu(e.localization.get("accept"))}}function ZP(t,n){if(1&t&&(i.TgZ(0,"div",16),i.YNc(1,jP,3,10,"button",17),i.YNc(2,qP,3,10,"button",18),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.cancelButton),i.xp6(1),i.Q6J("ngIf",e.setButton)}}const Nl={name:"@progress/kendo-angular-dateinputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1635945725,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};var we=(()=>(function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down",t[t.PrevView=4]="PrevView",t[t.NextView=5]="NextView",t[t.FirstInView=6]="FirstInView",t[t.LastInView=7]="LastInView",t[t.LowerView=8]="LowerView",t[t.UpperView=9]="UpperView"}(we||(we={})),we))();const on={start:null,end:null},Do=new Date(1980,0,1),so=new Date(1900,0,1),ro=new Date(2099,11,31),Ll=new Date(1980,0,1),Qr=new Date(1980,0,1,23,59,59),dh=t=>t&&(!t.touched||t.control&&"blur"===t.control.updateOn),UP=t=>t.preventDefault(),Lv=t=>t.relatedTarget||document.activeElement,ge=t=>null!=t,U1=t=>null!=t,nd=t=>(n,e)=>{const o=q(n);return o[t](e),o},Mo=(t,n)=>{const e=q(t);return e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e},Q1=(t,n,e)=>({candidateValue:Mo(Do,t),maxValue:wn(Mo(Do,e),n.getHours()<e.getHours()||n.getHours()===e.getHours()&&n.getMinutes()<e.getMinutes()?0:1),minValue:Mo(Do,n)}),WP=nd("setFullYear"),uh=nd("setHours"),ph=nd("setMinutes"),hh=nd("setSeconds"),fh=nd("setMilliseconds"),Ji=(t,n,e=1)=>{const o=[];for(let s=t;s<n;s+=e)o.push(s);return o},Xr=(t,n,e)=>!t||!(n&&n>t||e&&e<t),X1=(t,n,e)=>{if(!t||!n||!e)return!0;const{candidateValue:o,minValue:s,maxValue:r}=Q1(t,n,e);return s<=o&&o<=r},Pv=(t,n)=>!U1(t)||!U1(n)||t<=n,Eo=(t,n,e)=>t&&(n&&t<n?q(n):e&&t>e?q(e):t),zv=()=>new Date,ao=()=>Ct(new Date),Ce=t=>{},gh=()=>"undefined"!=typeof window,W1=(t,n)=>t.slice(n).concat(t.slice(0,n)),Yn=t=>(n,e="",o={})=>{const s=document.createElement(t);return s.className=e,Object.keys(o).map(r=>s.style[r]=o[r]),"string"==typeof n?s.innerHTML=n||"":(n||[]).forEach(r=>r&&s.appendChild(r)),s},js=(t,n)=>void 0!==t[n],K1=(t,n)=>t[n]&&null!=t[n].currentValue,qs=(t=[])=>t&&t[t.length-1],mh=(t,n)=>{const{start:e,end:o}=n||on;return!(!e||!o)&&e<t&&t<o},_h=(t,n)=>(t=t||[]).length===(n=n||[]).length&&t.every((e,o)=>gt(e,n[o])),Vv=(t,n)=>t&&n?new Date(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()):null,tI=t=>t?new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999):null,s4=t=>Array(t.match(/S+(\1)/)[0].length).join("0"),l4=[[]],d4={[we.Left]:t=>Hn(t,-1),[we.Up]:t=>Hn(t,-5),[we.Right]:t=>Hn(t,1),[we.Down]:t=>Hn(t,5),[we.PrevView]:t=>Wc(t,-1),[we.NextView]:t=>Wc(t,1),[we.FirstInView]:t=>Ur(t),[we.LastInView]:t=>lh(t)};let Yv=(()=>{let t=class{constructor(){this.dateRange=(e,o)=>{if(!ge(e)||!ge(o))return[];const s=[];let r=e;for(;r<=o;)s.push(r),r=Hn(r,1);return s}}addToDate(e,o){return Wc(e,o)}datesList(e,o){return Ji(0,o).map(s=>Wc(e,s))}data(e){const{cellUID:o,focusedDate:s,isActiveView:r,max:a,min:l,selectedDates:d,selectionRange:c=on,viewDate:p}=e;if(!p)return l4;const m=Ji(0,4),f=Ur(p),y=lh(p),S=ao();return Ji(0,3).map(D=>{const P=Hn(f,4*D);return m.map(E=>{const M=this.normalize(Hn(P,E),l,a),H=M.getFullYear()>y.getFullYear();if(!this.isInRange(M,l,a)||H)return null;const F=this.isEqual(M,c.start),O=this.isEqual(M,c.end),z=!F&&!O&&mh(M,c);return{formattedValue:this.value(M),id:`${o}${M.getTime()}`,isFocused:this.isEqual(M,s),isSelected:r&&d.some(j=>this.isEqual(M,j)),isWeekend:!1,isRangeStart:F,isRangeMid:z,isRangeEnd:O,isRangeSplitEnd:z&&this.isEqual(M,y),isRangeSplitStart:z&&this.isEqual(M,f),isToday:this.isEqual(M,S),title:this.cellTitle(M),value:M}})})}isEqual(e,o){return!(!e||!o)&&nn(e).getFullYear()===nn(o).getFullYear()}isInArray(e,o){if(!o.length)return!1;const s=e.getFullYear();return o[0].getFullYear()<=s&&s<=o[o.length-1].getFullYear()+99}isInRange(e,o,s){const r=nn(e).getFullYear(),a=!o||nn(o).getFullYear()<=r,l=!s||r<=nn(s).getFullYear();return a&&l}beginningOfPeriod(e){if(!e)return e;const o=nn(Ur(e));return gn(o.getFullYear(),0,1)}lastDayOfPeriod(e){const o=lh(e),s=Kc(o),r=ed(s);return oo(r)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,o){const s=d4[o];return s?s(e):e}cellTitle(e){return nn(e).getFullYear().toString()}navigationTitle(e){return e?Ur(e).getFullYear().toString():""}title(e){return e?`${Ur(e).getFullYear()} - ${lh(e).getFullYear()}`:""}rowLength(){return 4}skip(e,o){return O1(o,e)}total(e,o){return O1(e,o)+1}value(e){return e?nn(e).getFullYear().toString():""}viewDate(e,o,s=1){const r=this.total(e,o);return r<s?Wc(e,-1*(s-r)):e}normalize(e,o,s){return e<o&&this.isEqual(e,o)?q(o):e>s&&this.isEqual(e,s)?q(s):e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const u4=[[]],h4={[we.Left]:t=>mn(t,-1),[we.Up]:t=>mn(t,-5),[we.Right]:t=>mn(t,1),[we.Down]:t=>mn(t,5),[we.PrevView]:t=>Hn(t,-1),[we.NextView]:t=>Hn(t,1),[we.FirstInView]:t=>nn(t),[we.LastInView]:t=>Kc(t)};let Jv=(()=>{let t=class{constructor(){this.dateRange=(e,o)=>{if(!ge(e)||!ge(o))return[];const s=[];let r=e;for(;r<=o;)s.push(r),r=mn(r,1);return s}}addToDate(e,o){return Hn(e,o)}datesList(e,o){return Ji(0,o).map(s=>Hn(e,s))}data(e){const{cellUID:o,focusedDate:s,isActiveView:r,max:a,min:l,selectedDates:d,selectionRange:c=on,viewDate:p}=e;if(!p)return u4;const m=Ji(0,4),f=nn(p),y=Kc(p),S=ao();return Ji(0,3).map(D=>{const P=mn(f,4*D);return m.map(E=>{const M=this.normalize(mn(P,E),l,a),H=M.getFullYear()>y.getFullYear();if(!this.isInRange(M,l,a)||H)return null;const F=this.isEqual(M,c.start),O=this.isEqual(M,c.end),z=!F&&!O&&mh(M,c);return{formattedValue:this.value(M),id:`${o}${M.getTime()}`,isFocused:this.isEqual(M,s),isSelected:r&&d.some(j=>this.isEqual(M,j)),isWeekend:!1,isRangeStart:F,isRangeMid:z,isRangeEnd:O,isRangeSplitEnd:z&&this.isEqual(M,y),isRangeSplitStart:z&&this.isEqual(M,f),isToday:this.isEqual(M,S),title:this.cellTitle(M),value:M}})})}isEqual(e,o){return!(!e||!o)&&e.getFullYear()===o.getFullYear()}isInArray(e,o){if(!o.length)return!1;const s=e.getFullYear();return o[0].getFullYear()<=s&&s<=o[o.length-1].getFullYear()+9}isInRange(e,o,s){const r=e.getFullYear(),a=!o||o.getFullYear()<=r,l=!s||r<=s.getFullYear();return a&&l}beginningOfPeriod(e){if(!e)return e;const o=nn(e);return gn(o.getFullYear(),0,1)}lastDayOfPeriod(e){const o=Kc(e),s=ed(o);return oo(s)}isRangeStart(e){return e.getFullYear()%100==0}move(e,o){const s=h4[o];return s?s(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?nn(e).getFullYear().toString():""}title(e){return e?`${nn(e).getFullYear()} - ${Kc(e).getFullYear()}`:""}rowLength(){return 4}skip(e,o){return R1(o,e)}total(e,o){return R1(e,o)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,o,s=1){const r=this.total(e,o);return r<s?Hn(e,-1*(s-r)):e}normalize(e,o,s){return e<o&&this.isEqual(e,o)?q(o):e>s&&this.isEqual(e,s)?q(s):e}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const f4=[[]],m4={[we.Left]:t=>wn(t,-1),[we.Up]:t=>A1(t,-1),[we.Right]:t=>wn(t,1),[we.Down]:t=>A1(t,1),[we.PrevView]:t=>pi(t,-1),[we.NextView]:t=>pi(t,1),[we.FirstInView]:t=>N1(t),[we.LastInView]:t=>oo(t)};let qv=(()=>{let t=class{constructor(e){this._intlService=e,this.dateRange=(o,s)=>{if(!ge(o)||!ge(s))return[];const r=[];let a=o;for(;a<=s;)r.push(a),a=wn(a,1);return r}}addToDate(e,o){return pi(e,o)}datesList(e,o){return Ji(0,o).map(s=>pi(e,s))}data(e){const{cellUID:o,focusedDate:s,isActiveView:r,max:a,min:l,selectedDates:d,selectionRange:c=on,viewDate:p,isDateDisabled:m=(()=>!1)}=e;if(!p)return f4;const f=N1(p),y=Ct(f),S=oo(p),D=Ct(S),E=L1(f,this._intlService.firstDay(),-1),M=Ji(0,7),H=ao();return Ji(0,6).map(F=>{const O=wn(E,7*F);return M.map(V=>{const z=this.normalize(wn(O,V),l,a),j=Ct(z),K=j<y||j>D;if(z<l||z>a)return null;const A=this.isEqual(z,c.start),Z=this.isEqual(z,c.end),oe=!A&&!Z&&mh(z,c);return{formattedValue:this.value(z),id:`${o}${z.getTime()}`,isFocused:this.isEqual(z,s),isSelected:r&&d.some(Y=>this.isEqual(z,Y)),isWeekend:this.isWeekend(z),isRangeStart:A,isRangeMid:oe,isRangeEnd:Z,isRangeSplitStart:oe&&this.isEqual(z,f),isRangeSplitEnd:oe&&this.isEqual(z,S),isToday:this.isEqual(z,H),title:this.cellTitle(z),value:z,isDisabled:m(z),isOtherMonth:K}})})}isEqual(e,o){return!(!e||!o)&&Ct(e).getTime()===Ct(o).getTime()}isInArray(e,o){if(0===o.length)return!1;const s=this.beginningOfPeriod(o[0]),r=this.beginningOfPeriod(pi(o[o.length-1],1));return s<=e&&e<r}isInRange(e,o,s){const r=Ct(e),a=!o||Ct(o)<=r,l=!s||r<=Ct(s);return a&&l}beginningOfPeriod(e){return e&&gn(e.getFullYear(),e.getMonth(),1)}lastDayOfPeriod(e){return oo(e)}isRangeStart(e){return!e.getMonth()}move(e,o){const s=m4[o];return s?s(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e={}){return 7+(e.prependCell?1:0)}skip(e,o){return P1(o,e)}total(e,o){return P1(e,o)+1}value(e){return e?e.getDate().toString():""}viewDate(e,o,s=1){const r=this.total(e,o);return r<s?pi(e,-1*(s-r)):e}isWeekend(e){const{start:o,end:s}=this._intlService.weekendRange(),r=e.getDay();return s<o?r<=s||o<=r:o<=r&&r<=s}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,o,s){return e<o&&this.isEqual(e,o)?q(o):e>s&&this.isEqual(e,s)?q(s):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})();const v4=[[]],C4={[we.Left]:t=>pi(t,-1),[we.Up]:t=>pi(t,(t=>t>4?-5:t<2?-2:-7)(t.getMonth())),[we.Right]:t=>pi(t,1),[we.Down]:t=>pi(t,(t=>t<7?5:t<10?7:2)(t.getMonth())),[we.PrevView]:t=>mn(t,-1),[we.NextView]:t=>mn(t,1),[we.FirstInView]:t=>z1(t),[we.LastInView]:t=>ed(t)};let Uv=(()=>{let t=class{constructor(e){this._intlService=e,this.dateRange=(o,s)=>{if(!ge(o)||!ge(s))return[];const r=[];let a=o;for(;a<=s;)r.push(a),a=pi(a,1);return r}}addToDate(e,o){return mn(e,o)}datesList(e,o){return Ji(0,o).map(s=>mn(e,s))}data(e){const{cellUID:o,focusedDate:s,isActiveView:r,max:a,min:l,selectedDates:d,selectionRange:c=on,viewDate:p}=e;if(!p)return v4;const m=this.abbrMonthNames(),f=z1(p),y=ed(p),S=f.getFullYear(),D=Ji(0,4),P=ao();return Ji(0,3).map(E=>{const M=pi(f,4*E);return D.map(H=>{const F=this.normalize(pi(M,H),l,a),O=S<F.getFullYear();if(!this.isInRange(F,l,a)||O)return null;const V=this.isEqual(F,c.start),z=this.isEqual(F,c.end),K=!V&&!z&&mh(F,c);return{formattedValue:m[F.getMonth()],id:`${o}${F.getTime()}`,isFocused:this.isEqual(F,s),isSelected:r&&d.some(J=>this.isEqual(F,J)),isWeekend:!1,isRangeStart:V,isRangeMid:K,isRangeEnd:z,isRangeSplitEnd:K&&this.isEqual(F,y),isRangeSplitStart:K&&this.isEqual(F,f),isToday:this.isEqual(F,P),title:this.cellTitle(F),value:F}})})}isEqual(e,o){return!(!e||!o)&&e.getFullYear()===o.getFullYear()&&e.getMonth()===o.getMonth()}isInArray(e,o){if(!o.length)return!1;const s=e.getFullYear();return o[0].getFullYear()<=s&&s<=o[o.length-1].getFullYear()}isInRange(e,o,s){const r=gn(e.getFullYear(),e.getMonth(),1),a=!o||gn(o.getFullYear(),o.getMonth(),1)<=r,l=!s||r<=gn(s.getFullYear(),s.getMonth(),1);return a&&l}beginningOfPeriod(e){return e&&gn(e.getFullYear(),0,1)}lastDayOfPeriod(e){const o=ed(e);return oo(o)}isRangeStart(e){return e.getFullYear()%10==0}move(e,o){const s=C4[o];return s?s(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(){return 4}skip(e,o){return G1(o,e)}total(e,o){return G1(e,o)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,o,s=1){const r=this.total(e,o);return r<s?mn(e,-1*(s-r)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,o,s){return e<o&&this.isEqual(e,o)?q(o):e>s&&this.isEqual(e,s)?q(s):e}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})();var se=(()=>(function(t){t[t.month=0]="month",t[t.year=1]="year",t[t.decade=2]="decade",t[t.century=3]="century"}(se||(se={})),se))();const w4={[se.month]:qv,[se.year]:Uv,[se.decade]:Jv,[se.century]:Yv};let ti=(()=>{let t=class{constructor(e){this.injector=e,this.viewChanged=new i.vpe,this.bottom=se.month,this.top=se.century}configure(e,o){this.bottom=e,this.top=o}service(e){const o=w4[e];return o?this.injector.get(o):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,o){const s=this.clamp(((t,n)=>{const e=se[se[t+n]];return void 0!==e?e:t})(e,o));s!==e&&this.viewChanged.emit({view:s})}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[i.zs3])],t),t})();const yh=Yn("div"),I4=Yn("ul"),k4=Yn("li"),x4=Yn("td"),iI=Yn("th"),Qv=Yn("tr"),T4=Yn("tbody"),D4=Yn("thead"),nI=Yn("table"),oI=(t,n)=>new Array(t).fill("1").map(n),sI=t=>yh(t,"k-flex k-content k-calendar-content k-scrollable"),O4=(()=>{let t;return()=>W?(t||(t=yh([sI([I4([k4("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),t):null})(),Xv=({cells:t,rows:n},e,o)=>{let s;return()=>W?(s||(s=((t,n,e)=>yh([yh('\n            <span class="k-button k-flat k-title k-calendar-title">March 2017</span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav k-hstack">\n                <span class="k-today k-nav-today">TODAY</span>\n            </span>\n        ',"k-calendar-header k-hstack"),e?nI([D4([Qv([iI("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-weekdays k-calendar-table"):null,sI([t,t])],n,{left:"-10000px",position:"absolute"}))(((t,n=1)=>nI([T4([Qv([iI("1","k-calendar-th")],"k-calendar-tr")].concat(oI(t,()=>Qv(oI(n,e=>x4(`<span class="k-link">${e}</span>`,"k-calendar-td")),"k-calendar-tr"))),"k-calendar-tbody")],"k-calendar-table"))(n,t),e,o)),s):null},bh=t=>t.querySelector(".k-scrollable"),Wv=t=>(bh(t).classList.add("k-scrollable-horizontal"),t),rI=Xv({cells:7,rows:6},"k-vstack k-calendar-view k-calendar-monthview",!0),aI=Xv({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-yearview",!1),lI=Xv({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-decadeview",!1),Zs=t=>parseFloat(window.getComputedStyle(t).height)||t.offsetHeight,od=t=>{const n=window.getComputedStyle(t);return parseFloat(n.width)+parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)||t.offsetWidth},Pl=t=>t.querySelector("tbody");let ds=(()=>{let t=class{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){!W()||(this.hostContainer=e,this.batch(rI(),o=>{const s=Pl(o);this.calendarHeight=Zs(o),this.monthViewHeight=Zs(s),this.headerHeight=Zs(s.children[0]),this.scrollableContentHeight=Zs(bh(o))}),this.batch(Wv(rI()),o=>{const s=Pl(o);this.calendarWidth=od(o),this.monthViewWidth=od(s),this.scrollableContentWidth=od(bh(o))}),this.batch(aI(),o=>{this.yearViewHeight=Zs(Pl(o)),this.scrollableYearContentHeight=Zs(bh(o))}),this.batch(Wv(aI()),o=>{this.yearViewWidth=od(Pl(o))}),this.batch(lI(),o=>{this.decadeViewHeight=Zs(Pl(o)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(Wv(lI()),o=>{this.decadeViewWidth=od(Pl(o)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(O4(),o=>{this.navigationItemHeight=Zs(o.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,o){const s="height"===o?"ViewHeight":"ViewWidth";switch(e){case se.month:return this[`month${s}`];case se.year:return this[`year${s}`];case se.decade:return this[`decade${s}`];case se.century:return this[`century${s}`];default:return 1}}batch(e,o){if(!ge(this.hostContainer))return;const s=this.hostContainer.cloneNode();document.body.appendChild(s);try{o(s.appendChild(e))}catch(r){throw r}finally{document.body.removeChild(s)}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();class P4{constructor(n=0,e,o){this.total=n,this.rowHeight=e,this.detailRowHeight=o,this.offsets=[],this.heights=[];let s=0;for(let r=0;r<n;r++)this.offsets.push(s),s+=e,this.heights.push(e)}height(n){return this.heights[n]}expandDetail(n){this.height(n)===this.rowHeight&&this.updateRowHeight(n,this.detailRowHeight)}collapseDetail(n){this.height(n)>this.rowHeight&&this.updateRowHeight(n,-1*this.detailRowHeight)}index(n){if(n<0)return;const e=this.offsets.reduce((o,s,r)=>void 0!==o?o:s===n?r:s>n?r-1:void 0,void 0);return void 0===e?this.total-1:e}offset(n){return this.offsets[n]}totalHeight(){return this.heights.reduce((n,e)=>n+e,0)}updateRowHeight(n,e){this.heights[n]+=e,this.offsets=((t,n,e)=>[...t.slice(0,n+1),...t.slice(n+1).map(o=>o+e)])(this.offsets,n,e)}}const Ch=t=>Math.max(t,0);class Kv{constructor(n){this.offset=n}}class wh{constructor(n){this.skip=n}}class z4{constructor(n){this.scrollObservable=n,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(n,e,o,s,r=0,a=0,l="vertical"){this.rowHeightService=n,this.firstLoaded=e,this.lastLoaded=e+o,this.take=o,this.total=s,this.lastScroll=0,this.topOffset=r,this.bottomOffset=a,this.direction=l;const d=new w8.t(2),c=this.rowsForHeight(r),p=Ch(e-c);return d.next(new Kv(this.rowOffset(p))),c&&d.next(new wh(p)),this.subscription=new Kn.y(m=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(f=>this.onScroll(f,m))}).subscribe(m=>d.next(m)),d}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:n,scrollTop:e,offsetHeight:o,offsetWidth:s},r){const a="vertical"===this.direction?e:n,l="vertical"===this.direction?o:s;if(this.lastScroll===a)return;const d=this.lastScroll>=a;this.lastScroll=a;const c=this.rowHeightService.index(Ch(a-this.topOffset)),p=this.rowHeightService.index(Ch(a+l-this.bottomOffset));if(!d&&p>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=c,r.next(new Kv(this.rowOffset(c))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new wh(this.firstLoaded))),d&&c<=this.firstLoaded){const m=Math.floor(.3*this.take);this.firstLoaded=Ch(c-m),r.next(new Kv(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new wh(this.firstLoaded))}}rowOffset(n){return this.rowHeightService.offset(n)+this.topOffset}rowsForHeight(n){return Math.ceil(n/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const e_=new i.OlP("dateinputs-scroll-service-factory");function G4(t){return new z4(t)}var $n=(()=>(function(t){t[t.Backward=0]="Backward",t[t.Forward=1]="Forward"}($n||($n={})),$n))();const H4={[$n.Forward]:t=>n=>n+t,[$n.Backward]:t=>n=>n-t},Y4={[$n.Forward]:t=>n=>Math.min(n,t),[$n.Backward]:t=>n=>Math.max(n,t)},$4={[$n.Forward]:t=>n=>n<t,[$n.Backward]:t=>n=>n>t};let Sn=(()=>{let t=class{constructor(e,o,s,r){this.container=o,this.renderer=s,this.zone=r,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new i.vpe,this.pageChange=new i.vpe,this.scrollChange=new i.vpe,this.wrapperClasses=!0,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new Ze.xQ,this.scroller=e(this.dispatcher)}get horizontalClass(){return"horizontal"===this.direction}get totalVertexLength(){const e=`${this.totalSize}px`;return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe((0,xe.U)(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const o=this.containerScrollPosition,s=o+this.containerOffsetSize,r=this.rowHeightService.offset(e),a=r+this.rowHeightService.height(e);return r>=o&&a<=s}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const o=this.rowHeightService.offset(e),s=this.getContainerScrollDirection(o),{start:r,end:a}=this.scrollRange(o,s);if(r===a)return;const l=this.scrollStep(r,a),d=H4[s](l),c=Y4[s](a),p=$4[s](d(a));this.zone.runOutsideAngular(()=>{this.animationSubscription=(0,S8.aj)((0,cn.of)(r),Sc(0,D8)).pipe((0,xe.U)(m=>m[0]),(0,M8.R)(d),function(t,n=!1){return e=>e.lift(new B8(t,n))}(p),(0,xe.U)(c)).subscribe(m=>this.scrollTo(m))})}scrollRange(e,o){const s=this.containerScrollPosition;if(parseInt(e,10)===parseInt(s,10))return{start:e,end:e};const r=this.containerMaxScroll(),a=o===$n.Backward?1:-1,l=((t,n,e)=>Math.min(Math.abs(n-t),e))(s,e,this.maxScrollDifference),d=Math.min(e,r);return{start:Math.min(Math.max(d+a*l,0),r),end:d}}scrollStep(e,o){return Math.abs(o-e)/(this.scrollDuration/17)}scroll$(){return W()?(0,mt.R)(this.container.nativeElement,"scroll"):bw.E}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof wh?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new P4(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?$n.Backward:$n.Forward}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(e_),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-virtualization"]],hostVars:10,hostBindings:function(e,o){2&e&&i.ekj("k-flex",o.wrapperClasses)("k-content",o.wrapperClasses)("k-calendar-content",o.wrapperClasses)("k-scrollable",o.wrapperClasses)("k-scrollable-horizontal",o.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[i._Bn([{provide:e_,useValue:G4}]),i.TTD],ngContentSelectors:H1,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,o){1&e&&(i.F$t(),i.Hsn(0),i._UZ(1,"div",0)),2&e&&(i.xp6(1),i.ekj("k-scrollable-horizontal-placeholder","horizontal"===o.direction),i.Q6J("ngStyle",o.totalVertexLength))},directives:[x.PC],encapsulation:2}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"direction",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"itemHeight",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"itemWidth",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"topOffset",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"bottomOffset",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"maxScrollDifference",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"scrollOffsetSize",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"scrollDuration",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"skip",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"take",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"total",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"activeIndexChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"pageChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"scrollChange",void 0),v([(0,i.pfw)("class.k-flex"),(0,i.pfw)("class.k-content"),(0,i.pfw)("class.k-calendar-content"),(0,i.pfw)("class.k-scrollable"),g("design:type",Boolean)],t.prototype,"wrapperClasses",void 0),v([(0,i.pfw)("class.k-scrollable-horizontal"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"horizontalClass",null),t=v([Vn(0,(0,i.tBr)(e_)),g("design:paramtypes",[Object,i.SBq,i.Qsj,i.R0b])],t),t})();const t_=(t,n,e)=>{for(;t&&t!==e&&!n(t);)t=t.parentNode;if(t!==e)return t},i_=(t,n)=>{for(;t&&!n(t);)t=t.parentNode;return t};let Sh=(()=>{let t=class{constructor(e,o,s,r,a){this.bus=e,this.dom=o,this.intl=s,this.cdr=r,this.renderer=a,this.min=new Date(so),this.max=new Date(ro),this.focusedDate=new Date,this.valueChange=new i.vpe,this.pageChange=new i.vpe,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=se[this.activeView];const o=Eo(this.focusedDate,this.min,this.max),s=this.service.total(this.min,this.max),r=this.total&&this.total!==s;this.skip=this.service.skip(o,this.min),this.total=s,(r||!this.service.isInArray(o,this.dates))&&(this.dates=this.service.datesList(o,this.getTake(this.skip))),(e.focusedDate||r)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const o=this.list.nativeElement,s=`translateY(${e}px)`;this.renderer.setStyle(o,"transform",s),this.renderer.setStyle(o,"-ms-transform",s)}handleDateChange(e){const o=t_(e.target,s=>s.hasAttribute("data-date-index"),this.list.nativeElement);if(o){const s=parseInt(o.getAttribute("data-date-index"),10);this.valueChange.emit(q(this.dates[s]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===se.month&&this.cdr.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(ds),i.Y36(Oe.aJ),i.Y36(i.sBO),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,o){if(1&e&&(i.Gf(Sn,5),i.Gf(Y1,7)),2&e){let s;i.iGM(s=i.CRH())&&(o.virtualization=s.first),i.iGM(s=i.CRH())&&(o.list=s.first)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-calendar-navigation",o.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[i.TTD],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(i._UZ(0,"span",0),i.TgZ(1,"kendo-virtualization",1),i.NdJ("pageChange",function(r){return o.onPageChange(r)})("scrollChange",function(r){return o.scrollChange(r)}),i.TgZ(2,"ul",2,3),i.YNc(4,A8,4,11,"li",4),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.Q6J("skip",o.skip)("take",o.take)("total",o.total)("itemHeight",o.itemHeight)("topOffset",o.topOffset)("bottomOffset",o.bottomOffset)("maxScrollDifference",o.maxViewHeight),i.xp6(1),i.Q6J("kendoEventsOutsideAngular",i.VKq(10,Js,o.handleDateChange))("scope",o),i.xp6(2),i.Q6J("kForOf",o.dates))},directives:function(){return[Sn,kt,Bh,x.O5,x.tP]},encapsulation:2,changeDetection:0}),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"focusedDate",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"templateRef",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"valueChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"pageChange",void 0),v([(0,i.i9L)(Sn,{static:!1}),g("design:type",Sn)],t.prototype,"virtualization",void 0),v([(0,i.i9L)("list",{static:!0}),g("design:type",i.SBq)],t.prototype,"list",void 0),v([(0,i.pfw)("class.k-calendar-navigation"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentClass",null),t=v([g("design:paramtypes",[ti,ds,Oe.aJ,i.sBO,i.Qsj])],t),t})(),Ih=(()=>{let t=class{constructor(e,o,s,r,a){this.bus=e,this.cdr=o,this.intl=s,this.dom=r,this.renderer=a,this.isActive=!0,this.min=new Date(so),this.max=new Date(ro),this.selectedDates=[],this.cellClick=new i.vpe,this.weekNumberCellClick=new i.vpe,this.activeDateChange=new i.vpe,this.todayButtonClick=new i.vpe,this.pageChange=new i.vpe,this.getComponentClass=!0,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentMonthClass(){return this.activeView===se.month}get getComponentYearClass(){return this.activeView===se.year}get getComponentDecadeClass(){return this.activeView===se.decade}get getComponentCenturyClass(){return this.activeView===se.century}ngOnInit(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength({prependCell:this.weekNumber})).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=js(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;const o=js(e,"activeView"),s=this.focusedDate,r=Eo(this.service.viewDate(s,this.max,this.minViewsToRender),this.min,this.max),a=this.service.total(this.min,this.max),d=this.total&&this.total!==a||!this.service.isInArray(s,this.dates);this.skip=this.service.skip(r,this.min),this.total=a,this.animateToIndex=!o,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),d&&(this.dates=this.service.datesList(r,this.getTake(this.skip))),((t,n)=>t&&n&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())(this.activeDate,s)||(this.activeDate=q(s));const c=js(e,"focusedDate")||o;(d||c||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(s,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const o=this.list.nativeElement,s=`translateY(${e}px)`;this.renderer.setStyle(o,"transform",s),this.renderer.setStyle(o,"-ms-transform",s)}setActiveDate(e){const o=this.service.addToDate(this.min,e);this.activeDate=o,this.activeDateChange.emit(o),this.cdr.detectChanges()}isMonthView(){return this.activeView===se.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===se.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(){const e=W1(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}intlChange(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(i.sBO),i.Y36(Oe.aJ),i.Y36(ds),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,o){if(1&e&&(i.Gf(Sn,5),i.Gf(Y1,7)),2&e){let s;i.iGM(s=i.CRH())&&(o.virtualization=s.first),i.iGM(s=i.CRH())&&(o.list=s.first)}},hostVars:12,hostBindings:function(e,o){2&e&&i.ekj("k-vstack",o.getComponentClass)("k-calendar-view",o.getComponentClass)("k-calendar-monthview",o.getComponentMonthClass)("k-calendar-yearview",o.getComponentYearClass)("k-calendar-decadeview",o.getComponentDecadeClass)("k-calendar-centuryview",o.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",activeDateChange:"activeDateChange",todayButtonClick:"todayButtonClick",pageChange:"pageChange"},features:[i.TTD],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","todayButtonClick"],["class","k-calendar-weekdays k-calendar-table","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],[1,"k-calendar-table"],["list",""],[4,"ngFor","ngForOf"],["class","k-calendar-tbody","kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick",4,"kFor","kForOf"],[1,"k-calendar-weekdays","k-calendar-table",2,"table-layout","auto"],[1,"k-calendar-thead"],[1,"k-calendar-tr"],["class","k-calendar-th",3,"width",4,"ngFor","ngForOf"],[1,"k-calendar-th"],["kendoCalendarView","","role","rowgroup",1,"k-calendar-tbody",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-calendar-header",0),i.NdJ("todayButtonClick",function(r){return o.todayButtonClick.emit(r)}),i.qZA(),i.YNc(1,L8,4,1,"table",1),i.TgZ(2,"kendo-virtualization",2),i.NdJ("pageChange",function(r){return o.onPageChange(r)})("scrollChange",function(r){return o.scrollChange(r)})("activeIndexChange",function(r){return o.setActiveDate(r)}),i.TgZ(3,"table",3,4),i.TgZ(5,"colgroup"),i.YNc(6,P8,1,0,"col",5),i.qZA(),i.YNc(7,z8,1,11,"tbody",6),i.qZA(),i.qZA()),2&e&&(i.Q6J("currentDate",o.activeDate)("min",o.min)("max",o.max)("activeView",o.activeView)("templateRef",o.headerTitleTemplateRef),i.xp6(1),i.Q6J("ngIf",o.isMonthView()),i.xp6(1),i.Q6J("tabindex",-1)("skip",o.skip)("take",o.take)("total",o.total)("itemHeight",o.viewHeight)("topOffset",o.viewOffset)("bottomOffset",o.bottomOffset)("scrollOffsetSize",o.viewOffset)("maxScrollDifference",o.viewHeight),i.xp6(4),i.Q6J("ngForOf",o.cols),i.xp6(1),i.Q6J("kForOf",o.dates))},directives:function(){return[wI,x.O5,Sn,x.sg,Bh,SI]},encapsulation:2,changeDetection:0}),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"cellTemplateRef",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"weekNumberTemplateRef",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"headerTitleTemplateRef",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cellUID",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"focusedDate",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"isActive",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Array)],t.prototype,"selectedDates",void 0),v([(0,i.IIB)(),g("design:type",Boolean),g("design:paramtypes",[Boolean])],t.prototype,"weekNumber",null),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"weekNumberCellClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"activeDateChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"todayButtonClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"pageChange",void 0),v([(0,i.i9L)(Sn,{static:!1}),g("design:type",Sn)],t.prototype,"virtualization",void 0),v([(0,i.i9L)("list",{static:!0}),g("design:type",i.SBq)],t.prototype,"list",void 0),v([(0,i.pfw)("class.k-vstack"),(0,i.pfw)("class.k-calendar-view"),g("design:type",Boolean)],t.prototype,"getComponentClass",void 0),v([(0,i.pfw)("class.k-calendar-monthview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentMonthClass",null),v([(0,i.pfw)("class.k-calendar-yearview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentYearClass",null),v([(0,i.pfw)("class.k-calendar-decadeview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentDecadeClass",null),v([(0,i.pfw)("class.k-calendar-centuryview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentCenturyClass",null),t=v([g("design:paramtypes",[ti,i.sBO,Oe.aJ,ds,i.Qsj])],t),t})();const U4={33:we.PrevView,34:we.NextView,35:we.LastInView,36:we.FirstInView,37:we.Left,38:we.Up,39:we.Right,40:we.Down,"meta+38":we.UpperView,"meta+40":we.LowerView};let Wr=(()=>{let t=class{constructor(e){this.bus=e}action(e){return U4[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,o,s){const r=this.bus.service(s);return r?o===we.UpperView&&this.bus.canMoveUp(s)?(this.bus.moveUp(s),e):o===we.LowerView&&this.bus.canMoveDown(s)?(this.bus.moveDown(s),e):r.move(e,o):e}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(ti))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[ti])],t),t})();const cI=()=>!1;let ji=(()=>{let t=class{constructor(){this.changes=new Ze.xQ,this.isDateDisabled=cI}initialize(e){if("function"==typeof e)this.isDateDisabled=o=>e(Ct(o));else if((t=>Array.isArray(t)&&t.length>0&&t.every(n=>"number"==typeof n))(e)){const o=new Set(e);this.isDateDisabled=s=>o.has(s.getDay())}else if((t=>Array.isArray(t)&&t.length>0&&t.every(n=>n instanceof Date))(e)){const o=new Set(e.map(s=>Ct(s).getTime()));this.isDateDisabled=s=>o.has(Ct(s).getTime())}else this.isDateDisabled=cI,this.notifyInvalidInput(e);this.notifyServiceChange()}notifyInvalidInput(e){if(ge(e)&&(0,i.X6Q)())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),zl=(()=>{let t=class{constructor(e){this.bus=e}performSelection(e){let{date:o,modifiers:s,selectionMode:r,activeViewEnum:a,rangePivot:l}=e,d=e.selectedDates.slice();if("multiple"===r)if(s.ctrlKey||s.metaKey)this.isDateSelected(d,o)?d=d.filter(c=>!gt(c,o)):d.push(o),l=o;else if(s.shiftKey){const[c,p]=(t=>t.filter(n=>ge(n)).sort((n,e)=>n.getTime()-e.getTime()))([l||o,o]);d=this.bus.service(a).dateRange(c,p),l=o>d[0]?d[0]:qs(d)}else d=[o],l=o;else d=[o],l=o;return{selectedDates:d,rangePivot:l}}isDateSelected(e,o){return e.some(s=>gt(s,o))}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(ti))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[ti])],t),t})(),n_=(()=>{let t=class{constructor(e,o){this.dom=e,this.zone=o}configure(e){const o=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(t=>n=>Math.floor(n/t))(o),this.powerByMagnitude=(t=>n=>n*t)(o)}sync(e,o){this.unsubscribe(),e&&o&&(this.navigator=e,this.view=o,this.zone.runOutsideAngular(()=>{let s,r;this.navSubscription=e.scroll$().subscribe(a=>{r?r=!1:(s=!0,this.scrollSiblingOf(a.target))}),this.viewSubscription=o.scroll$().subscribe(a=>{s?s=!1:(r=!0,this.scrollSiblingOf(a.target))})}))}scrollSiblingOf(e){const o=this.siblingComponent(e),s=this.calculateScroll(o,e.scrollTop);o.scrollTo(s)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,o){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(o)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(ds),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[ds,i.R0b])],t),t})(),yi=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarCellTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),bi=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),Ci=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarYearCellTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),wi=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),Si=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),Ii=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),ki=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),Bo=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),t=v([g("design:paramtypes",[i.Rgc])],t),t})(),sn=(()=>{class t{constructor(){this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.sameDateSelected=new i.vpe,this.dateCompletenessChange=new i.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const sd=t=>n=>t&&n.value&&n.value<t?{minError:{minValue:t,value:n.value}}:null,rd=t=>n=>t&&n.value&&n.value>t?{maxError:{maxValue:t,value:n.value}}:null,dI="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",uI=t=>t?t.virtualization:null,nz={multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>ad)},oz={multi:!0,provide:X.Cf,useExisting:(0,i.Gpc)(()=>ad)},sz={provide:qe,useExisting:(0,i.Gpc)(()=>ad)};let ad=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c,p,m,f,y,S){this.bus=e,this.dom=o,this.element=s,this.navigator=r,this.renderer=a,this.cdr=l,this.ngZone=d,this.injector=c,this.scrollSyncService=p,this.disabledDatesService=m,this.localization=f,this.selectionService=y,this.pickerService=S,this.id=Ve(),this.rangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=se[se.month],this.bottomView=se[se.month],this.topView=se[se.century],this.animateNavigation=!1,this.weekNumber=!1,this.activeViewChange=new i.vpe,this.navigate=new i.vpe,this.activeViewDateChange=new i.vpe,this.valueChange=new i.vpe,this.isActive=!1,this.cellUID=Ve(),this.selectedDates=[],this._min=new Date(so),this._max=new Date(ro),this._focusedDate=ao(),this.onControlChange=Ce,this.onControlTouched=Ce,this.onValidatorChange=Ce,this.minValidateFn=Ce,this.maxValidateFn=Ce,this.syncNavigation=!0,this._type="infinite",this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,(0,lt.s)(Nl),this.setClasses(s.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set focusedDate(e){if(this.activeViewDate&&!gt(this._focusedDate,e)){const o=this.bus.service(this.activeViewEnum),s=o.lastDayOfPeriod(this.activeViewDate);o.isInRange(e,this.activeViewDate,s)||this.emitNavigate(e)}this._focusedDate=e||ao(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(so)}get min(){return this._min}set max(e){this._max=e||new Date(ro)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(s=>ge(s)).map(s=>q(s)):q(e);const o=[].concat(e).filter(s=>ge(s)).map(s=>q(s));if(!_h(o,this.selectedDates)){const s=qs(o);this.rangePivot=q(s),this.focusedDate=q(s)||this.focusedDate,this.selectedDates=o}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e),this._disabledDates=e}get disabledDates(){return this._disabledDates}set type(e){this.renderer.removeClass(this.element.nativeElement,`k-calendar-${this.type}`),this.renderer.addClass(this.element.nativeElement,`k-calendar-${e}`),this._type=e}get type(){return this._type}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}get activeViewEnum(){const e=se[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return se[this.bottomView]}get topViewEnum(){return se[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled||"classic"===this.type?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}ngOnInit(){this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>this.handleActiveViewChange(se[e])),this.control=this.injector.get(X.a5,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum),K1(e,"focusedDate")&&(this.focusedDate=Eo(e.focusedDate.currentValue,this.min,this.max)),e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?sd(this.min):Ce,this.maxValidateFn=this.rangeValidation?rd(this.max):Ce,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant()}ngAfterViewChecked(){!this.syncNavigation||(this.syncNavigation=!1,this.scrollSyncService.sync(uI(this.navigationView),uI(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){!this.element||this.element.nativeElement.focus()}blur(){!this.element||this.element.nativeElement.blur()}containsElement(e){return Boolean(i_(e,o=>o===this.element.nativeElement))}handleNavigation(e){if(this.disabled)return;const o=e?new Date(q(e).setDate(1)):this.focusedDate;this.focusedDate=Eo(o,this.min,this.max),this.detectChanges()}onPageChange(){i.R0b.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=(0,Es.D)(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleMultiViewCalendarValueChange(e,o){const s=Array.isArray(e)?e:[e];this.handleDateChange({selectedDates:s,focusedDate:o})}handleDateChange(e){const o=Array.isArray(e.selectedDates)?e.selectedDates:[e.selectedDates],s=this.bus.canMoveDown(this.activeViewEnum),r=o.filter(a=>!this.disabledDatesService.isDateDisabled(a));if(this.focusedDate=e.focusedDate||this.focusedDate,!this.disabled){if(!s&&_h(r,this.selectedDates))return void this.emitSameDate();if(s)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||this.ngZone.run(()=>{this.selectedDates=r.map(a=>q(a)),this.value=this.parseSelectionToValue(r),this.onControlChange(this.parseSelectionToValue(r)),this.valueChange.emit(this.parseSelectionToValue(r)),this.cdr.markForCheck()})}}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case se.month:return this.monthCellTemplate||this.cellTemplate;case se.year:return this.yearCellTemplate;case se.decade:return this.decadeCellTemplate;case se.century:return this.centuryCellTemplate;default:return null}}emitNavigate(e){this.navigate.emit({activeView:se[this.activeViewEnum],focusedDate:e})}emitEvent(e,o){ne(e)&&this.ngZone.run(()=>{e.emit(o)})}handleActiveDateChange(e){this.activeViewDate=e,this.emitEvent(this.activeViewDateChange,e)}handleActiveViewChange(e){this.activeView=e,this.emitEvent(this.activeViewChange,e),"infinite"===this.type&&this.scrollSyncService.configure(this.activeViewEnum),this.detectChanges()}handleCellClick({date:e,modifiers:o}){this.performSelection(e,o)}handleWeekNumberClick(e){"single"!==this.selection&&this.ngZone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:qs(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,`k-calendar-${this.type}`)}verifyChanges(){if((0,i.X6Q)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if((0,i.X6Q)()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${dI} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(s=>s instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${dI} for possible resolution.`)}}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",UP),this.renderer.listen(e,"click",this.handleComponentClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit()}handleBlur(e){this.isActive=!1,!this.pickerService&&dh(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges())}handleFocus(){this.isActive=!0,i.R0b.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleComponentClick(){this.isActive||("infinite"===this.type&&this.monthView.isScrolled()&&(this.focusedDate=q(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){const o=-1!==[R.ArrowUp,R.ArrowRight,R.ArrowDown,R.ArrowLeft].indexOf(e.keyCode);if(ge(this.pickerService)&&o&&e.altKey)return;const s=Eo(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);gt(this.focusedDate,s)||(this.focusedDate=s,this.detectChanges(),e.preventDefault()),e.keyCode===R.Enter&&this.performSelection(this.focusedDate,e)}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){if(!ge(this.element))return;const e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}parseSelectionToValue(e){return e=e||[],"single"===this.selection?q(qs(e)):e.map(o=>q(o))}performSelection(e,o){const s=this.selectionService.performSelection({date:e,modifiers:o,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=s.rangePivot,this.handleDateChange({selectedDates:s.selectedDates,focusedDate:e})}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(ds),i.Y36(i.SBq),i.Y36(Wr),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(i.zs3),i.Y36(n_),i.Y36(ji),i.Y36(I),i.Y36(zl),i.Y36(sn,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-calendar"]],contentQueries:function(e,o,s){if(1&e&&(i.Suo(s,yi,7),i.Suo(s,bi,7),i.Suo(s,Ci,7),i.Suo(s,wi,7),i.Suo(s,Si,7),i.Suo(s,Ii,7),i.Suo(s,ki,7),i.Suo(s,Bo,7)),2&e){let r;i.iGM(r=i.CRH())&&(o.cellTemplate=r.first),i.iGM(r=i.CRH())&&(o.monthCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.yearCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.decadeCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.centuryCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.weekNumberTemplate=r.first),i.iGM(r=i.CRH())&&(o.headerTitleTemplate=r.first),i.iGM(r=i.CRH())&&(o.navigationItemTemplate=r.first)}},viewQuery:function(e,o){if(1&e&&(i.Gf(Sh,5),i.Gf(Ih,5)),2&e){let s;i.iGM(s=i.CRH())&&(o.navigationView=s.first),i.iGM(s=i.CRH())&&(o.monthView=s.first)}},hostVars:8,hostBindings:function(e,o){2&e&&(i.uIk("id",o.widgetId)("role",o.widgetRole)("tabindex",o.calendarTabIndex)("aria-disabled",o.ariaDisabled),i.ekj("k-week-number",o.weekNumber)("k-state-disabled",o.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",selection:"selection",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",animateNavigation:"animateNavigation",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",type:"type",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[i._Bn([ti,nz,oz,sz,I,ji,{provide:Fe,useValue:"kendo.calendar"},Wr,n_,zl]),i.TTD],decls:3,vars:2,consts:function(){let n,e,o;return n=$localize`:kendo.calendar.today|The label for the today button in the calendar header␟7a8b7961a5c754397897f39a824bdec621719040␟4715594042078324085:Today`,e=$localize`:kendo.calendar.prevButtonTitle|The title of the previous button in the Classic calendar␟031715cd6a995d5dd1f62365cfe1b9e6226ca185␟9114031309296786030:Navigate to previous view`,o=$localize`:kendo.calendar.nextButtonTitle|The title of the next button in the Classic calendar␟cd8c0952c72306cccf0973c8fd1957ef9da1f569␟7248948899360601102:Navigate to next view`,[["kendoCalendarLocalizedMessages","","today",n,"prevButtonTitle",e,"nextButtonTitle",o],[4,"ngIf"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","selectedDates","todayButtonClick","cellClick","weekNumberCellClick","activeDateChange","pageChange"],[3,"resize"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"],[3,"views","min","max","isActive","activeView","bottomView","topView","weekNumber","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","headerTitleTemplate","weekNumberTemplate","focusedDate","selection","value","disabledDates","activeViewChange","navigate","valueChange"],["multiviewcalendar",""],[3,"today","prevButtonTitle","nextButtonTitle"]]},template:function(e,o){1&e&&(i.GkF(0,0),i.YNc(1,V8,4,12,"ng-container",1),i.YNc(2,H8,4,23,"ng-container",1)),2&e&&(i.xp6(1),i.Q6J("ngIf","infinite"===o.type),i.xp6(1),i.Q6J("ngIf","classic"===o.type))},directives:function(){return[ta,x.O5,Ih,ai,Sh,Fo,ea]},encapsulation:2,changeDetection:0}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"id",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],t.prototype,"focusedDate",null),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],t.prototype,"min",null),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],t.prototype,"max",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"rangeValidation",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"selection",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],t.prototype,"value",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"tabindex",void 0),v([(0,i.IIB)(),g("design:type",Number),g("design:paramtypes",[Number])],t.prototype,"tabIndex",null),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],t.prototype,"disabledDates",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"navigation",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"bottomView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"topView",void 0),v([(0,i.IIB)(),g("design:type",String),g("design:paramtypes",[String])],t.prototype,"type",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"animateNavigation",void 0),v([(0,i.IIB)(),(0,i.pfw)("class.k-week-number"),g("design:type",Boolean)],t.prototype,"weekNumber",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"activeViewChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"navigate",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"activeViewDateChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"valueChange",void 0),v([(0,i.aQ5)(yi,{static:!0}),g("design:type",yi)],t.prototype,"cellTemplate",void 0),v([(0,i.IIB)("cellTemplate"),g("design:type",yi),g("design:paramtypes",[yi])],t.prototype,"cellTemplateRef",null),v([(0,i.aQ5)(bi,{static:!0}),g("design:type",bi)],t.prototype,"monthCellTemplate",void 0),v([(0,i.IIB)("monthCellTemplate"),g("design:type",bi),g("design:paramtypes",[bi])],t.prototype,"monthCellTemplateRef",null),v([(0,i.aQ5)(Ci,{static:!0}),g("design:type",Ci)],t.prototype,"yearCellTemplate",void 0),v([(0,i.IIB)("yearCellTemplate"),g("design:type",Ci),g("design:paramtypes",[Ci])],t.prototype,"yearCellTemplateRef",null),v([(0,i.aQ5)(wi,{static:!0}),g("design:type",wi)],t.prototype,"decadeCellTemplate",void 0),v([(0,i.IIB)("decadeCellTemplate"),g("design:type",wi),g("design:paramtypes",[wi])],t.prototype,"decadeCellTemplateRef",null),v([(0,i.aQ5)(Si,{static:!0}),g("design:type",Si)],t.prototype,"centuryCellTemplate",void 0),v([(0,i.IIB)("centuryCellTemplate"),g("design:type",Si),g("design:paramtypes",[Si])],t.prototype,"centuryCellTemplateRef",null),v([(0,i.aQ5)(Ii,{static:!0}),g("design:type",Ii)],t.prototype,"weekNumberTemplate",void 0),v([(0,i.IIB)("weekNumberTemplate"),g("design:type",Ii),g("design:paramtypes",[Ii])],t.prototype,"weekNumberTemplateRef",null),v([(0,i.aQ5)(ki,{static:!0}),g("design:type",ki)],t.prototype,"headerTitleTemplate",void 0),v([(0,i.IIB)("headerTitleTemplate"),g("design:type",ki),g("design:paramtypes",[ki])],t.prototype,"headerTitleTemplateRef",null),v([(0,i.aQ5)(Bo,{static:!0}),g("design:type",Bo)],t.prototype,"navigationItemTemplate",void 0),v([(0,i.IIB)("navigationItemTemplate"),g("design:type",Bo),g("design:paramtypes",[Bo])],t.prototype,"navigationItemTemplateRef",null),v([(0,i.i9L)(Sh,{static:!1}),g("design:type",Sh)],t.prototype,"navigationView",void 0),v([(0,i.i9L)(Ih,{static:!1}),g("design:type",Ih)],t.prototype,"monthView",void 0),v([(0,i.pfw)("attr.id"),g("design:type",String),g("design:paramtypes",[])],t.prototype,"widgetId",null),v([(0,i.pfw)("attr.role"),g("design:type",String),g("design:paramtypes",[])],t.prototype,"widgetRole",null),v([(0,i.pfw)("attr.tabindex"),g("design:type",Number),g("design:paramtypes",[])],t.prototype,"calendarTabIndex",null),v([(0,i.pfw)("attr.aria-disabled"),(0,i.pfw)("class.k-state-disabled"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"ariaDisabled",null),t=v([Vn(12,(0,i.FiY)()),g("design:paramtypes",[ti,ds,i.SBq,Wr,i.Qsj,i.sBO,i.R0b,i.zs3,n_,ji,I,zl,sn])],t),t})();const kh=()=>(t,n)=>!ge(t.value)&&n?{incompleteDate:!0}:null;var ld,Gl=(()=>(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.None=2]="None"}(Gl||(Gl={})),Gl))();const cz=/year|month|<day>/,dz=/hour|minute|second|millisecond/,uz=/d|M|H|h|m|s/,hI=t=>t.replace(/^0*/,"");class gz{constructor(){this.symbols=""}}class mz{constructor(n,e,o,s,r=68){if(this.intl=n,this.formatPlaceholder=e,this.format=o,this.twoDigitYearMax=r,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=Ct(new Date),this.knownParts="adHhmMsSEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",S:"S",y:"y"},(0,lt.s)(Nl),this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),s)this.value=q(s);else{this.value=Ct(new Date);const a=this.dateFormatString(this.value,this.format).symbols;for(let l=0;l<a.length;l++)this.setExisting(a[l],!1)}}hasValue(){return this.intl.splitDateFormat(this.format).reduce((e,o)=>e||"literal"!==o.type&&"dayperiod"!==o.type&&this.getExisting(o.pattern[0]),!1)}shouldNormalizeCentury(){return this.intl.splitDateFormat(this.format).some(n=>"yy"===n.pattern)}getDateObject(){for(let n=0;n<this.knownParts.length;n++)if(!this.getExisting(this.knownParts[n]))return null;return q(this.value)}getTextAndFormat(n){return this.merge(this.intl.formatDate(this.value,n),this.dateFormatString(this.value,n))}getExisting(n){switch(n){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}}setExisting(n,e){switch(n){case"y":this.year=e,!1===e&&this.value.setFullYear(2e3);break;case"M":this.month=e,!1===e&&this.value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;case"S":this.milliseconds=e;break;default:return}}modifyPart(n,e){let o=q(this.value);switch(n){case"y":o.setFullYear(o.getFullYear()+e);break;case"M":o=pi(this.value,e);break;case"d":case"E":o.setDate(o.getDate()+e);break;case"h":case"H":o.setHours(o.getHours()+e);break;case"m":o.setMinutes(o.getMinutes()+e);break;case"s":o.setSeconds(o.getSeconds()+e);break;case"S":o.setMilliseconds(o.getMilliseconds()+e);break;case"a":o.setHours(o.getHours()+12*e)}this.shouldNormalizeCentury()&&(o=this.normalizeCentury(o)),o.getFullYear()>0&&(this.setExisting(n,!0),this.value=o)}parsePart(n,e,o){if(!e)return this.resetLeadingZero(),this.setExisting(n,!1),{value:null,switchToNext:!1};let s=this.intl.formatDate(this.value,this.format),r=this.dateFormatString(this.value,this.format),a=r.symbols,l=!1,d="",c="",p="";for(let E=0;E<s.length;E++)a[E]===n?(c+=this.getExisting(n)?s[E]:"0",l=!0):l?p+=s[E]:d+=s[E];let m=c.length-3,f=null;const y=this.matchMonth(e),S=this.matchDayPeriod(e,n),D="0"===e,P=(this.leadingZero||{})[n]||0;D?0===parseInt(o?e:c+e,10)&&!this.isAbbrMonth(r.partMap,n)&&this.incrementLeadingZero(n):this.resetLeadingZero();for(let E=Math.max(0,m);E<=c.length;E++){let M=o?e:c.substring(E)+e;"S"===n&&o&&(M=s4(a)+M);let H=parseInt(M,10);if(f=this.intl.parseDate(d+M+p,this.format),!f&&!isNaN(H)&&!isNaN(parseInt(e,10))){if("M"===n&&!y){const F=H-1;F>-1&&F<12&&(f=q(this.value),f.setMonth(F),f.getMonth()!==F&&(f=oo(pi(f,-1))))}"y"===n&&(f=gn(parseInt(M,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=oo(pi(f,-1))))}if(f){const F=this.partPattern(r.partMap,n).pattern,O=this.intl.parseDate(`${d}${this.peek(M,F)}${p}`,this.format),V=this.patternLength(F)||F.length,z=P+(hI(M)||e).length>=V,j=null===O||z;return this.shouldNormalizeCentury()&&(f=this.normalizeCentury(f)),this.value=f,this.setExisting(n,!0),{value:this.value,switchToNext:j}}}return y&&(f=this.intl.parseDate(d+y+p,this.format),f)?(this.value=f,this.setExisting(n,!0),{value:this.value,switchToNext:!1}):S&&(f=this.intl.parseDate(d+S+p,this.format),f)?(this.value=f,{value:this.value,switchToNext:!0}):(D&&this.setExisting(n,!1),{value:null,switchToNext:!1})}resetLeadingZero(){const n=null!==this.leadingZero;return this.setLeadingZero(null),n}setLeadingZero(n){this.leadingZero=n}normalizeCentury(n){if(!ge(n))return n;const e=(t=>!ge(t)||isNaN(t.getTime())?0:Number(t.getFullYear().toString().slice(-2)))(n),o=this.getNormalizedCenturyBase(e);return WP(n,o+e)}incrementLeadingZero(n){const e=this.leadingZero||{};e[n]=(e[n]||0)+1,this.leadingZero=e}isAbbrMonth(n,e){const o=this.partPattern(n,e);return"month"===o.type&&o.names}partPattern(n,e){return n.filter(o=>-1!==o.pattern.indexOf(e))[0]}peek(n,e){const o=hI(n)+"0";return(t=>new Array(Math.max(t,0)).fill("0").join(""))(e.length-o.length)+o}matchMonth(n){if(this.typedMonthPart+=n.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(let o=0;o<this.monthNames.length;o++)if(0===this.monthNames[o].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[o];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(n,e){const o=String(n).toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(o))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(o))return this.dayPeriods.pm}return""}allFormatedMonths(){const n=this.intl.splitDateFormat(this.format);for(let e=0;e<n.length;e++)if("month"===n[e].type&&n[e].names)return this.intl.dateFormatNames(n[e].names);return null}allDayPeriods(){const n=this.intl.splitDateFormat(this.format);for(let e=0;e<n.length;e++)if("dayperiod"===n[e].type&&n[e].names)return this.intl.dateFormatNames(n[e].names);return null}patternLength(n){return"y"===n[0]?4:uz.test(n)?2:0}dateFormatString(n,e){const o=this.intl.splitDateFormat(e),s=[],r=[];for(let l=0;l<o.length;l++){let d=this.intl.formatDate(n,{pattern:o[l].pattern}).length;for(;d>0;)s.push(this.symbols[o[l].pattern[0]]||"_"),r.push(o[l]),d--}const a=new gz;return a.symbols=s.join(""),a.partMap=r,a}merge(n,e){let o="",s="",r=e.symbols;for(let a=r.length-1;a>=0;a--)if(-1===this.knownParts.indexOf(r[a])||this.getExisting(r[a]))o=n[a]+o,s=r[a]+s;else{const l=r[a];for(;a>=0&&l===r[a];)a--;for(a++,o=this.leadingZero&&this.leadingZero[l]?"0"+o:this.dateFieldName(e.partMap[a])+o;s.length<o.length;)s=r[a]+s}return[o,s]}dateFieldName(n){const e=this.formatPlaceholder||"wide";return e[n.type]?e[n.type]:"formatPattern"===e?n.pattern:this.intl.dateFieldName(Object.assign(n,{nameType:e}))}getNormalizedCenturyBase(n){return n>this.twoDigitYearMax?1900:2e3}}let Ae=ld=class{constructor(n,e,o,s,r,a,l,d){this.cdr=n,this.intl=e,this.renderer=o,this.element=s,this.ngZone=r,this.injector=a,this.localization=l,this.pickerService=d,this.focusableId=`k-${Ve()}`,this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.steps={},this.rangeValidation=!0,this.autoCorrect=!1,this.incompleteDateValidation=!1,this.twoDigitYearMax=68,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new i.vpe,this.valueUpdate=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.arrow=Gl,this.arrowDirection=Gl.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidator=Ce,this.maxValidator=Ce,this.incompleteValidator=Ce,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=Ce,this.onControlTouched=Ce,this.onValidatorChange=Ce,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}set value(n){this.verifyValue(n),(!this.autoCorrect||Xr(n,this.min,this.max))&&(this._value=q(n),this.valueUpdate.emit(q(n)))}get value(){return this._value}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(n){if(this._active=n,this.wrap&&!ge(this.pickerService)){const e=this.wrap.nativeElement;n?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused")}}get inputFormat(){return this.format?"string"==typeof this.format?this.format:this.format.inputFormat:"d"}get displayFormat(){return this.format?"string"==typeof this.format?this.format:this.format.displayFormat:"d"}isEmpty(){return!this.currentValue||!String(this.currentValue).trim()}containsElement(n){return Boolean(i_(n,e=>e===this.element.nativeElement))}ngOnChanges(n){this.verifyRange(),(n.min||n.max||n.rangeValidation||n.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?sd(this.min):Ce,this.maxValidator=this.rangeValidation?rd(this.max):Ce,this.incompleteValidator=this.incompleteDateValidation?kh():Ce,this.onValidatorChange()),n.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());const e=this.kendoDate&&gt(this.value,this.kendoDate.getDateObject());(n.format||!e||n.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(n=>n())}validate(n){return this.minValidator(n)||this.maxValidator(n)||this.incompleteValidator(n,this.isDateIncomplete)}registerOnValidatorChange(n){this.onValidatorChange=n}ngOnInit(){this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.ngControl=this.injector.get(X.a5,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular(()=>{this.bindEvents()}))}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}writeValue(n){this.verifyValue(n),this.kendoDate=this.getKendoDate(n),this.value=q(n),this.updateElementValue(this.isActive)}triggerChange(){const n=this.kendoDate.getDateObject();+n!=+this.value&&(this.value=q(n),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(q(this.value)),this.valueChange.emit(q(this.value))})}registerOnChange(n){this.onControlChange=n}registerOnTouched(n){this.onControlTouched=n}focus(){const n=this.inputElement;n&&(n.focus(),this.selectDateSegment(this.currentFormat[0]))}blur(){const n=this.inputElement;n&&n.blur()}handleButtonClick(n){this.arrowDirection=Gl.None,this.modifyDateSegmentValue(n)}modifyDateSegmentValue(n){const e=this.caret(),o=this.currentFormat[e[0]];let s=(this.steps||{})[this.symbolsMap[o]]||1;"S"!==o||this.steps.millisecond||(s=(t=>Math.pow(10,3-t))((t=>{const n=t&&t.match(/S+(\1)/);return n?n[0].length:0})(this.inputFormat))),this.kendoDate.modifyPart(o,n*s),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(o),this.updateIncompleteValidationStatus()}switchDateSegment(n){const e=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),e[0]<e[1]&&this.currentFormat[e[0]]!==this.currentFormat[e[1]-1])return this.selectNearestSegment(n>0?e[0]:e[1]-1),this.resetSegmentValue=!0,!0;const o=this.currentFormat[e[0]];let s=e[0]+n;for(;s>0&&s<this.currentFormat.length&&(this.currentFormat[s]===o||"_"===this.currentFormat[s]);)s+=n;if("_"===this.currentFormat[s])return!1;let r=s;for(;r>=0&&r<this.currentFormat.length&&this.currentFormat[r]===this.currentFormat[s];)r+=n;return s>r&&(r+1!==e[0]||s+1!==e[1])?(this.caret(r+1,s+1),this.resetSegmentValue=!0,!0):s<r&&(s!==e[0]||r!==e[1])&&(this.caret(s,r),this.resetSegmentValue=!0,!0)}selectDateSegment(n){let e=-1,o=0;for(let s=0;s<this.currentFormat.length;s++)this.currentFormat[s]===n&&(o=s+1,-1===e&&(e=s));e<0&&(e=0),this.caret(0,0),this.caret(e,o)}handleClick(){if(this.hasMousedown=!1,this.isActive){const n=this.inputElement.selectionStart!==this.inputElement.selectionEnd,e=ge(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,s=!n&&e?0:this.caret()[0];this.selectNearestSegment(s)}}handleDragAndDrop(n){n.preventDefault()}handleMousedown(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}handleFocus(n){this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,ne(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(n)}):this.emitFocus(n)}handleBlur(n){this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),ne(this.onBlur)||dh(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(n),this.cdr.markForCheck()}):this.emitBlur(n)}getKendoDate(n){const{leadingZero:e}=this.kendoDate||{},o=new mz(this.intl,this.formatPlaceholder,this.inputFormat,n,this.twoDigitYearMax);return o.setLeadingZero(this.isActive?e:null),o}dateSymbolMap(){return this.intl.splitDateFormat(this.inputFormat).reduce((e,o)=>(e[o.pattern[0]]=o.type,e),{})}updateElementValue(n){const e=this.caret()[0],s=this.kendoDate.getTextAndFormat(this.isActive?this.inputFormat:this.displayFormat),r=!this.isActive&&ge(this.placeholder)&&!this.kendoDate.hasValue(),a=this.inputElement;this.currentFormat=s[1],this.currentValue=r?"":s[0],this.renderer.setProperty(a,"value",this.currentValue),a.placeholder!==this.placeholder&&this.renderer.setProperty(a,"placeholder",this.placeholder),n&&this.selectNearestSegment(e)}caret(n,e=n){const o=void 0!==n;let s=[n,n];const r=this.inputElement;if(!o||!this.disabled&&!this.readonly){try{void 0!==r.selectionStart&&(o&&(W()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(n,e)),s=[r.selectionStart,r.selectionEnd])}catch(a){s=[]}return s}}selectNearestSegment(n){for(let e=n,o=n-1;e<this.currentFormat.length||o>=0;e++,o--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(o>=0&&"_"!==this.currentFormat[o])return void this.selectDateSegment(this.currentFormat[o])}}verifyRange(){if((0,i.X6Q)()&&!Pv(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(n){if((0,i.X6Q)()&&n&&!(n instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}putDateInRange(){const n=this.kendoDate.getDateObject(),e=Eo(n,this.min,this.max);this.autoCorrect&&!gt(n,e)&&(this.kendoDate=this.getKendoDate(e))}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.inputFormat).reduce(({date:n,time:e},o)=>({date:n||cz.test(o.type),time:e||dz.test(o.type)}),{date:!1,time:!1})}intlChange(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}updateOnPaste(){let n=this.intl.parseDate(this.inputValue,this.inputFormat)||this.value;ge(n)&&this.kendoDate.shouldNormalizeCentury()&&(n=this.kendoDate.normalizeCentury(n));const e=+n!=+this.value;this.writeValue(n),e&&this.notify()}bindEvents(){const n=this.element.nativeElement,e=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(n,"DOMMouseScroll",e),this.renderer.listen(n,"mousewheel",e),this.renderer.listen(n,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(n,"paste",this.handlePaste.bind(this)),this.renderer.listen(n,"input",this.handleInput.bind(this)))}handleMouseWheel(n){this.disabled||this.readonly||!this.isActive||((n=window.event||n).shiftKey?this.switchDateSegment((n.wheelDelta||-n.detail)>0?-1:1):this.modifyDateSegmentValue((n.wheelDelta||-n.detail)>0?1:-1),n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation())}handlePaste(){this.paste=!0}handleKeydown(n){if(!(this.disabled||this.readonly||n.altKey||n.ctrlKey||n.metaKey)){if(n.keyCode===R.Tab)return void(this.switchDateSegment(n.shiftKey?-1:1)&&n.preventDefault());if(n.keyCode===R.Backspace)return void(this.backspace=!0);switch(n.keyCode){case R.ArrowDown:this.modifyDateSegmentValue(-1);break;case R.ArrowUp:this.modifyDateSegmentValue(1);break;case R.ArrowRight:this.switchDateSegment(1);break;case R.ArrowLeft:this.switchDateSegment(-1);break;case R.Home:this.selectNearestSegment(0);break;case R.End:this.selectNearestSegment(this.inputValue.length);break;default:return}n.preventDefault()}}handleInput(){if(this.disabled||this.readonly)return;if(this.paste)return this.updateOnPaste(),void(this.paste=!1);const n=((t,n,e,o)=>{const s=o+t.length-e.length,r=t[s],a=t.substring(0,o+t.length-e.length),l=e.substring(0,o),d=[];if(a===l&&o>0)return d.push([n[o-1],l[o-1]]),d;if(0===a.indexOf(l)&&(0===l.length||n[l.length-1]!==n[l.length])){let c="";1===l.length&&d.push([n[0],l[0]]);for(let p=l.length;p<a.length;p++)n[p]!==c&&"_"!==n[p]&&(c=n[p],d.push([c,""]));return d}if(0===l.indexOf(a)||"_"===n[o-1]){let c=n[0];for(let p=Math.max(0,a.length-1);p<n.length;p++)if("_"!==n[p]){c=n[p];break}return[[c,l[o-1]]]}return" "===l[l.length-1]||l[l.length-1]===r&&"_"===n[s]?[[n[o-1],"_"]]:[[n[o-1],l[o-1]]]})(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),e=1===n.length&&"_"===n[0][1];let o=!1;if(!e){let s;for(let a=0;a<n.length;a++)s=this.kendoDate.parsePart(n[a][0],n[a][1],this.resetSegmentValue),o=s.switchToNext;const r=this.kendoDate.getDateObject();this.value&&r&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(Mo(this.value,r)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.updateIncompleteValidationStatus(),n.length&&"_"!==n[0][0]&&this.selectDateSegment(n[0][0]),(o||e)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}emitFocus(n){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(n)}emitBlur(n){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(n)}updateIncompleteValidationStatus(){const n=this.isDateIncomplete;this.isDateIncomplete=this.kendoDate.hasValue()&&null===this.value,n!==this.isDateIncomplete&&this.incompleteDateValidation&&(ge(this.ngControl)&&!ge(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):ge(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}};Ae.\u0275fac=function(n){return new(n||Ae)(i.Y36(i.sBO),i.Y36(Oe.aJ),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.zs3),i.Y36(I),i.Y36(sn,8))},Ae.\u0275cmp=i.Xpm({type:Ae,selectors:[["kendo-dateinput"]],viewQuery:function(n,e){if(1&n&&(i.Gf(Y8,7),i.Gf($8,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.dateInput=o.first),i.iGM(o=i.CRH())&&(e.wrap=o.first)}},hostVars:6,hostBindings:function(n,e){2&n&&i.ekj("k-widget",e.wrapperClass)("k-dateinput",e.wrapperClass)("k-state-disabled",e.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",steps:"steps",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",incompleteDateValidation:"incompleteDateValidation",twoDigitYearMax:"twoDigitYearMax",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[i._Bn([{provide:X.JU,useExisting:(0,i.Gpc)(()=>ld),multi:!0},{provide:X.Cf,useExisting:(0,i.Gpc)(()=>ld),multi:!0},{provide:Fe,useValue:"kendo.dateinput"},{provide:qe,useExisting:(0,i.Gpc)(()=>ld)},I]),i.TTD],decls:6,vars:21,consts:function(){let t,n;return t=$localize`:kendo.dateinput.increment|The label for the **Increment** button in the DateInput␟a55944f9de69e7cc86b91200fe96f980a947d704␟589112377451589685:Increase value`,n=$localize`:kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput␟0eded761107e6dad120997006a7f915bade9b15c␟6980524091606682769:Decrease value`,[["kendoDateInputLocalizedMessages","","increment",t,"decrement",n],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i._UZ(3,"input",3,4),i.YNc(5,J8,5,8,"span",5),i.qZA()),2&n&&(i.xp6(3),i.Q6J("id",e.focusableId)("title",e.title)("tabindex",e.tabindex)("disabled",e.disabled)("readonly",e.readonly)("placeholder",e.placeholder)("kendoEventsOutsideAngular",i.Hh0(13,j8,e.handleClick,e.handleFocus,e.handleMousedown,e.handleMousedown,e.handleDragAndDrop,e.handleDragAndDrop,e.handleBlur))("scope",e),i.uIk("role",e.role)("aria-readonly",e.ariaReadOnly)("aria-expanded",e.isPopupOpen)("aria-haspopup",e.hasPopup),i.xp6(2),i.Q6J("ngIf",e.spinners))},directives:function(){return[ia,kt,x.O5]},encapsulation:2,changeDetection:0}),v([(0,i.IIB)(),g("design:type",String)],Ae.prototype,"focusableId",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"readonly",void 0),v([(0,i.IIB)(),g("design:type",String)],Ae.prototype,"title",void 0),v([(0,i.IIB)(),g("design:type",Number)],Ae.prototype,"tabindex",void 0),v([(0,i.IIB)(),g("design:type",String)],Ae.prototype,"role",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"ariaReadOnly",void 0),v([(0,i.IIB)(),g("design:type",Number),g("design:paramtypes",[Number])],Ae.prototype,"tabIndex",null),v([(0,i.IIB)(),g("design:type",Object)],Ae.prototype,"format",void 0),v([(0,i.IIB)(),g("design:type",Object)],Ae.prototype,"formatPlaceholder",void 0),v([(0,i.IIB)(),g("design:type",String)],Ae.prototype,"placeholder",void 0),v([(0,i.IIB)(),g("design:type",Object)],Ae.prototype,"steps",void 0),v([(0,i.IIB)(),g("design:type",Date)],Ae.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Date)],Ae.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"rangeValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"autoCorrect",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"incompleteDateValidation",void 0),v([(0,i.IIB)(),g("design:type",Number)],Ae.prototype,"twoDigitYearMax",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],Ae.prototype,"value",null),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"spinners",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"isPopupOpen",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ae.prototype,"hasPopup",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],Ae.prototype,"valueChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],Ae.prototype,"valueUpdate",void 0),v([(0,i.r_U)("focus"),g("design:type",i.vpe)],Ae.prototype,"onFocus",void 0),v([(0,i.r_U)("blur"),g("design:type",i.vpe)],Ae.prototype,"onBlur",void 0),v([(0,i.i9L)("dateInput",{static:!0}),g("design:type",i.SBq)],Ae.prototype,"dateInput",void 0),v([(0,i.i9L)("wrap",{static:!1}),g("design:type",i.SBq)],Ae.prototype,"wrap",void 0),v([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-dateinput"),g("design:type",Boolean),g("design:paramtypes",[])],Ae.prototype,"wrapperClass",null),v([(0,i.pfw)("class.k-state-disabled"),g("design:type",Boolean),g("design:paramtypes",[])],Ae.prototype,"disabledClass",null),Ae=ld=v([Vn(7,(0,i.FiY)()),g("design:paramtypes",[i.sBO,Oe.aJ,i.Qsj,i.SBq,i.R0b,i.zs3,I,sn])],Ae);class xh{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const us=new i.OlP("dateinputs-touch-enabled"),fI=t=>n=>t&&n.value&&t(n.value)?{disabledDate:!0}:null;var cd;let de=cd=class{constructor(n,e,o,s,r,a,l,d,c,p){this.zone=n,this.localization=e,this.cdr=o,this.popupService=s,this.element=r,this.renderer=a,this.injector=l,this.pickerService=d,this.disabledDatesService=c,this.touchEnabled=p,this.focusableId=`k-${Ve()}`,this.activeView=se[se.month],this.bottomView=se[se.month],this.topView=se[se.century],this.calendarType="infinite",this.animateCalendarNavigation=!1,this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=q(so),this.max=q(ro),this.incompleteDateValidation=!1,this.focusedDate=null,this.format="d",this.twoDigitYearMax=68,this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.open=new i.vpe,this.close=new i.vpe,this.wrapperClasses=!0,this.popupUID=Ve(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=Ce,this.onControlTouched=Ce,this.onValidatorChange=Ce,this.minValidateFn=Ce,this.maxValidateFn=Ce,this.disabledDatesValidateFn=Ce,this.incompleteValidator=Ce,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],(0,lt.s)(Nl),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(n){this.cellTemplate=n}set monthCellTemplateRef(n){this.monthCellTemplate=n}set yearCellTemplateRef(n){this.yearCellTemplate=n}set decadeCellTemplateRef(n){this.decadeCellTemplate=n}set centuryCellTemplateRef(n){this.centuryCellTemplate=n}set weekNumberTemplateRef(n){this.weekNumberTemplate=n}set headerTitleTemplateRef(n){this.headerTitleTemplate=n}set navigationItemTemplateRef(n){this.navigationItemTemplate=n}set popupSettings(n){this._popupSettings=Object.assign({},{animate:!0},n)}get popupSettings(){return this._popupSettings}set value(n){this.verifyValue(n),this._value=q(n)}get value(){return this._value}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}set disabledDates(n){this._disabledDates=n,this.disabledDatesService.initialize(n)}get disabledDates(){return this._disabledDates}get disabledClass(){return this.disabled}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get isActive(){return this._active}set isActive(n){if(this._active=n,!this.wrapper)return;const e=this.wrapper.nativeElement;n?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused")}get show(){return this._show}set show(n){n&&(this.disabled||this.readonly)||(n||this._show&&ne(this.close)?this.zone.run(()=>{this.togglePopup(n)}):this.togglePopup(n))}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(X.a5,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(n){this.verifySettings(),(n.min||n.max||n.rangeValidation||n.disabledDatesValidation||n.disabledDates||n.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?sd(this.min):Ce,this.maxValidateFn=this.rangeValidation?rd(this.max):Ce,this.disabledDatesValidateFn=this.disabledDatesValidation?fI(this.disabledDatesService.isDateDisabled):Ce,this.incompleteValidator=this.incompleteDateValidation?kh():Ce,this.onValidatorChange())}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(n=>n()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(n){this.verifyValue(n),this.value=q(n),this.cdr.markForCheck(),!n&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(n))}registerOnChange(n){this.onControlChange=n}registerOnTouched(n){this.onControlTouched=n}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}validate(n){return this.minValidateFn(n)||this.maxValidateFn(n)||this.disabledDatesValidateFn(n)||this.incompleteValidator(n,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(n){this.onValidatorChange=n}focus(){this.input.focus()}blur(){(this.calendar||this.input).blur()}toggle(n){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===n?!this.show:n)})}handleIconClick(n){this.disabled||this.readonly||(n.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleMousedown(n){n.preventDefault()}handleChange(n){this.cdr.markForCheck(),this.focusInput(),this.value=n,this.show=!1,this.onControlChange(q(n)),this.valueChange.emit(q(n))}handleInputChange(n){this.handleChange(this.input.formatSections.time?n:this.mergeTime(n))}get popupClasses(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}mergeTime(n){return this.value&&n?Mo(n,this.value):n}handleKeydown(n){const{altKey:e,keyCode:o}=n;o===R.Escape&&(this.show=!1),e&&(o===R.ArrowDown&&!this.show&&(this.show=!0),o===R.ArrowUp&&(this.show=!1)),o===R.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}togglePopup(n){const e=new xh;!this._show&&n?this.open.emit(e):this._show&&!n&&this.close.emit(e),!e.isDefaultPrevented()&&(this._toggle(n),this.toggleFocus())}_toggle(n){if(n!==this._show)if(this._show=n,n){const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:e},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:e},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){!this.isActive||(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifySettings(){if((0,i.X6Q)()&&!Pv(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(n){if((0,i.X6Q)()&&n&&!(n instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),gh()&&(this.windowBlurSubscription=(0,mt.R)(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,ne(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){!this.isOpen||(this.show=!1)}handleBlur(n){const e=n&&Lv(n);e&&(this.input.containsElement(e)||this.calendar&&this.calendar.containsElement(e))||(ne(this.onBlur)||this.show&&ne(this.close)||dh(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}};de.\u0275fac=function(n){return new(n||de)(i.Y36(i.R0b),i.Y36(I),i.Y36(i.sBO),i.Y36($e),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.zs3),i.Y36(sn),i.Y36(ji),i.Y36(us,8))},de.\u0275cmp=i.Xpm({type:de,selectors:[["kendo-datepicker"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,yi,5),i.Suo(o,bi,5),i.Suo(o,Ci,5),i.Suo(o,wi,5),i.Suo(o,Si,5),i.Suo(o,Ii,5),i.Suo(o,ki,5),i.Suo(o,Bo,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.cellTemplate=s.first),i.iGM(s=i.CRH())&&(e.monthCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.yearCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.decadeCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.centuryCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.weekNumberTemplate=s.first),i.iGM(s=i.CRH())&&(e.headerTitleTemplate=s.first),i.iGM(s=i.CRH())&&(e.navigationItemTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(ch,7,i.s_b),i.Gf(Rv,7),i.Gf(Av,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first)}},hostVars:6,hostBindings:function(n,e){2&n&&i.ekj("k-widget",e.wrapperClasses)("k-datepicker",e.wrapperClasses)("k-state-disabled",e.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",focusedDate:"focusedDate",format:"format",twoDigitYearMax:"twoDigitYearMax",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[i._Bn([{provide:X.JU,useExisting:(0,i.Gpc)(()=>cd),multi:!0},{provide:X.Cf,useExisting:(0,i.Gpc)(()=>cd),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>cd)},I,sn,ji,{provide:Fe,useValue:"kendo.datepicker"}]),i.TTD],decls:11,vars:26,consts:function(){let t,n,e,o;return t=$localize`:kendo.datepicker.today|The label for the today button in the calendar header␟c8af34428eb25c8f689f0c19a9300394b07b5be3␟5799873230514803381:Today`,n=$localize`:kendo.datepicker.toggle|The title of the toggle button in the datepicker component␟f6c28c2d80dbe993c4b33f4dc4010364f41cc2ae␟4817467473728423164:Toggle calendar`,e=$localize`:kendo.datepicker.prevButtonTitle|The title of the previous button in the Classic calendar␟b24bedd31916ff8439cd7e3c46cbdabea3409dd1␟1741914107549506055:Navigate to previous view`,o=$localize`:kendo.datepicker.nextButtonTitle|The title of the next button in the Classic calendar␟2f0e2a91beb7149035e42bd0d6663e8903dc3852␟3363484587807059211:Navigate to next view`,[["kendoDatePickerLocalizedMessages","","today",t,"toggle",n,"prevButtonTitle",e,"nextButtonTitle",o],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","twoDigitYearMax","formatPlaceholder","placeholder","min","max","incompleteDateValidation","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"type","min","max","navigation","animateNavigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today","prevButtonTitle","nextButtonTitle"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.TgZ(3,"kendo-dateinput",3,4),i.NdJ("valueChange",function(s){return e.handleInputChange(s)}),i.qZA(),i.TgZ(5,"span",5),i._UZ(6,"span",6),i.qZA(),i.qZA(),i.GkF(7,null,7),i.YNc(9,Z8,4,27,"ng-template",null,8,i.W1O)),2&n&&(i.xp6(1),i.ekj("k-state-disabled",e.disabled),i.xp6(2),i.Q6J("role",e.inputRole)("focusableId",e.focusableId)("hasPopup",!0)("isPopupOpen",e.show)("disabled",e.disabled)("readonly",e.readonly||e.readOnlyInput)("ariaReadOnly",e.readonly)("tabindex",e.tabindex)("title",e.title)("format",e.format)("twoDigitYearMax",e.twoDigitYearMax)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("incompleteDateValidation",e.incompleteDateValidation)("value",e.value),i.xp6(2),i.Q6J("kendoEventsOutsideAngular",i.WLB(23,j1,e.handleIconClick,e.handleMousedown))("scope",e),i.uIk("title",e.localization.get("toggle"))("aria-label",e.localization.get("toggle")))},directives:function(){return[na,Ae,kt,ad,Qs]},encapsulation:2,changeDetection:0}),v([(0,i.i9L)("container",{read:i.s_b,static:!0}),g("design:type",i.s_b)],de.prototype,"container",void 0),v([(0,i.i9L)("popupTemplate",{static:!0}),g("design:type",i.Rgc)],de.prototype,"popupTemplate",void 0),v([(0,i.i9L)("wrapper",{static:!1}),g("design:type",i.SBq)],de.prototype,"wrapper",void 0),v([(0,i.aQ5)(yi,{static:!1}),g("design:type",yi)],de.prototype,"cellTemplate",void 0),v([(0,i.IIB)("cellTemplate"),g("design:type",yi),g("design:paramtypes",[yi])],de.prototype,"cellTemplateRef",null),v([(0,i.aQ5)(bi,{static:!1}),g("design:type",bi)],de.prototype,"monthCellTemplate",void 0),v([(0,i.IIB)("monthCellTemplate"),g("design:type",bi),g("design:paramtypes",[bi])],de.prototype,"monthCellTemplateRef",null),v([(0,i.aQ5)(Ci,{static:!1}),g("design:type",Ci)],de.prototype,"yearCellTemplate",void 0),v([(0,i.IIB)("yearCellTemplate"),g("design:type",Ci),g("design:paramtypes",[Ci])],de.prototype,"yearCellTemplateRef",null),v([(0,i.aQ5)(wi,{static:!1}),g("design:type",wi)],de.prototype,"decadeCellTemplate",void 0),v([(0,i.IIB)("decadeCellTemplate"),g("design:type",wi),g("design:paramtypes",[wi])],de.prototype,"decadeCellTemplateRef",null),v([(0,i.aQ5)(Si,{static:!1}),g("design:type",Si)],de.prototype,"centuryCellTemplate",void 0),v([(0,i.IIB)("centuryCellTemplate"),g("design:type",Si),g("design:paramtypes",[Si])],de.prototype,"centuryCellTemplateRef",null),v([(0,i.aQ5)(Ii,{static:!1}),g("design:type",Ii)],de.prototype,"weekNumberTemplate",void 0),v([(0,i.IIB)("weekNumberTemplate"),g("design:type",Ii),g("design:paramtypes",[Ii])],de.prototype,"weekNumberTemplateRef",null),v([(0,i.aQ5)(ki,{static:!1}),g("design:type",ki)],de.prototype,"headerTitleTemplate",void 0),v([(0,i.IIB)("headerTitleTemplate"),g("design:type",ki),g("design:paramtypes",[ki])],de.prototype,"headerTitleTemplateRef",null),v([(0,i.aQ5)(Bo,{static:!1}),g("design:type",Bo)],de.prototype,"navigationItemTemplate",void 0),v([(0,i.IIB)("navigationItemTemplate"),g("design:type",Bo),g("design:paramtypes",[Bo])],de.prototype,"navigationItemTemplateRef",null),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"focusableId",void 0),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"bottomView",void 0),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"topView",void 0),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"calendarType",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"animateCalendarNavigation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"readonly",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"readOnlyInput",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],de.prototype,"popupSettings",null),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"navigation",void 0),v([(0,i.IIB)(),g("design:type",Date)],de.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],de.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"incompleteDateValidation",void 0),v([(0,i.IIB)(),g("design:type",Date)],de.prototype,"focusedDate",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],de.prototype,"value",null),v([(0,i.IIB)(),g("design:type",Object)],de.prototype,"format",void 0),v([(0,i.IIB)(),g("design:type",Number)],de.prototype,"twoDigitYearMax",void 0),v([(0,i.IIB)(),g("design:type",Object)],de.prototype,"formatPlaceholder",void 0),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"placeholder",void 0),v([(0,i.IIB)(),g("design:type",Number)],de.prototype,"tabindex",void 0),v([(0,i.IIB)(),g("design:type",Number),g("design:paramtypes",[Number])],de.prototype,"tabIndex",null),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],de.prototype,"disabledDates",null),v([(0,i.IIB)(),g("design:type",String)],de.prototype,"title",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"rangeValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"disabledDatesValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],de.prototype,"weekNumber",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],de.prototype,"valueChange",void 0),v([(0,i.r_U)("focus"),g("design:type",i.vpe)],de.prototype,"onFocus",void 0),v([(0,i.r_U)("blur"),g("design:type",i.vpe)],de.prototype,"onBlur",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],de.prototype,"open",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],de.prototype,"close",void 0),v([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-datepicker"),g("design:type",Boolean)],de.prototype,"wrapperClasses",void 0),v([(0,i.pfw)("class.k-state-disabled"),g("design:type",Boolean),g("design:paramtypes",[])],de.prototype,"disabledClass",null),de=cd=v([Vn(9,(0,i.FiY)()),Vn(9,(0,i.tBr)(us)),g("design:paramtypes",[i.R0b,I,i.sBO,$e,i.SBq,i.Qsj,i.zs3,sn,ji,Boolean])],de);var dd;const kz=new RegExp("hour|minute|second|millisecond|dayperiod|literal");let Ye=dd=class{constructor(n,e,o,s,r,a,l,d,c,p){this.zone=n,this.localization=e,this.cdr=o,this.popupService=s,this.element=r,this.renderer=a,this.injector=l,this.pickerService=d,this.intl=c,this.touchEnabled=p,this.focusableId=`k-${Ve()}`,this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.format="t",this.placeholder=null,this.incompleteDateValidation=!1,this.cancelButton=!0,this.nowButton=!0,this.tabindex=0,this.title="",this.rangeValidation=!0,this.valueChange=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.open=new i.vpe,this.close=new i.vpe,this.wrapperClasses=!0,this.popupUID=Ve(),this.onControlChange=Ce,this.onControlTouched=Ce,this.onValidatorChange=Ce,this.resolvedPromise=Promise.resolve(null),this.timeRangeValidateFn=Ce,this.incompleteValidator=Ce,this._min=q(Ll),this._max=q(Qr),this._popupSettings={animate:!0},this._show=!1,this._steps={},this._value=null,this._active=!1,this.domEvents=[],(0,lt.s)(Nl),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set min(n){this._min=q(n||Ll)}get min(){return this._min}set max(n){this._max=q(n||Qr)}get max(){return this._max}set steps(n){this._steps=n||{}}get steps(){return this._steps}set popupSettings(n){this._popupSettings=Object.assign({},{animate:!0},n)}get popupSettings(){return this._popupSettings}set tabIndex(n){this.tabindex=n}get tabIndex(){return this.tabindex}set value(n){this.verifyValue(n),this._value=q(n)}get value(){return this._value}get disabledClass(){return this.disabled}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get isActive(){return this._active}set isActive(n){if(this._active=n,!this.wrapper)return;const e=this.wrapper.nativeElement;n?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused")}get show(){return this._show}set show(n){n&&(this.disabled||this.readonly)||(n||this._show&&ne(this.close)?this.zone.run(()=>{this.togglePopup(n)}):this.togglePopup(n))}get input(){return this.pickerService.input}get timeSelector(){return this.pickerService.timeSelector}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(X.a5,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(n){(n.min||n.max||n.rangeValidation||n.incompleteDateValidation)&&(this.timeRangeValidateFn=this.rangeValidation?((t,n)=>e=>{if(!t||!n||!e.value)return null;const o={timeRangeError:{maxValue:n,minValue:t,value:e.value}};return X1(e.value,t,n)?null:o})(this.min,this.max):Ce,this.incompleteValidator=this.incompleteDateValidation?kh():Ce,this.onValidatorChange()),n.format&&this.verifyFormat()}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(n=>n()),this.pickerSubscriptions.unsubscribe()}handleKeydown(n){const{altKey:e,keyCode:o}=n;o!==R.Escape?e&&(o===R.ArrowUp&&(this.show=!1),o===R.ArrowDown&&!this.show&&(this.show=!0)):this.show=!1}writeValue(n){this.verifyValue(n),this.value=q(n),this.cdr.markForCheck(),!n&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(n))}registerOnChange(n){this.onControlChange=n}registerOnTouched(n){this.onControlTouched=n}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}validate(n){return this.timeRangeValidateFn(n)||this.incompleteValidator(n,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(n){this.onValidatorChange=n}focus(){this.input.focus()}blur(){(this.timeSelector||this.input).blur()}toggle(n){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===n?!this.show:n)})}get isOpen(){return this.show}get appendTo(){const{appendTo:n}=this.popupSettings;if(n&&"root"!==n)return"component"===n?this.container:n}handleChange(n){if(gt(this.value,n))return this.focusInput(),void(this.show=!1);this.value=q(n),this.zone.run(()=>{this.focusInput(),this.show=!1,this.onControlChange(q(n)),this.valueChange.emit(q(n))})}handleReject(){this.show=!1}handleInputChange(n){const e=this.input.formatSections.date?n:this.mergeTime(n);this.handleChange(e)}handleMousedown(n){n.preventDefault()}handleIconClick(n){this.disabled||this.readonly||(n.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show)}get popupClasses(){return["k-group","k-reset"].concat(this.popupSettings.popupClass||[])}normalizeTime(n){return Mo(Do,n)}mergeTime(n){return this.value&&n?Mo(this.value,n):n}togglePopup(n){const e=new xh;!this._show&&n?this.open.emit(e):this._show&&!n&&this.close.emit(e),!e.isDefaultPrevented()&&(this._toggle(n),this.toggleFocus())}_toggle(n){if(n!==this.isOpen)if(this._show=n,this.cdr.markForCheck(),n){const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:e},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:e},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){!this.isActive||(this.show?(this.timeSelector||this.cdr.detectChanges(),this.isActive&&this.timeSelector.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifyValue(n){if((0,i.X6Q)()&&n&&!(n instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/timepicker/#toc-integration-with-json for possible resolution.")}verifyFormat(){if((0,i.X6Q)()&&this.intl.splitDateFormat(this.format).some(e=>!kz.test(e.type)))throw new Error("Provided format is not supported. Supported specifiers are T|t|H|h|m|s|S|a. See https://github.com/telerik/kendo-intl/blob/master/docs/date-formatting/index.md")}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),gh()&&(this.windowBlurSubscription=(0,mt.R)(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleWindowBlur(){!this.isOpen||(this.show=!1)}handleFocus(){this.isActive||(this.isActive=!0,ne(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleBlur(n){const e=n&&Lv(n);e&&(this.input.containsElement(e)||this.timeSelector&&this.timeSelector.containsElement(e))||(ne(this.onBlur)||this.show&&ne(this.close)||dh(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.onControlTouched(),this.onBlur.emit()}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}};var ud;Ye.\u0275fac=function(n){return new(n||Ye)(i.Y36(i.R0b),i.Y36(I),i.Y36(i.sBO),i.Y36($e),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.zs3),i.Y36(sn),i.Y36(Oe.aJ),i.Y36(us,8))},Ye.\u0275cmp=i.Xpm({type:Ye,selectors:[["kendo-timepicker"]],viewQuery:function(n,e){if(1&n&&(i.Gf(ch,5,i.s_b),i.Gf(Rv,5),i.Gf(Av,5)),2&n){let o;i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first),i.iGM(o=i.CRH())&&(e.wrapper=o.first)}},hostVars:6,hostBindings:function(n,e){2&n&&i.ekj("k-widget",e.wrapperClasses)("k-timepicker",e.wrapperClasses)("k-state-disabled",e.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",format:"format",placeholder:"placeholder",incompleteDateValidation:"incompleteDateValidation",cancelButton:"cancelButton",nowButton:"nowButton",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",min:"min",max:"max",steps:"steps",popupSettings:"popupSettings",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-timepicker"],features:[i._Bn([{provide:X.JU,useExisting:(0,i.Gpc)(()=>dd),multi:!0},{provide:X.Cf,useExisting:(0,i.Gpc)(()=>dd),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>dd)},I,{provide:Fe,useValue:"kendo.timepicker"},sn]),i.TTD],decls:11,vars:26,consts:function(){let t,n,e,o,s,r,a;return t=$localize`:kendo.timepicker.accept|The Accept button text in the timepicker component␟4c3bf42192220c7611c09ece1c5de14855139dd0␟7519663530416240229:Set`,n=$localize`:kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component␟93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222␟4355879331538595758:Set time`,e=$localize`:kendo.timepicker.cancel|The Cancel button text in the timepicker component␟132eefca16bd41d489b4647724b91e93793603aa␟1086687567255473060:Cancel`,o=$localize`:kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component␟2cf6f4ca4470810944b4016c9b6f87943d3390ab␟83621966901491941:Cancel changes`,s=$localize`:kendo.timepicker.now|The Now button text in the timepicker component␟bbc99bb74ae75a503bd813aad0c7253d3553e923␟5912507758515138116:Now`,r=$localize`:kendo.timepicker.nowLabel|The label for the Now button in the timepicker component␟df1a696f318275aa934e27850920889d494c2740␟371982627910576599:Select now`,a=$localize`:kendo.timepicker.toggle|The label for the toggle button in the timepicker component␟f2c196786ed2d3ecb2369750c36aac9a4053fb30␟6938407659294495526:Toggle time list`,[["kendoTimePickerLocalizedMessages","","accept",t,"acceptLabel",n,"cancel",e,"cancelLabel",o,"now",s,"nowLabel",r,"toggle",a],[1,"k-picker-wrap"],["wrapper",""],[3,"focusableId","hasPopup","isPopupOpen","disabled","readonly","role","ariaReadOnly","format","formatPlaceholder","placeholder","min","max","incompleteDateValidation","steps","tabindex","title","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-clock"],["popupTemplate",""],["container",""],[3,"cancelButton","nowButton","format","min","max","steps","value","kendoEventsOutsideAngular","scope","valueChange","valueReject"],["timeSelector",""],[3,"acceptLabel","accept","cancelLabel","cancel","nowLabel","now"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.TgZ(3,"kendo-dateinput",3,4),i.NdJ("valueChange",function(s){return e.handleInputChange(s)}),i.qZA(),i.TgZ(5,"span",5),i._UZ(6,"span",6),i.qZA(),i.YNc(7,Q8,3,18,"ng-template",null,7,i.W1O),i.qZA(),i.GkF(9,null,8)),2&n&&(i.xp6(1),i.ekj("k-state-disabled",e.disabled),i.xp6(2),i.Q6J("focusableId",e.focusableId)("hasPopup",!0)("isPopupOpen",e.show)("disabled",e.disabled)("readonly",e.readonly||e.readOnlyInput)("role",e.inputRole)("ariaReadOnly",e.readonly)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.normalizeTime(e.min))("max",e.normalizeTime(e.max))("incompleteDateValidation",e.incompleteDateValidation)("steps",e.steps)("tabindex",e.show?-1:e.tabindex)("title",e.title)("value",e.value),i.xp6(2),i.Q6J("kendoEventsOutsideAngular",i.WLB(23,j1,e.handleIconClick,e.handleMousedown))("scope",e),i.uIk("title",e.localization.get("toggle"))("aria-label",e.localization.get("toggle")))},directives:function(){return[Ks,Ae,kt,w_,ps]},encapsulation:2,changeDetection:0}),v([(0,i.i9L)("container",{read:i.s_b,static:!1}),g("design:type",i.s_b)],Ye.prototype,"container",void 0),v([(0,i.i9L)("popupTemplate",{static:!1}),g("design:type",i.Rgc)],Ye.prototype,"popupTemplate",void 0),v([(0,i.i9L)("wrapper",{static:!1}),g("design:type",i.SBq)],Ye.prototype,"wrapper",void 0),v([(0,i.IIB)(),g("design:type",String)],Ye.prototype,"focusableId",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"readonly",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"readOnlyInput",void 0),v([(0,i.IIB)(),g("design:type",String)],Ye.prototype,"format",void 0),v([(0,i.IIB)(),g("design:type",Object)],Ye.prototype,"formatPlaceholder",void 0),v([(0,i.IIB)(),g("design:type",String)],Ye.prototype,"placeholder",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],Ye.prototype,"min",null),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],Ye.prototype,"max",null),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"incompleteDateValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"cancelButton",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"nowButton",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],Ye.prototype,"steps",null),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],Ye.prototype,"popupSettings",null),v([(0,i.IIB)(),g("design:type",Number)],Ye.prototype,"tabindex",void 0),v([(0,i.IIB)(),g("design:type",Number),g("design:paramtypes",[Number])],Ye.prototype,"tabIndex",null),v([(0,i.IIB)(),g("design:type",String)],Ye.prototype,"title",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],Ye.prototype,"rangeValidation",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],Ye.prototype,"value",null),v([(0,i.r_U)(),g("design:type",i.vpe)],Ye.prototype,"valueChange",void 0),v([(0,i.r_U)("focus"),g("design:type",i.vpe)],Ye.prototype,"onFocus",void 0),v([(0,i.r_U)("blur"),g("design:type",i.vpe)],Ye.prototype,"onBlur",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],Ye.prototype,"open",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],Ye.prototype,"close",void 0),v([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-timepicker"),g("design:type",Boolean)],Ye.prototype,"wrapperClasses",void 0),v([(0,i.pfw)("class.k-state-disabled"),g("design:type",Boolean),g("design:paramtypes",[])],Ye.prototype,"disabledClass",null),Ye=dd=v([Vn(9,(0,i.FiY)()),Vn(9,(0,i.tBr)(us)),g("design:paramtypes",[i.R0b,I,i.sBO,$e,i.SBq,i.Qsj,i.zs3,sn,Oe.aJ,Boolean])],Ye);const gI=new RegExp("hour|minute|second|dayperiod|literal"),s_="date";let De=ud=class{constructor(n,e,o,s,r,a,l,d,c,p){this.popupService=n,this.intl=e,this.cdr=o,this.pickerService=s,this.ngZone=r,this.host=a,this.touchEnabled=l,this.localization=d,this.disabledDatesService=c,this.renderer=p,this.hostClasses=!0,this.twoDigitYearMax=68,this.focusableId=`k-${Ve()}`,this.title="",this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.cancelButton=!0,this.steps={},this.calendarType="infinite",this.animateCalendarNavigation=!1,this.weekNumber=!1,this.rangeValidation=!0,this.disabledDatesValidation=!0,this.incompleteDateValidation=!1,this.valueChange=new i.vpe,this.open=new i.vpe,this.close=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.activeTab=s_,this.timeSelectorFormat="t",this.timeSelectorMin=q(Ll),this.timeSelectorMax=q(Qr),this.calendarValue=null,this.calendarMin=q(so),this.calendarMax=tI(ro),this._popupSettings={animate:!0},this._value=null,this._format="g",this._tabindex=0,this._defaultTab=s_,this._min=Vv(so,Ll),this._max=Vv(ro,Qr),this._isActive=!1,this.onControlTouched=Ce,this.onControlChange=Ce,this.onValidatorChange=Ce,this.minValidateFn=Ce,this.maxValidateFn=Ce,this.disabledDatesValidateFn=Ce,this.incompleteValidator=Ce,this.subscriptions=new Ie.w,(0,lt.s)(Nl)}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get timeSelector(){return this.pickerService.timeSelector}set value(n){this.verifyValue(n),this._value=q(n),this.setCalendarValue(n),this.cdr.markForCheck()}get value(){return this._value}set format(n){this._format=n;const e=this.getDisplayFormat(n);this.timeSelectorFormat=this.getTimeSelectorFormat(e)}get format(){return this._format}set tabindex(n){const e=Number(n);this._tabindex=isNaN(e)?0:e}get tabindex(){return this.disabled?-1:this._tabindex}set disabledDates(n){this._disabledDates=n,this.disabledDatesService.initialize(n)}get disabledDates(){return this._disabledDates}set popupSettings(n){this._popupSettings=Object.assign({},{animate:!0},n)}get popupSettings(){return this._popupSettings}set min(n){!ge(n)||(this._min=q(n),this.calendarMin=Ct(n))}get min(){return this._min}set max(n){!ge(n)||(this._max=q(n),this.calendarMax=tI(n))}get max(){return this._max}get isOpen(){return ge(this.popupRef)}get isActive(){return this._isActive}set isActive(n){n?this.renderer.addClass(this.wrapper.nativeElement,"k-state-focused"):this.renderer.removeClass(this.wrapper.nativeElement,"k-state-focused"),this._isActive=n}set defaultTab(n){this._defaultTab=n||s_,this.activeTab=this.defaultTab}get defaultTab(){return this._defaultTab}get tabSwitchTransition(){return this.isOpen?null:"none"}get disableCalendar(){return"date"!==this.activeTab&&!this.calendar.isActive}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get disableTimeSelector(){return"time"!==this.activeTab&&!this.timeSelector.isActive}get activeTabComponent(){if(this.isOpen)return ge(this.calendar)||ge(this.timeSelector)||this.cdr.detectChanges(),"date"===this.activeTab?this.calendar:this.timeSelector}get appendTo(){const{appendTo:n}=this.popupSettings;if(ge(n)&&"root"!==n)return"component"===n?this.container:n}ngOnInit(){this.subscriptions.add(this.pickerService.onFocus.pipe((0,ze.b)(this.detectPopupChanges.bind(this))).subscribe(this.handleFocus.bind(this))),this.subscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.subscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleCalendarValueChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.subscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this))),gh()&&this.subscriptions.add(this.ngZone.runOutsideAngular(()=>(0,mt.R)(window,"blur").subscribe(this.handleCancel.bind(this))))}ngOnChanges(n){(ge(n.min)||ge(n.max))&&this.verifyMinMaxRange(),(n.min||n.max||n.rangeValidation||n.disabledDatesValidation||n.disabledDates||n.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?sd(this.min):Ce,this.maxValidateFn=this.rangeValidation?rd(this.max):Ce,this.disabledDatesValidateFn=this.disabledDatesValidation?fI(this.disabledDatesService.isDateDisabled):Ce,this.incompleteValidator=this.incompleteDateValidation?kh():Ce,this.onValidatorChange())}ngOnDestroy(){this.isOpen&&this.closePopup(),this.subscriptions.unsubscribe()}focus(){this.disabled||(this.isOpen?this.activeTabComponent.focus():this.input.focus())}blur(){this.isOpen&&this.activeTabComponent.isActive?this.activeTabComponent.blur():this.input.blur()}toggle(n){this.disabled||this.readonly||n===this.isOpen||((ge(n)?n:!this.isOpen)?this.openPopup():(this.closePopup(),this.activeTab!==this.defaultTab&&(this.activeTab=this.defaultTab,this.cdr.detectChanges())))}writeValue(n){this.value=n}registerOnChange(n){this.onControlChange=n}registerOnTouched(n){this.onControlTouched=n}setDisabledState(n){this.disabled=n,this.cdr.markForCheck()}validate(n){return this.minValidateFn(n)||this.maxValidateFn(n)||this.disabledDatesValidateFn(n)||this.incompleteValidator(n,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(n){this.onValidatorChange=n}isEmpty(){return!ge(this.value)&&this.input.isEmpty()}handleIconClick(n){if(this.disabled||this.readonly)return;n.preventDefault();const e=!this.isOpen||ne(this.close);this.run(e,()=>{const o=!this.isOpen;this.handleFocus(),this.togglePopup(o),this.switchFocus()})}handleFocus(){this.isActive||(this.isActive=!0,ne(this.onFocus)&&this.ngZone.run(()=>this.onFocus.emit()))}handleBlur(n){if(!this.isActive||this.focusTargetInComponent(n))return;this.isActive=!1;const o=this.host.nativeElement.classList.contains("ng-untouched")||ne(this.onBlur)||this.isOpen&&ne(this.close);this.run(o,()=>{this.onBlur.emit(),this.onControlTouched(),this.togglePopup(!1),this.cdr.markForCheck()})}changeActiveTab(n){!this.isOpen||this.activeTab===n||(gt(this.timeSelector.value,this.timeSelector.current)||this.timeSelector.handleAccept(),this.activeTab=n,this.cdr.detectChanges(),this.detectPopupChanges())}handleTabChangeTransitionEnd(n,e){e.target===n&&this.activeTabComponent.focus()}handleAccept(){if(!this.isOpen)return;const n=Vv(this.calendar.value,this.timeSelector.current),o=!gt(this.value,n)||ne(this.close);this.run(o,()=>{this.handleValueChange(n),this.togglePopup(!1)})}handleCancel(){if(!this.isOpen)return;const n=ne(this.close);this.run(n,()=>this.togglePopup(!1))}handleInputValueChange(n){this.handleValueChange(n),this.isOpen&&this.togglePopup(!1)}handleCalendarValueChange(){this.setTimeSelectorMinMax(this.calendar.value),this.changeActiveTab("time")}handleKeyDown(n){if(this.disabled||this.readonly)return;const{keyCode:e,altKey:o}=n;switch(e){case o&&R.ArrowUp:case R.Escape:this.handleCancel();break;case!this.isOpen&&o&&R.ArrowDown:this.ngZone.run(()=>this.togglePopup(!0));break;case o&&R.ArrowRight:this.changeActiveTab("time");break;case o&&R.ArrowLeft:this.changeActiveTab("date");break;case this.isOpen&&this.timeSelector.isActive&&ge(this.calendarValue)&&R.Enter:this.handleAccept();break;default:return}n.preventDefault()}handleTabOut(n){const{keyCode:e,shiftKey:o,target:s}=n,r=ge(s.nextElementSibling)&&!s.nextElementSibling.disabled;e===R.Tab&&!o&&!r&&(this.input.focus(),this.handleCancel())}handleBackTabOut(n){const{keyCode:e,shiftKey:o}=n;e===R.Tab&&o&&this.input.focus()}preventMouseDown(n){n.preventDefault()}verifyValue(n){if((0,i.X6Q)()&&ge(n)&&!(n instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/integration-with-json/ for possible resolution.")}verifyMinMaxRange(){if((0,i.X6Q)()&&!Pv(this.min,this.max))throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/date-time-limits/.")}getTimeSelectorFormat(n){return this.intl.splitDateFormat(n).filter(this.timeFormatPartFilter).reduce((o,s)=>o+s.pattern,"")||"t"}getDisplayFormat(n){return n?"string"==typeof n?n:n.displayFormat:"g"}timeFormatPartFilter(n,e,o){const s=e>=1&&o[e-1];return gI.test(s&&"literal"===n.type?s.type:n.type)}togglePopup(n){if(n===this.isOpen)return;const e=new xh;n?this.open.emit(e):this.close.emit(e),!e.isDefaultPrevented()&&(this.toggle(n),this.switchFocus())}switchFocus(){!this.isActive||(this.isOpen?this.activeTabComponent.focus():this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}openPopup(){this.setCalendarValue(this.value),this.setTimeSelectorMinMax(this.value);const n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,content:this.popupTemplate,positionMode:"absolute",animate:this.popupSettings.animate,appendTo:this.appendTo,popupClass:`k-datetime-container ${this.popupSettings.popupClass||""}`,anchorAlign:{vertical:"bottom",horizontal:n},popupAlign:{vertical:"top",horizontal:n}}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.handleCancel())}closePopup(){!this.isOpen||(this.popupRef.close(),this.popupRef=null)}handleValueChange(n){gt(this.value,n)||(this.value=q(n),this.onControlChange(q(n)),this.valueChange.emit(q(n)))}focusTargetInComponent(n){if(!ge(n))return!1;const e=n.relatedTarget||document.activeElement,o=ge(this.popupRef)&&this.popupRef.popupElement.contains(e),s=this.wrapper.nativeElement.contains(e);return o||s}setTimeSelectorMinMax(n){const e=ge(n)&&gt(Ct(n),Ct(this.min));this.timeSelectorMin=q(e?this.min:Ll);const o=ge(n)&&gt(Ct(n),Ct(this.max));this.timeSelectorMax=q(o?this.max:Qr)}setCalendarValue(n){const e=ge(n)&&Xr(n,this.calendarMin,this.calendarMax);this.calendarValue=e?Ct(n):null}detectPopupChanges(){!this.isOpen||this.popupRef.popup.changeDetectorRef.detectChanges()}run(n,e){n?this.ngZone.run(()=>e()):e()}handleDateCompletenessChange(){this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())}};De.\u0275fac=function(n){return new(n||De)(i.Y36($e),i.Y36(Oe.aJ),i.Y36(i.sBO),i.Y36(sn),i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(us),i.Y36(I),i.Y36(ji),i.Y36(i.Qsj))},De.\u0275cmp=i.Xpm({type:De,selectors:[["kendo-datetimepicker"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,yi,5),i.Suo(o,bi,5),i.Suo(o,Ci,5),i.Suo(o,wi,5),i.Suo(o,Si,5),i.Suo(o,Ii,5),i.Suo(o,ki,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.cellTemplate=s.first),i.iGM(s=i.CRH())&&(e.monthCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.yearCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.decadeCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.centuryCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.weekNumberTemplate=s.first),i.iGM(s=i.CRH())&&(e.headerTitleTemplate=s.first)}},viewQuery:function(n,e){if(1&n&&(i.Gf(Av,7),i.Gf(ch,7,i.s_b),i.Gf(Rv,7,i.Rgc)),2&n){let o;i.iGM(o=i.CRH())&&(e.wrapper=o.first),i.iGM(o=i.CRH())&&(e.container=o.first),i.iGM(o=i.CRH())&&(e.popupTemplate=o.first)}},hostVars:4,hostBindings:function(n,e){2&n&&i.ekj("k-widget",e.hostClasses)("k-datetimepicker",e.hostClasses)},inputs:{twoDigitYearMax:"twoDigitYearMax",focusableId:"focusableId",title:"title",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",cancelButton:"cancelButton",steps:"steps",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",weekNumber:"weekNumber",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",incompleteDateValidation:"incompleteDateValidation",value:"value",format:"format",tabindex:"tabindex",disabledDates:"disabledDates",popupSettings:"popupSettings",min:"min",max:"max",defaultTab:"defaultTab",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",focusedDate:"focusedDate"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-datetimepicker"],features:[i._Bn([sn,I,ji,{provide:Fe,useValue:"kendo.datetimepicker"},{provide:X.JU,useExisting:(0,i.Gpc)(()=>ud),multi:!0},{provide:X.Cf,useExisting:(0,i.Gpc)(()=>ud),multi:!0},{provide:qe,useExisting:(0,i.Gpc)(()=>ud)}]),i.TTD],decls:11,vars:35,consts:function(){let t,n,e,o,s,r,a,l,d,c,p,m,f,y;return t=$localize`:kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header␟5bb17f81ae8dbc109499ce3792afffa6b7cef855␟3360129034450596425:Date`,n=$localize`:kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header␟2a400c9e364a4c6d83ac39b5513c962805db54b2␟1810540079817643910:Date tab`,e=$localize`:kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header␟e9b2b760a6916040e7520a9a2926d65de175944d␟3807284594201983607:Time`,o=$localize`:kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header␟13bf7e3a1036140119732c6d5952f7a20c22999e␟2577682127494513393:Time tab`,s=$localize`:kendo.datetimepicker.toggle|The title of the toggle button in the datetimepicker component␟60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a␟3159207801887264026:Toggle popup`,r=$localize`:kendo.datetimepicker.accept|The Accept button text in the datetimepicker component␟4359b59db7ded88e106ada877e744c71b188f8f9␟3915774704336012538:Set`,a=$localize`:kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component␟cbea4571cca81ad9767a6b29f0287d1f3f6372dc␟4770689705864890748:Set`,l=$localize`:kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component␟17ab795d6f7527dd962a309759ca58cb4edd7e52␟5100781969600382158:Cancel`,d=$localize`:kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component␟ba26795ab9f4c21d66b17549ba854a96fcdac1f9␟3535986227615756275:Cancel`,c=$localize`:kendo.datetimepicker.now|The Now button text in the timepicker component␟7172e7e9a1741f6b63439ec89e498c995cb23b0d␟5497093725885127701:NOW`,p=$localize`:kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component␟52d90641b26b1ce4c011cadf0437ce36c1dac1d5␟5046379108717037514:Select now`,m=$localize`:kendo.datetimepicker.today|The label for the today button in the calendar header␟9ef9db9ac4951523d519b989d223f507878c612d␟2570147067439993260:Today`,f=$localize`:kendo.datetimepicker.prevButtonTitle|The title of the previous button in the Classic calendar␟447d09c4ecfc2ab2b84d708f4c07fa0fcda85167␟6176055232586065404:Navigate to previous view`,y=$localize`:kendo.datetimepicker.nextButtonTitle|The title of the next button in the Classic calendar␟80fd3325bfe94a180fd27391f2245c024472ec58␟6424339255333594510:Navigate to next view`,[["kendoDateTimePickerLocalizedMessages","","dateTab",t,"dateTabLabel",n,"timeTab",e,"timeTabLabel",o,"toggle",s,"accept",r,"acceptLabel",a,"cancel",l,"cancelLabel",d,"now",c,"nowLabel",p,"today",m,"prevButtonTitle",f,"nextButtonTitle",y],[1,"k-picker-wrap"],["wrapper",""],[3,"value","format","twoDigitYearMax","min","max","incompleteDateValidation","formatPlaceholder","placeholder","disabled","readonly","role","ariaReadOnly","steps","tabindex","title","focusableId","hasPopup","isPopupOpen","kendoEventsOutsideAngular","scope","valueChange"],[1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-link","k-link-date"],[1,"k-icon"],["container",""],["popupTemplate",""],[3,"kendoEventsOutsideAngular","scope"],[1,"k-datetime-buttongroup",3,"kendoEventsOutsideAngular","scope"],[1,"k-button-group","k-button-group-stretched"],["type","button",1,"k-button","k-date-tab",3,"kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-time-tab",3,"kendoEventsOutsideAngular"],[1,"k-datetime-selector",3,"kendoEventsOutsideAngular"],["dateTimeSelector",""],[1,"k-datetime-calendar-wrap"],[3,"value","type","min","max","focusedDate","weekNumber","navigation","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","disabled","disabledDates","valueChange"],[3,"today","prevButtonTitle","nextButtonTitle"],[1,"k-datetime-time-wrap"],[3,"value","format","min","max","setButton","cancelButton","steps","disabled"],[3,"now","nowLabel"],[1,"k-datetime-footer","k-action-buttons","k-actions","k-hstack","k-justify-content-stretch",3,"kendoEventsOutsideAngular","scope"],["type","button","class","k-button k-time-cancel",3,"kendoEventsOutsideAngular","scope",4,"ngIf"],["type","button",1,"k-time-accept","k-button","k-primary",3,"disabled","kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-time-cancel",3,"kendoEventsOutsideAngular","scope"]]},template:function(n,e){1&n&&(i.GkF(0,0),i.TgZ(1,"span",1,2),i.TgZ(3,"kendo-dateinput",3),i.NdJ("valueChange",function(s){return e.handleInputValueChange(s)}),i.qZA(),i.TgZ(4,"span",4),i.TgZ(5,"span",5),i._UZ(6,"span",6),i.qZA(),i.qZA(),i.qZA(),i.GkF(7,null,7),i.YNc(9,nP,19,81,"ng-template",null,8,i.W1O)),2&n&&(i.xp6(1),i.ekj("k-state-disabled",e.disabled),i.xp6(2),i.Q6J("value",e.value)("format",e.format)("twoDigitYearMax",e.twoDigitYearMax)("min",e.min)("max",e.max)("incompleteDateValidation",e.incompleteDateValidation)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("disabled",e.disabled)("readonly",e.readonly||e.readOnlyInput)("role",e.inputRole)("ariaReadOnly",e.readonly)("steps",e.steps)("tabindex",e.tabindex)("title",e.title)("focusableId",e.focusableId)("hasPopup",!0)("isPopupOpen",e.isOpen)("kendoEventsOutsideAngular",i.VKq(30,J1,e.handleKeyDown))("scope",e),i.xp6(1),i.Q6J("kendoEventsOutsideAngular",i.WLB(32,oP,e.preventMouseDown,e.handleIconClick))("scope",e),i.uIk("title",e.localization.get("toggle"))("aria-label",e.localization.get("toggle")),i.xp6(2),i.ekj("k-i-calendar","date"===e.activeTab)("k-i-clock","time"===e.activeTab))},directives:function(){return[tr,Ae,kt,ad,Qs,w_,ps,x.O5]},encapsulation:2,changeDetection:0}),v([(0,i.pfw)("class.k-widget"),(0,i.pfw)("class.k-datetimepicker"),g("design:type",Boolean)],De.prototype,"hostClasses",void 0),v([(0,i.i9L)("wrapper",{static:!0}),g("design:type",i.SBq)],De.prototype,"wrapper",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],De.prototype,"value",null),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],De.prototype,"format",null),v([(0,i.IIB)(),g("design:type",Number)],De.prototype,"twoDigitYearMax",void 0),v([(0,i.IIB)(),g("design:type",Number),g("design:paramtypes",[Number])],De.prototype,"tabindex",null),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],De.prototype,"disabledDates",null),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],De.prototype,"popupSettings",null),v([(0,i.IIB)(),g("design:type",String)],De.prototype,"focusableId",void 0),v([(0,i.IIB)(),g("design:type",String)],De.prototype,"title",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"readonly",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"readOnlyInput",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"cancelButton",void 0),v([(0,i.IIB)(),g("design:type",Object)],De.prototype,"formatPlaceholder",void 0),v([(0,i.IIB)(),g("design:type",String)],De.prototype,"placeholder",void 0),v([(0,i.IIB)(),g("design:type",Object)],De.prototype,"steps",void 0),v([(0,i.IIB)(),g("design:type",Date)],De.prototype,"focusedDate",void 0),v([(0,i.IIB)(),g("design:type",String)],De.prototype,"calendarType",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"animateCalendarNavigation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"weekNumber",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],De.prototype,"min",null),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],De.prototype,"max",null),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"rangeValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"disabledDatesValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],De.prototype,"incompleteDateValidation",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],De.prototype,"valueChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],De.prototype,"open",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],De.prototype,"close",void 0),v([(0,i.r_U)("focus"),g("design:type",i.vpe)],De.prototype,"onFocus",void 0),v([(0,i.r_U)("blur"),g("design:type",i.vpe)],De.prototype,"onBlur",void 0),v([(0,i.IIB)(),g("design:type",String),g("design:paramtypes",[String])],De.prototype,"defaultTab",null),v([(0,i.aQ5)(yi,{static:!1}),g("design:type",yi)],De.prototype,"cellTemplate",void 0),v([(0,i.aQ5)(bi,{static:!1}),g("design:type",bi)],De.prototype,"monthCellTemplate",void 0),v([(0,i.aQ5)(Ci,{static:!1}),g("design:type",Ci)],De.prototype,"yearCellTemplate",void 0),v([(0,i.aQ5)(wi,{static:!1}),g("design:type",wi)],De.prototype,"decadeCellTemplate",void 0),v([(0,i.aQ5)(Si,{static:!1}),g("design:type",Si)],De.prototype,"centuryCellTemplate",void 0),v([(0,i.aQ5)(Ii,{static:!1}),g("design:type",Ii)],De.prototype,"weekNumberTemplate",void 0),v([(0,i.aQ5)(ki,{static:!1}),g("design:type",ki)],De.prototype,"headerTitleTemplate",void 0),v([(0,i.i9L)("container",{read:i.s_b,static:!0}),g("design:type",i.s_b)],De.prototype,"container",void 0),v([(0,i.i9L)("popupTemplate",{read:i.Rgc,static:!0}),g("design:type",i.Rgc)],De.prototype,"popupTemplate",void 0),De=ud=v([Vn(6,(0,i.tBr)(us)),g("design:paramtypes",[$e,Oe.aJ,i.sBO,sn,i.R0b,i.SBq,Boolean,I,ji,i.Qsj])],De);let Th=(()=>{let t=class{constructor(e){this.intl=e}getWeekNames(e=!1){const o=W1(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(o):o}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})(),Dh=(()=>{let t=class{constructor(e,o,s,r,a,l){this.bus=e,this.intl=o,this.weekService=s,this.cdr=r,this.element=a,this.renderer=l,this.activeView=se.month,this.isActive=!0,this.min=new Date(so),this.max=new Date(ro),this.selectedDates=[],this.views=2,this.showViewHeader=!1,this.animateNavigation=!1,this.cellClick=new i.vpe,this.weekNumberCellClick=new i.vpe,this.cellEnter=new i.vpe,this.cellLeave=new i.vpe,this.activeDateChange=new i.vpe,this.getComponentClass=!0,this.weekNames=[],this.dates=[],this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentMonthClass(){return this.activeView===se.month}get getComponentYearClass(){return this.activeView===se.year}get getComponentDecadeClass(){return this.activeView===se.decade}get getComponentCenturyClass(){return this.activeView===se.century}ngOnChanges(e){if(this.initService(),(0===this.weekNames.length||e.weekNumber)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),!this.service)return;this.views=this.views||2;const o=this.focusedDate,s=this.clampDate(this.service.viewDate(o,this.max,this.views));this.skip=this.service.skip(s,this.min),this.total=this.service.total(this.min,this.max);const r=js(e,"activeView"),a=this.views>0&&js(e,"views");(r||!this.isInDates(o)||a||!this.activeDate)&&(this.dates=this.service.datesList(s,this.getTake(this.skip)),this.activeDate=q(this.dates[0]),this.activeDateChange.emit(this.activeDate))}ngAfterViewInit(){1===this.views&&this.setTableMinWidth()}ngOnDestroy(){this.intlSubscription.unsubscribe()}initService(){this.service=this.bus.service(this.activeView)}isMonthView(){return this.activeView===se.month}getCaptionTitle(e){return this.service.title(e)}getCaptionClass(){return this.isMonthView()?"k-month-header":"k-meta-header"}animateView(e){const o=this.element.nativeElement,s=o.querySelector("table"),r=parseFloat(getComputedStyle(o).width),a=parseFloat(getComputedStyle(s).width);this.renderer.setStyle(o,"width",`${r}px`),this.renderer.setStyle(o,"overflow","visible"),e===we.NextView?this.nextAnimationDate=q(this.dates[0]):this.prevAnimationDate=q(this.dates[this.dates.length-1]),this.cdr.detectChanges(),o.querySelectorAll("table").forEach(m=>{this.renderer.setStyle(m,"width",`${a}px`),1===this.views&&this.renderer.setStyle(m,"min-width",`${r}px`)});const l=s.getBoundingClientRect(),d=parseFloat(getComputedStyle(o).columnGap),c=e===we.NextView?"translateX(0)":`translateX(-${l.width+d}px)`,p=e===we.NextView?`translateX(-${l.width+d}px)`:"translateX(0)";this.animation?this.animation.cancel():(this.animation=o.animate([{transform:c},{transform:p}],{duration:500,easing:"ease-out"}),this.animation.oncancel=this.animation.onfinish=()=>{this.renderer.removeStyle(o,"width"),this.renderer.removeStyle(o,"overflow"),o.querySelectorAll("table").forEach(m=>{this.renderer.removeStyle(m,"width")}),this.animation=null,this.nextAnimationDate=null,this.prevAnimationDate=null,this.cdr.detectChanges()})}navigate(e){this.animateNavigation&&W()&&ge(this.element.nativeElement.animate)&&this.animateView(e);const o=this.move(e),s=this.service.datesList(o,this.getTake(this.skip));return this.isListInRange(s)&&(this.dates=s),this.activeDate=q(this.dates[0]),this.focusedDate=q(o),this.cdr.markForCheck(),this.activeDateChange.emit(this.activeDate),q(o)}canNavigate(e){return!!this.service&&this.isListInRange(this.service.datesList(this.move(e),this.getTake(this.skip)))}setTableMinWidth(){const e=this.element.nativeElement,o=e.querySelector("table");if(o){const s=parseFloat(getComputedStyle(e).width);this.renderer.setStyle(o,"min-width",`${s}px`)}}intlChange(){this.weekNames=this.weekService.getWeekNames(this.weekNumber),this.cdr.markForCheck()}clampDate(e){return Eo(e,this.min,this.max)}move(e){return this.service.move(this.dates[0]||this.focusedDate,e)}isListInRange(e){const o=this.service.beginningOfPeriod(this.min),s=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return o<=e[0]&&e[e.length-1]<s}isInDates(e){return this.service.isInArray(e,this.dates)}getTake(e){return Math.min(this.total-e,this.views)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(Oe.aJ),i.Y36(Th),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-calendar-horizontal"]],hostVars:16,hostBindings:function(e,o){2&e&&i.ekj("k-calendar-view",o.getComponentClass)("k-hstack",o.getComponentClass)("k-align-items-start",o.getComponentClass)("k-justify-content-center",o.getComponentClass)("k-calendar-monthview",o.getComponentMonthClass)("k-calendar-yearview",o.getComponentYearClass)("k-calendar-decadeview",o.getComponentDecadeClass)("k-calendar-centuryview",o.getComponentCenturyClass)},inputs:{activeView:"activeView",isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",views:"views",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",focusedDate:"focusedDate",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",activeRangeEnd:"activeRangeEnd",cellUID:"cellUID",selectionRange:"selectionRange"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",activeDateChange:"activeDateChange"},features:[i.TTD],decls:5,vars:3,consts:[["tableTemplate",""],[4,"ngIf"],[4,"kFor","kForOf"],[1,"k-content","k-calendar-content","k-calendar-table",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","k-calendar-thead",4,"ngIf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",1,"k-calendar-tbody",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick","cellEnter","cellLeave"],[3,"ngClass"],[1,"k-calendar-thead"],["role","row",1,"k-calendar-tr"],["class","k-calendar-th",4,"ngFor","ngForOf"],[1,"k-calendar-th"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(i.YNc(0,lP,4,16,"ng-template",null,0,i.W1O),i.YNc(2,dP,1,4,void 0,1),i.YNc(3,hP,1,4,void 0,2),i.YNc(4,gP,1,4,void 0,1)),2&e&&(i.xp6(2),i.Q6J("ngIf",o.nextAnimationDate),i.xp6(1),i.Q6J("kForOf",o.dates),i.xp6(1),i.Q6J("ngIf",o.prevAnimationDate))},directives:function(){return[x.O5,Bh,x.mk,SI,x.sg,x.tP]},encapsulation:2,changeDetection:0}),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"cellTemplateRef",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"weekNumberTemplateRef",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"activeRangeEnd",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cellUID",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"focusedDate",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"isActive",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Object)],t.prototype,"selectionRange",void 0),v([(0,i.IIB)(),g("design:type",Array)],t.prototype,"selectedDates",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"views",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"showViewHeader",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"animateNavigation",void 0),v([(0,i.IIB)(),g("design:type",Boolean),g("design:paramtypes",[Boolean])],t.prototype,"weekNumber",null),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"weekNumberCellClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellEnter",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellLeave",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"activeDateChange",void 0),v([(0,i.pfw)("class.k-calendar-view"),(0,i.pfw)("class.k-hstack"),(0,i.pfw)("class.k-align-items-start"),(0,i.pfw)("class.k-justify-content-center"),g("design:type",Boolean)],t.prototype,"getComponentClass",void 0),v([(0,i.pfw)("class.k-calendar-monthview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentMonthClass",null),v([(0,i.pfw)("class.k-calendar-yearview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentYearClass",null),v([(0,i.pfw)("class.k-calendar-decadeview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentDecadeClass",null),v([(0,i.pfw)("class.k-calendar-centuryview"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"getComponentCenturyClass",null),t=v([g("design:paramtypes",[ti,Oe.aJ,Th,i.sBO,i.SBq,i.Qsj])],t),t})();const Mz=()=>null,yI="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",Az={multi:!0,provide:X.JU,useExisting:(0,i.Gpc)(()=>Fo)},Nz={multi:!0,provide:X.Cf,useExisting:(0,i.Gpc)(()=>Fo)};let Fo=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c){this.bus=e,this.element=o,this.navigator=s,this.renderer=r,this.cdr=a,this.zone=l,this.disabledDatesService=d,this.selectionService=c,this.id=Ve(),this.rangeValidation=!1,this.disabledDatesRangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.isActive=!1,this.activeView=se[se.month],this.bottomView=se[se.month],this.topView=se[se.century],this.showViewHeader=!1,this.animateNavigation=!1,this.weekNumber=!1,this.views=2,this.activeViewChange=new i.vpe,this.navigate=new i.vpe,this.cellEnter=new i.vpe,this.cellLeave=new i.vpe,this.valueChange=new i.vpe,this.cellUID=Ve(),this.isHovered=!1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.prevView=we.PrevView,this.nextView=we.NextView,this.selectedDates=[],this._min=new Date(so),this._max=new Date(ro),this._focusedDate=ao(),this.resolvedPromise=Promise.resolve(),this.onControlChange=Ce,this.onControlTouched=Ce,this.onValidatorChange=Ce,this.minValidateFn=Ce,this.maxValidateFn=Ce,this.disabledDatesRangeValidateFn=Ce,this.subscriptions=new Ie.w,this.setClasses(o.nativeElement)}set focusedDate(e){this._focusedDate=e||ao()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(so)}get min(){return this._min}set max(e){this._max=e||new Date(ro)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(s=>ge(s)).map(s=>q(s)):q(e);const o=[].concat(e).filter(s=>ge(s)).map(s=>q(s));if(!_h(o,this.selectedDates)){const s=qs(o);this.rangePivot=q(s),this.focusedDate=q(s)||this.focusedDate,this.selectedDates=o}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set selectionRange(e){this._selectionRange=e,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}get activeViewEnum(){const e=se[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return se[this.bottomView]}get topViewEnum(){return se[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleBlur(){this.onControlTouched(),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleMousedown(e){e.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(e){e.keyCode===R.Enter&&this.performSelection(this.focusedDate,e);const o=Eo(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);gt(this.focusedDate,o)||(this.focusedDate=o,e.preventDefault(),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||this.emitNavigate(this.focusedDate))}ngOnInit(){this.subscriptions.add(this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=se[e],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),K1(e,"focusedDate")&&(this.focusedDate=Eo(e.focusedDate.currentValue,this.min,this.max)),(e.min||e.max||e.rangeValidation||e.disabledDates||e.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?sd(this.min):Ce,this.maxValidateFn=this.rangeValidation?rd(this.max):Ce,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?(t=>ge(t)?n=>{if(!(ge(n)&&ge(n.start)&&ge(n.end))||n.start>n.end)return null;const o=((t,n,e)=>{if(!(t&&n&&e)||t>n)return[];const o=[];let s=t;for(;s<=n;)e(s)&&o.push(s),s=wn(s,1);return o})(n.start,n.end,t);return o.length?{disabledDatesInRange:o}:null}:Mz)(this.disabledDatesService.isDateDisabled):Ce,this.onValidatorChange()),(e.min||e.max||e.focusedDate||e.activeView)&&this.updateButtonState()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){!this.element||this.element.nativeElement.focus()}blur(){!this.element||this.element.nativeElement.blur()}handleDateChange(e){const o=this.bus.canMoveDown(this.activeViewEnum),s=e.selectedDates.filter(a=>!this.disabledDatesService.isDateDisabled(a));this.focusedDate=e.focusedDate||this.focusedDate;const r=!o&&_h(s,this.selectedDates);if(!this.disabled&&!r){if(o)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||(this.selectedDates=s.map(a=>q(a)),this.value=this.parseSelectionToValue(s),this.onControlChange(this.parseSelectionToValue(s)),this.valueChange.emit(this.parseSelectionToValue(s)))}}handleTodayButtonClick(e){const o=e.focusedDate,s=this.bus.service(this.activeViewEnum).isInArray(o,this.viewList.dates),r=!this.bus.canMoveDown(this.activeViewEnum);!s&&r&&this.emitNavigate(o),this.handleDateChange(e)}setActiveDate(e){this.activeDate=q(e),this.cdr.detectChanges()}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case se.month:return this.monthCellTemplate||this.cellTemplate;case se.year:return this.yearCellTemplate;case se.decade:return this.decadeCellTemplate;case se.century:return this.centuryCellTemplate;default:return null}}navigateView(e){this.focusedDate=this.viewList.navigate(e),this.updateButtonState(),this.emitNavigate(this.focusedDate)}emitNavigate(e){this.navigate.emit({activeView:se[this.activeViewEnum],focusedDate:e})}emitCellEvent(e,o){ne(e)&&this.zone.run(()=>{e.emit(o)})}handleCellClick({date:e,modifiers:o}){this.performSelection(e,o),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||this.emitNavigate(this.focusedDate)}handleWeekNumberClick(e){"single"!==this.selection&&this.zone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:qs(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-range")}verifyChanges(){if((0,i.X6Q)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if((0,i.X6Q)()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${yI} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(s=>s instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${yI} for possible resolution.`)}}updateButtonState(){this.resolvedPromise.then(()=>{this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}parseSelectionToValue(e){return e=e||[],"single"===this.selection?q(qs(e)):e.map(o=>q(o))}performSelection(e,o){const s=this.selectionService.performSelection({date:e,modifiers:o,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=s.rangePivot,this.handleDateChange({selectedDates:s.selectedDates,focusedDate:e})}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(i.SBq),i.Y36(Wr),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(ji),i.Y36(zl))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(e,o,s){if(1&e&&(i.Suo(s,yi,7),i.Suo(s,bi,7),i.Suo(s,Ci,7),i.Suo(s,wi,7),i.Suo(s,Si,7),i.Suo(s,Ii,7),i.Suo(s,ki,7)),2&e){let r;i.iGM(r=i.CRH())&&(o.cellTemplate=r.first),i.iGM(r=i.CRH())&&(o.monthCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.yearCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.decadeCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.centuryCellTemplate=r.first),i.iGM(r=i.CRH())&&(o.weekNumberTemplate=r.first),i.iGM(r=i.CRH())&&(o.headerTitleTemplate=r.first)}},viewQuery:function(e,o){if(1&e&&i.Gf(Dh,5),2&e){let s;i.iGM(s=i.CRH())&&(o.viewList=s.first)}},hostVars:7,hostBindings:function(e,o){1&e&&i.NdJ("blur",function(){return o.handleBlur()})("focus",function(){return o.handleFocus()})("mouseenter",function(){return o.handleMouseEnter()})("mouseleave",function(){return o.handleMouseLeave()})("mousedown",function(r){return o.handleMousedown(r)})("click",function(){return o.handleClick()})("keydown",function(r){return o.keydown(r)}),2&e&&(i.uIk("id",o.widgetId)("role",o.widgetRole)("tabindex",o.calendarTabIndex)("aria-disabled",o.ariaDisabled)("aria-activedescendant",o.ariaActivedescendant),i.ekj("k-state-disabled",o.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",selection:"selection",disabled:"disabled",tabindex:"tabindex",isActive:"isActive",activeView:"activeView",bottomView:"bottomView",topView:"topView",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",views:"views",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",selectionRange:"selectionRange",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],activeRangeEnd:"activeRangeEnd"},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange"},exportAs:["kendo-multiviewcalendar"],features:[i._Bn([ti,Az,Nz,I,ji,{provide:Fe,useValue:"kendo.multiviewcalendar"},Wr,zl]),i.TTD],decls:3,vars:24,consts:function(){let n,e,o;return n=$localize`:kendo.multiviewcalendar.today|The label for the today button in the calendar header␟c237cef31a55d762ecfdcac701d283313f30bbfc␟7780927771207785084:Today`,e=$localize`:kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar␟e783e2af4828224b846fa92148ea1cc52b21bb13␟9101635325676663492:Navigate to previous view`,o=$localize`:kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar␟3e3a529a242f39d22f841c3bd8045ec75b696b7a␟3994336778698343633:Navigate to next view`,[["kendoMultiViewCalendarLocalizedMessages","","today",n,"prevButtonTitle",e,"nextButtonTitle",o],[3,"activeView","currentDate","min","max","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","todayButtonClick","prevButtonClick","nextButtonClick"],[3,"activeView","isActive","cellTemplateRef","weekNumberTemplateRef","cellUID","views","min","max","focusedDate","animateNavigation","showViewHeader","weekNumber","activeRangeEnd","selectionRange","selectedDates","valueChange","cellClick","weekNumberCellClick","cellEnter","cellLeave","activeDateChange"]]},template:function(e,o){if(1&e&&(i.GkF(0,0),i.TgZ(1,"kendo-calendar-header",1),i.NdJ("todayButtonClick",function(r){return o.handleTodayButtonClick({selectedDates:[r],focusedDate:r})})("prevButtonClick",function(){return o.navigateView(o.prevView)})("nextButtonClick",function(){return o.navigateView(o.nextView)}),i.qZA(),i.TgZ(2,"kendo-calendar-horizontal",2),i.NdJ("valueChange",function(r){return o.handleDateChange(r)})("cellClick",function(r){return o.handleCellClick(r)})("weekNumberCellClick",function(r){return o.handleWeekNumberClick(r)})("cellEnter",function(r){return o.emitCellEvent(o.cellEnter,r)})("cellLeave",function(r){return o.emitCellEvent(o.cellLeave,r)})("activeDateChange",function(r){return o.setActiveDate(r)}),i.qZA()),2&e){let s;i.xp6(1),i.Q6J("activeView",o.activeViewEnum)("currentDate",o.activeDate)("min",o.min)("max",o.max)("rangeLength",o.views)("templateRef",null==o.headerTitleTemplate?null:o.headerTitleTemplate.templateRef)("isPrevDisabled",o.isPrevDisabled)("isNextDisabled",o.isNextDisabled)("showNavigationButtons",!0),i.xp6(1),i.Q6J("activeView",o.activeViewEnum)("isActive",o.isActive||o.isHovered)("cellTemplateRef",null==(s=o.activeCellTemplate())?null:s.templateRef)("weekNumberTemplateRef",null==o.weekNumberTemplate?null:o.weekNumberTemplate.templateRef)("cellUID",o.cellUID)("views",o.views)("min",o.min)("max",o.max)("focusedDate",o.focusedDate)("animateNavigation",o.animateNavigation)("showViewHeader",o.showViewHeader)("weekNumber",o.weekNumber)("activeRangeEnd",o.activeRangeEnd)("selectionRange",o.selectionRange)("selectedDates",o.selectedDates)}},directives:function(){return[Kr,wI,Dh]},encapsulation:2,changeDetection:0}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"id",void 0),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],t.prototype,"focusedDate",null),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],t.prototype,"min",null),v([(0,i.IIB)(),g("design:type",Date),g("design:paramtypes",[Date])],t.prototype,"max",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"rangeValidation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"disabledDatesRangeValidation",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"selection",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],t.prototype,"value",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"tabindex",void 0),v([(0,i.IIB)(),g("design:type",Number),g("design:paramtypes",[Number])],t.prototype,"tabIndex",null),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"isActive",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],t.prototype,"disabledDates",null),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"bottomView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"topView",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"showViewHeader",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"animateNavigation",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"weekNumber",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"activeRangeEnd",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],t.prototype,"selectionRange",null),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"views",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"activeViewChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"navigate",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellEnter",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellLeave",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"valueChange",void 0),v([(0,i.aQ5)(yi,{static:!0}),g("design:type",yi)],t.prototype,"cellTemplate",void 0),v([(0,i.IIB)("cellTemplate"),g("design:type",yi),g("design:paramtypes",[yi])],t.prototype,"cellTemplateRef",null),v([(0,i.aQ5)(bi,{static:!0}),g("design:type",bi)],t.prototype,"monthCellTemplate",void 0),v([(0,i.IIB)("monthCellTemplate"),g("design:type",bi),g("design:paramtypes",[bi])],t.prototype,"monthCellTemplateRef",null),v([(0,i.aQ5)(Ci,{static:!0}),g("design:type",Ci)],t.prototype,"yearCellTemplate",void 0),v([(0,i.IIB)("yearCellTemplate"),g("design:type",Ci),g("design:paramtypes",[Ci])],t.prototype,"yearCellTemplateRef",null),v([(0,i.aQ5)(wi,{static:!0}),g("design:type",wi)],t.prototype,"decadeCellTemplate",void 0),v([(0,i.IIB)("decadeCellTemplate"),g("design:type",wi),g("design:paramtypes",[wi])],t.prototype,"decadeCellTemplateRef",null),v([(0,i.aQ5)(Si,{static:!0}),g("design:type",Si)],t.prototype,"centuryCellTemplate",void 0),v([(0,i.IIB)("centuryCellTemplate"),g("design:type",Si),g("design:paramtypes",[Si])],t.prototype,"centuryCellTemplateRef",null),v([(0,i.aQ5)(Ii,{static:!0}),g("design:type",Ii)],t.prototype,"weekNumberTemplate",void 0),v([(0,i.IIB)("weekNumberTemplate"),g("design:type",Ii),g("design:paramtypes",[Ii])],t.prototype,"weekNumberTemplateRef",null),v([(0,i.aQ5)(ki,{static:!0}),g("design:type",ki)],t.prototype,"headerTitleTemplate",void 0),v([(0,i.IIB)("headerTitleTemplate"),g("design:type",ki),g("design:paramtypes",[ki])],t.prototype,"headerTitleTemplateRef",null),v([(0,i.i9L)(Dh,{static:!1}),g("design:type",Dh)],t.prototype,"viewList",void 0),v([(0,i.pfw)("attr.id"),g("design:type",String),g("design:paramtypes",[])],t.prototype,"widgetId",null),v([(0,i.pfw)("attr.role"),g("design:type",String),g("design:paramtypes",[])],t.prototype,"widgetRole",null),v([(0,i.pfw)("attr.tabindex"),g("design:type",Number),g("design:paramtypes",[])],t.prototype,"calendarTabIndex",null),v([(0,i.pfw)("attr.aria-disabled"),(0,i.pfw)("class.k-state-disabled"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"ariaDisabled",null),v([(0,i.pfw)("attr.aria-activedescendant"),g("design:type",String),g("design:paramtypes",[])],t.prototype,"ariaActivedescendant",null),v([(0,i.L6J)("blur"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],t.prototype,"handleBlur",null),v([(0,i.L6J)("focus"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],t.prototype,"handleFocus",null),v([(0,i.L6J)("mouseenter"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),v([(0,i.L6J)("mouseleave"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),v([(0,i.L6J)("mousedown",["$event"]),g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",void 0)],t.prototype,"handleMousedown",null),v([(0,i.L6J)("click"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],t.prototype,"handleClick",null),v([(0,i.L6J)("keydown",["$event"]),g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",void 0)],t.prototype,"keydown",null),t=v([g("design:paramtypes",[ti,i.SBq,Wr,i.Qsj,i.sBO,i.R0b,ji,zl])],t),t})();class Vz{constructor(n,e,o,s){this.$implicit=n,this.kForOf=e,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bh=(()=>{let t=class{constructor(e,o,s){this._viewContainer=e,this._template=o,this._differs=s,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const o=e.kForOf.currentValue;if(this._differ||!o)return;try{this._differ=this._differs.find(o).create(this.kForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(t){return t.name||typeof t}(o)}'.`)}}}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!W())return;const o=this._viewContainer.length,s=this.kForOf.length,r={};e.forEachOperation((a,l,d)=>{null!==d&&(r[d]=a.item)});for(let a=o;a<s;a++)this._viewContainer.createEmbeddedView(this._template,new Vz(null,this.kForOf,-1,-1),a);for(let a=this._viewContainer.length;a>s;a--)this._viewContainer.remove(a-1);for(let a=0;a<this._viewContainer.length;a++){const l=this._viewContainer.get(a);l.context.index=a,l.context.count=length,l.context.$implicit=r[a]||null}}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[i.TTD]}),v([(0,i.IIB)(),g("design:type",Object)],t.prototype,"kForOf",void 0),v([(0,i.IIB)(),g("design:type",Function)],t.prototype,"kForTrackBy",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc),g("design:paramtypes",[i.Rgc])],t.prototype,"kForTemplate",null),t=v([g("design:paramtypes",[i.s_b,i.Rgc,i.ZZ4])],t),t})(),wI=(()=>{let t=class{constructor(e,o,s,r,a){this.bus=e,this.cdr=o,this.localization=s,this.intl=r,this.disabledDatesService=a,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(so),this.max=new Date(ro),this.rangeLength=1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.showNavigationButtons=!1,this.todayButtonClick=new i.vpe,this.prevButtonClick=new i.vpe,this.nextButtonClick=new i.vpe,this.getComponentClass=!0,this.subscriptions=new Ie.w}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){!this.bus.service(this.activeView)||(this.activeViewValue=se[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){!this.todayAvailable||(this.bus.moveToBottom(this.activeView),this.todayButtonClick.emit(Eo(ao(),this.min,this.max)))}handleNavigation(){!this.navigate||this.bus.moveUp(this.activeView)}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),o=this.rangeLength-1,s=e.title(this.currentDate),r=e.addToDate(this.currentDate,o);return o<1||!e.isInRange(r,this.min,this.max)?s:`${s} - ${e.title(r)}`}setTodayAvailability(){const e=ao(),o=Xr(e,Ct(this.min),Ct(this.max)),s=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=o&&!s,this.cdr.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(i.sBO),i.Y36(I),i.Y36(Oe.aJ),i.Y36(ji))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-calendar-header"]],hostVars:4,hostBindings:function(e,o){2&e&&i.ekj("k-calendar-header",o.getComponentClass)("k-hstack",o.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",isPrevDisabled:"isPrevDisabled",isNextDisabled:"isNextDisabled",showNavigationButtons:"showNavigationButtons",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{todayButtonClick:"todayButtonClick",prevButtonClick:"prevButtonClick",nextButtonClick:"nextButtonClick"},features:[i.TTD],decls:9,vars:23,consts:[[1,"k-button","k-flat","k-title","k-calendar-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],[1,"k-calendar-nav","k-hstack"],["class","k-button k-flat k-icon-button k-prev-view","type","button",3,"disabled","title","click",4,"ngIf"],[1,"k-today","k-nav-today",3,"kendoEventsOutsideAngular","scope"],["class","k-button k-flat k-icon-button k-next-view","type","button",3,"disabled","title","click",4,"ngIf"],["type","button",1,"k-button","k-flat","k-icon-button","k-prev-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-60-left"],["type","button",1,"k-button","k-flat","k-icon-button","k-next-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-60-right"]],template:function(e,o){1&e&&(i.TgZ(0,"span",0),i.YNc(1,yP,1,1,"ng-template",1),i.YNc(2,bP,0,0,"ng-template",2),i.qZA(),i._UZ(3,"span",3),i.TgZ(4,"span",4),i.YNc(5,CP,2,3,"button",5),i.TgZ(6,"span",6),i._uU(7),i.qZA(),i.YNc(8,wP,2,3,"button",7),i.qZA()),2&e&&(i.ekj("k-state-disabled",!o.navigate),i.Q6J("kendoEventsOutsideAngular",i.VKq(15,Js,o.handleNavigation))("scope",o),i.xp6(1),i.Q6J("ngIf",!o.templateRef),i.xp6(1),i.Q6J("ngIf",o.templateRef)("ngTemplateOutlet",o.templateRef)("ngTemplateOutletContext",i.kEZ(17,$1,o.title,o.activeViewValue,o.currentDate)),i.xp6(3),i.Q6J("ngIf",o.showNavigationButtons),i.xp6(1),i.ekj("k-state-disabled",!o.todayAvailable),i.Q6J("kendoEventsOutsideAngular",i.VKq(21,Js,o.handleTodayClick))("scope",o),i.xp6(1),i.hij(" ",o.todayMessage," "),i.xp6(1),i.Q6J("ngIf",o.showNavigationButtons))},directives:[kt,x.O5,x.tP],encapsulation:2}),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"currentDate",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"rangeLength",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"templateRef",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"isPrevDisabled",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"isNextDisabled",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"showNavigationButtons",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"todayButtonClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"prevButtonClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"nextButtonClick",void 0),v([(0,i.pfw)("class.k-calendar-header"),(0,i.pfw)("class.k-hstack"),g("design:type",Boolean)],t.prototype,"getComponentClass",void 0),t=v([g("design:paramtypes",[ti,i.sBO,I,Oe.aJ,ji])],t),t})(),SI=(()=>{let t=class{constructor(e,o,s,r,a,l,d){this.bus=e,this.intl=o,this.cdr=s,this.element=r,this.zone=a,this.renderer=l,this.disabledDatesService=d,this.direction="vertical",this.isActive=!0,this.selectedDates=[],this.cellClick=new i.vpe,this.weekNumberCellClick=new i.vpe,this.cellEnter=new i.vpe,this.cellLeave=new i.vpe,this.colSpan=0,this.subscriptions=new Ie.w,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===se.month}set weekNumber(e){this.showWeekNumbers=e}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.colSpan=this.service.rowLength({prependCell:this.weekNumber}),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===se.month}shouldRenderCellContent(e){return ge(e)&&!(!this.isHorizontal()&&e.isOtherMonth)}firstDate(e){const o=this.firstWeekDateContext(e);return o?o.value:null}getWeekNumber(e){return this.weekNumber?V1(e,this.intl.firstDay()):null}getWeekNumberContext(e){const o=this.firstWeekDateContext(e);if(!this.weekNumber||!o)return null;const s=V1(o.value,this.intl.firstDay()).toString();return{formattedValue:s,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:s,value:q(o.value)}}getStyles(e){const{isRangeEnd:o,isRangeStart:s}=e;return(t=>Object.keys(t).reduce((e,o)=>t[o]?e.concat(o):e,[]).join(" "))({"k-range-end":!e.isOtherMonth&&o,"k-range-mid":!e.isOtherMonth&&e.isRangeMid,"k-range-split-end":!e.isOtherMonth&&e.isRangeSplitEnd,"k-range-split-start":!e.isOtherMonth&&e.isRangeSplitStart,"k-range-start":!e.isOtherMonth&&s,"k-state-active":"start"===this.activeRangeEnd&&s||"end"===this.activeRangeEnd&&o,"k-state-focused":!e.isOtherMonth&&this.isActive&&e.isFocused,"k-state-selected":!e.isOtherMonth&&(e.isSelected||s||o),"k-today":!e.isOtherMonth&&e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled,"k-other-month":e.isOtherMonth})}tableCellIndex(e,o){return`${e}:${o}`}handleWeekNumberClick(e){const o=e.map(s=>s.value).filter(s=>!this.disabledDatesService.isDateDisabled(s));this.weekNumberCellClick.emit(o)}firstWeekDateContext(e){if(!this.weekNumber)return null;let o=0,s=this.shouldRenderCellContent(e[o])?e[o]:null;for(;!s&&o<e.length;){const r=e[++o];s=this.shouldRenderCellContent(r)?r:null}return s}updateData(){const e=qs(this.selectedDates)||ao(),o=Mo(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDates:this.selectedDates,selectionRange:this.selectionRange,viewDate:o,isDateDisabled:this.disabledDatesService.isDateDisabled,direction:this.direction})}intlChange(){this.updateData(),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const o=this.closestCell(e);if(!o)return;const s=o.getAttribute("data-cell-index"),r=this.cellByIndex(s);if(!r.isDisabled){const{ctrlKey:a,metaKey:l,shiftKey:d}=e;this.cellClick.emit({date:r.value,modifiers:{ctrlKey:a,metaKey:l,shiftKey:d}})}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const o=this.closestCell(e);if(o){const s=o.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==s&&this.emitCellLeave();const r=this.cellByIndex(s).value;this.cellEnter.emit(r),this.currentCellIndex=s}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return t_(e.target,o=>o.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[o,s]=e.split(":");return this.data[o][s]}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ti),i.Y36(Oe.aJ),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(ji))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",selectedDates:"selectedDates",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[i.TTD],attrs:SP,decls:4,vars:2,consts:[["emptyCell",""],["class","k-calendar-tr","role","row",4,"ngIf"],["class","k-calendar-tr","role","row",4,"kFor","kForOf"],[1,"k-empty","k-calendar-td"],["role","row",1,"k-calendar-tr"],["scope","col",1,"k-calendar-caption",3,"colSpan"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt k-calendar-td",3,"kendoEventsOutsideAngular",4,"ngIf","ngIfElse"],[1,"k-alt","k-calendar-td",3,"kendoEventsOutsideAngular"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["class","k-calendar-td","role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-calendar-td",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(i.YNc(0,IP,2,0,"ng-template",null,0,i.W1O),i.YNc(2,kP,3,2,"tr",1),i.YNc(3,AP,3,2,"tr",2)),2&e&&(i.xp6(2),i.Q6J("ngIf",!o.isHorizontal()),i.xp6(1),i.Q6J("kForOf",o.data))},directives:[x.O5,Bh,kt,x.tP,x.mk],encapsulation:2}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"direction",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"isActive",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"activeView",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cellUID",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"focusedDate",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"viewDate",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"activeRangeEnd",void 0),v([(0,i.IIB)(),g("design:type",Object)],t.prototype,"selectionRange",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Array)],t.prototype,"selectedDates",void 0),v([(0,i.IIB)(),g("design:type",Boolean),g("design:paramtypes",[Boolean])],t.prototype,"weekNumber",null),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"viewIndex",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"templateRef",void 0),v([(0,i.IIB)(),g("design:type",i.Rgc)],t.prototype,"weekNumberTemplateRef",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"weekNumberCellClick",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellEnter",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"cellLeave",void 0),t=v([g("design:paramtypes",[ti,Oe.aJ,i.sBO,i.SBq,i.R0b,i.Qsj,ji])],t),t})(),Fh=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Kt]]}),t})(),Us=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Oh=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[i.qOj]}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"today",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"prevButtonTitle",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"nextButtonTitle",void 0),t})();var a_;let Kr=a_=class extends Oh{constructor(n){super(),this.service=n}};var l_;Kr.\u0275fac=function(n){return new(n||Kr)(i.Y36(I))},Kr.\u0275dir=i.lG2({type:Kr,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],features:[i._Bn([{provide:Oh,useExisting:(0,i.Gpc)(()=>a_)}]),i.qOj]}),Kr=a_=v([g("design:paramtypes",[I])],Kr);let ea=l_=class extends Oh{constructor(n){super(),this.service=n}get override(){return!0}};ea.\u0275fac=function(n){return new(n||ea)(i.Y36(I))},ea.\u0275cmp=i.Xpm({type:ea,selectors:[["kendo-multiviewcalendar-messages"]],features:[i._Bn([{provide:Oh,useExisting:(0,i.Gpc)(()=>l_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),ea=l_=v([g("design:paramtypes",[I])],ea);let Rh=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Wr,Yv,Jv,qv,Uv,Th],imports:[[x.ez,Fh,Oe.o0,Us,yn],Fh,Us]}),t})(),Ah=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[i.qOj]}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"today",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"prevButtonTitle",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"nextButtonTitle",void 0),t})();var c_;let ta=c_=class extends Ah{constructor(n){super(),this.service=n}};var d_;ta.\u0275fac=function(n){return new(n||ta)(i.Y36(I))},ta.\u0275dir=i.lG2({type:ta,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[i._Bn([{provide:Ah,useExisting:(0,i.Gpc)(()=>c_)}]),i.qOj]}),ta=c_=v([g("design:paramtypes",[I])],ta);let Qs=d_=class extends Ah{constructor(n){super(),this.service=n}get override(){return!0}};Qs.\u0275fac=function(n){return new(n||Qs)(i.Y36(I))},Qs.\u0275cmp=i.Xpm({type:Qs,selectors:[["kendo-calendar-messages"]],features:[i._Bn([{provide:Ah,useExisting:(0,i.Gpc)(()=>d_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Qs=d_=v([g("design:paramtypes",[I])],Qs);let II=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez]]}),t})(),Nh=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[ds,Yv,Jv,qv,Uv,Th],imports:[[x.ez,Fh,Rh,Oe.o0,Us,II,Kt,_o],Fh,Us]}),t})(),Lh=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{decrement:"decrement",increment:"increment"},features:[i.qOj]}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"decrement",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"increment",void 0),t})();var u_;let ia=u_=class extends Lh{constructor(n){super(),this.service=n}};var p_;ia.\u0275fac=function(n){return new(n||ia)(i.Y36(I))},ia.\u0275dir=i.lG2({type:ia,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[i._Bn([{provide:Lh,useExisting:(0,i.Gpc)(()=>u_)}]),i.qOj]}),ia=u_=v([g("design:paramtypes",[I])],ia);let Vl=p_=class extends Lh{constructor(n){super(),this.service=n}get override(){return!0}};Vl.\u0275fac=function(n){return new(n||Vl)(i.Y36(I))},Vl.\u0275cmp=i.Xpm({type:Vl,selectors:[["kendo-dateinput-messages"]],features:[i._Bn([{provide:Lh,useExisting:(0,i.Gpc)(()=>p_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Vl=p_=v([g("design:paramtypes",[I])],Vl);let Hl=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Oe.o0,Kt]]}),t})(),Ph=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{today:"today",toggle:"toggle",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[i.qOj]}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"today",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"toggle",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"prevButtonTitle",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"nextButtonTitle",void 0),t})();var h_;let na=h_=class extends Ph{constructor(n){super(),this.service=n}};var f_;na.\u0275fac=function(n){return new(n||na)(i.Y36(I))},na.\u0275dir=i.lG2({type:na,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[i._Bn([{provide:Ph,useExisting:(0,i.Gpc)(()=>h_)}]),i.qOj]}),na=h_=v([g("design:paramtypes",[I])],na);let Xs=f_=class extends Ph{constructor(n){super(),this.service=n}get override(){return!0}};Xs.\u0275fac=function(n){return new(n||Xs)(i.Y36(I))},Xs.\u0275cmp=i.Xpm({type:Xs,selectors:[["kendo-datepicker-messages"]],features:[i._Bn([{provide:Ph,useExisting:(0,i.Gpc)(()=>f_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Xs=f_=v([g("design:paramtypes",[I])],Xs);const Yz=Fc;let pd=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:us,useValue:Yz}],imports:[[x.ez,Hl,Nh,Oe.o0,yn,Us,Kt],Us]}),t})();const g_=Yn("div"),Jz=Yn("ul"),jz=Yn("li"),Qz=W()?g_([g_([g_([Jz([jz("<span>02</span>","k-item")],"k-reset")],"k-time-container k-content k-scrollable")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null;let hd=(()=>{let t=class{ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(e){if(!W())return;const s=e&&e.querySelector(".k-time-list-container")||document.body,r=s.appendChild(Qz);this.timeListHeight=r.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=r.querySelector("li").getBoundingClientRect().height,s.removeChild(r)}isActive(e){return!(!W()||!e)&&(e.nativeElement||e)===document.activeElement}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const TI=n=>n%24,DI=(t,n)=>TI(24+t-n),MI=t=>(n,e)=>e&&Ct(n).getTime()!==Ct(e).getTime()?uh(n,t):n,Wz=MI(0),Kz=MI(23);let EI=(()=>{let t=class{constructor(e){this.intl=e,this.boundRange=!1,this.insertUndividedMax=!1}apply(e,o){return uh(e,o.getHours())}configure(e){const{boundRange:o=this.boundRange,insertUndividedMax:s=this.insertUndividedMax,min:r=this.min,max:a=this.max,part:l,step:d=this.step}=e;this.boundRange=o,this.insertUndividedMax=s,this.toListItem=c=>{const p=uh(Do,c);return{text:this.intl.formatDate(p,l.pattern),value:p}},this.min=r,this.max=a,this.step=d}data(e){const[o]=this.range(e),s=((t,n)=>e=>TI(t+e*n))(o,this.step),a=Ji(0,this.countFromMin(e)).map(l=>this.toListItem(s(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,o){return!gt(this.min,e)||!gt(this.max,o)}limitRange(e,o,s){return this.boundRange?[Wz(e,s),Kz(o,s)]:[e,o]}total(e){const o=this.insertUndividedMax&&this.isLastMissing(e)?1:0,s=this.isMissing(e)?1:0;return this.countFromMin(e)+s+o}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e)}addLast(e,o){return this.insertUndividedMax&&this.isLastMissing(o)&&e.push(this.toListItem(this.lastHour(o))),e}addMissing(e,o){if(this.valueInList(o))return e;const s=this.toListItem(o.getHours());return e.splice(this.selectedIndex(o),0,s),e}countFromMin(e){const[o,s]=this.range(e);return Math.floor(DI(s,o)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(uh(this.max,this.lastHour(e)))}divideByStep(e){return DI(e.getHours(),this.min.getHours())/this.step}lastHour(e){return this.range(e)[1]}range(e){const[o,s]=this.limitRange(this.min,this.max,e);return[o.getHours(),s.getHours()]}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})();const BI=n=>n%60,FI=(t,n)=>BI(60+t-n),OI=t=>(n,e)=>e&&n.getHours()!==e.getHours()?ph(n,t):n,tG=OI(0),iG=OI(59);let RI=(()=>{let t=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,o){return ph(e,o.getMinutes())}configure(e){const{insertUndividedMax:o=this.insertUndividedMax,min:s=this.min,max:r=this.max,part:a,step:l=this.step}=e;this.insertUndividedMax=o,this.toListItem=d=>{const c=ph(Do,d);return{text:this.intl.formatDate(c,a.pattern),value:c}},this.min=s,this.max=r,this.step=l}data(e){const[o]=this.range(e),s=((t,n)=>e=>BI(t+e*n))(o,this.step),a=Ji(0,this.countFromMin(e)).map(l=>this.toListItem(s(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,o){return!gt(this.min,e)||!gt(this.max,o)}limitRange(e,o,s){return[tG(e,s),iG(o,s)]}total(e){const o=this.insertUndividedMax&&this.isLastMissing(e)?1:0,s=this.isMissing(e)?1:0;return this.countFromMin(e)+s+o}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e)}addLast(e,o){return this.insertUndividedMax&&this.isLastMissing(o)&&e.push(this.toListItem(this.lastMinute(o))),e}addMissing(e,o){if(this.valueInList(o))return e;const s=this.toListItem(o.getMinutes());return e.splice(this.selectedIndex(o),0,s),e}countFromMin(e){const[o,s]=this.range(e);return Math.floor(FI(s,o)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(ph(this.max,this.lastMinute(e)))}divideByStep(e){return FI(e.getMinutes(),this.min.getMinutes())/this.step}lastMinute(e){return this.range(e)[1]}range(e){const[o,s]=this.limitRange(this.min,this.max,e);return[o.getMinutes(),s.getMinutes()]}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})();const AI=n=>n%60,NI=(t,n)=>AI(60+t-n),LI=t=>(n,e)=>!e||n.getHours()===e.getHours()&&n.getMinutes()===e.getMinutes()?n:hh(n,t),oG=LI(0),sG=LI(59);let PI=(()=>{let t=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,o){return hh(e,o.getSeconds())}configure(e){const{insertUndividedMax:o=this.insertUndividedMax,min:s=this.min,max:r=this.max,part:a,step:l=this.step}=e;this.insertUndividedMax=o,this.toListItem=d=>{const c=hh(Do,d);return{text:this.intl.formatDate(c,a.pattern),value:c}},this.min=s,this.max=r,this.step=l}data(e){const[o]=this.range(e),s=((t,n)=>e=>AI(t+e*n))(o,this.step),a=Ji(0,this.countFromMin(e)).map(l=>this.toListItem(s(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,o){return!gt(this.min,e)||!gt(this.max,o)}limitRange(e,o,s){return[oG(e,s),sG(o,s)]}total(e){const o=this.insertUndividedMax&&this.isLastMissing(e)?1:0,s=this.isMissing(e)?1:0;return this.countFromMin(e)+s+o}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e)}divideByStep(e){return NI(e.getSeconds(),this.min.getSeconds())/this.step}addLast(e,o){return this.insertUndividedMax&&this.isLastMissing(o)&&e.push(this.toListItem(this.lastSecond(o))),e}addMissing(e,o){if(this.valueInList(o))return e;const s=this.toListItem(o.getSeconds());return e.splice(this.selectedIndex(o),0,s),e}countFromMin(e){const[o,s]=this.range(e);return Math.floor(NI(s,o)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(hh(this.max,this.lastSecond(e)))}lastSecond(e){return this.range(e)[1]}range(e){const[o,s]=this.limitRange(this.min,this.max,e);return[o.getSeconds(),s.getSeconds()]}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})();const zI=n=>n%1e3,GI=(t,n)=>zI(1e3+t-n),VI=t=>(n,e)=>!e||n.getHours()===e.getHours()&&n.getMinutes()===e.getMinutes()&&n.getSeconds()===e.getSeconds()?n:fh(n,t),aG=VI(0),lG=VI(999);let HI=(()=>{let t=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,o){return fh(e,o.getMilliseconds())}configure(e){const{insertUndividedMax:o=this.insertUndividedMax,min:s=this.min,max:r=this.max,step:a=this.step}=e;this.insertUndividedMax=o,this.toListItem=l=>{const d=fh(Do,l);return{text:this.intl.formatDate(d,"SSS"),value:d}},this.min=s,this.max=r,this.step=a}data(e){const[o]=this.range(e),s=((t,n)=>e=>zI(t+e*n))(o,this.step),a=Ji(0,this.countFromMin(e)).map(l=>this.toListItem(s(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,o){return!gt(this.min,e)||!gt(this.max,o)}limitRange(e,o,s){return[aG(e,s),lG(o,s)]}total(e){const o=this.insertUndividedMax&&this.isLastMissing(e)?1:0,s=this.isMissing(e)?1:0;return this.countFromMin(e)+s+o}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMillisecond(e)===e.getMilliseconds()||!this.isMissing(e)}divideByStep(e){return GI(e.getMilliseconds(),this.min.getMilliseconds())/this.step}addLast(e,o){return this.insertUndividedMax&&this.isLastMissing(o)&&e.push(this.toListItem(this.lastMillisecond(o))),e}addMissing(e,o){if(this.valueInList(o))return e;const s=this.toListItem(o.getMilliseconds());return e.splice(this.selectedIndex(o),0,s),e}countFromMin(e){const[o,s]=this.range(e);return Math.floor(GI(s,o)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(fh(this.max,this.lastMillisecond(e)))}lastMillisecond(e){return this.range(e)[1]}range(e){const[o,s]=this.limitRange(this.min,this.max,e);return[o.getMilliseconds(),s.getMilliseconds()]}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})();const b_=(t,n)=>{const e=q(t);return e.setHours(n),e},C_=t=>null!==t&&t<12,dG=(t,n,e)=>!n&&!e||t>=n&&t<=e,uG=(t,n,e)=>!n&&!e||t>=n||t<=e;const hG=()=>null,fG={35:(t,n)=>t[t.length-1],36:(t,n)=>t[0],38:(t,n)=>t[n-1],40:(t,n)=>t[n+1]},gG={dayperiod:(()=>{let t=class{constructor(e){this.intl=e}apply(e,o){const s=e.getHours(),r=C_(s),a=C_(o.getHours());if(r&&a||!r&&!a)return e;const[l,d=24]=this.normalizedRange();return b_(e,Math.min(Math.max(l,s+(a?-12:12)),d||24))}configure(e){const{min:o=this.min,max:s=this.max,part:r=this.part}=e;this.min=o,this.max=s,this.part=r}data(e){const o=this.part.names;if(!o)return[];const s=[],[r,a]=this.normalizedRange(),l=this.intl.dateFormatNames(o);return C_(r)&&s.push({text:l.am,value:b_(this.min,r)}),(t=>null!==t&&(!t||t>11))(a)&&s.push({text:l.pm,value:b_(this.min,Math.max(12,a))}),this.min.getHours()!==r?s.reverse():s}isRangeChanged(e,o){return!1}limitRange(e,o,s){return[e,o]}total(){const[e,o]=this.normalizedRange();return(e||o)&&(e>11||o<12)?1:2}selectedIndex(e){if(!this.valueInList(e))return-1;const o=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?o:0===o?1:0}valueInList(e){return(this.min.getHours()!==this.normalizedRange()[0]?uG:dG)(e.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const e=this.min.getHours(),o=this.max.getHours();return[Math.min(e,o),Math.max(e,o)]}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oe.aJ))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=v([g("design:paramtypes",[Oe.aJ])],t),t})(),hour:EI,minute:RI,second:PI,millisecond:HI};let zh=(()=>{let t=class{constructor(e,o,s,r,a){this.element=e,this.injector=o,this.dom=s,this.renderer=r,this.zone=a,this.min=q(Do),this.max=q(Qr),this.step=1,this.disabled=!1,this.valueChange=new i.vpe,this.componentClass=!0,this.animateToIndex=!0,this.isActive=!1,this.skip=0,this.total=60,this.data=[],this.indexToScroll=-1,this.domEvents=[]}get tabIndex(){return this.disabled?void 0:0}ngOnChanges(e){e.part&&(this.service=this.injector.get(gG[this.part.type]),this.service.configure(this.serviceSettings()));const o=this.value,s=e.value||{},[r,a]=this.service.limitRange(this.min,this.max,o);(this.service.isRangeChanged(r,a)||e.min||e.max||e.step)&&(this.data=[],this.service.configure(this.serviceSettings({min:r,max:a}))),(!this.data.length||this.hasMissingValue(s))&&(this.animateToIndex=!1,this.data=this.service.data(o)),this.animateToIndex=this.animateToIndex&&this.textHasChanged(s),this.total=this.service.total(o),this.indexToScroll=this.selectedIndex(o)}ngOnInit(){this.animateToIndex=!0,this.dom.ensureHeights(),this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.topThreshold=.05*this.itemHeight,this.bottomThreshold=.95*this.itemHeight;const e=`translateY(${this.topOffset}px)`;this.style={transform:e,"-ms-transform":e},this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnDestroy(){this.scrollSubscription.unsubscribe(),this.domEvents.forEach(e=>e())}ngAfterViewInit(){this.scrollOnce(e=>this.virtualization.scrollToIndex(e))}ngAfterViewChecked(){this.scrollOnce(e=>{this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](e),this.animateToIndex=!0})}handleChange(e){const o=this.service.apply(this.value,e.value);this.value.getTime()!==o.getTime()&&(this.indexToScroll=this.data.indexOf(e),this.value=o,this.valueChange.emit(o))}handleItemClick(e){const o=t_(e.target,s=>s.hasAttribute("data-timelist-item-index"),this.element.nativeElement);if(o){const s=o.getAttribute("data-timelist-item-index");this.handleChange(this.data[s])}}focus(){!this.element||this.element.nativeElement.focus()}blur(){!this.element||this.element.nativeElement.blur()}itemOffset(e){const o=this.selectedIndex(this.value),s=this.virtualization.activeIndex(),r=this.virtualization.itemOffset(s),a=Math.abs(Math.ceil(e)-r);if(o===s&&a<2)return r;const l=o>s;return l&&a>=this.bottomThreshold||!l&&a>this.topThreshold?this.virtualization.itemOffset(s+1):r}hasMissingValue({previousValue:e,currentValue:o}){const s=e&&!this.service.valueInList(e),r=o&&!this.service.valueInList(o);return s||r}scrollOnce(e){-1!==this.indexToScroll&&(e(this.indexToScroll),this.indexToScroll=-1)}serviceSettings(e){const s=Object.assign({},{boundRange:!1,insertUndividedMax:!1,max:this.max,min:this.min,part:this.part,step:this.step},e);return s.boundRange="hour"!==s.part.type,s}selectedIndex(e){return e?this.service.selectedIndex(e):-1}textHasChanged({previousValue:e,currentValue:o}){if(!e||!o)return!1;const s=this.data[this.selectedIndex(e)],r=this.data[this.selectedIndex(o)];return s&&r&&s.text!==r.text}handleKeyDown(e){const s=(fG[e.keyCode]||hG)(this.data,this.service.selectedIndex(this.value));s&&(this.handleChange(s),e.preventDefault())}bindEvents(){this.scrollSubscription=this.virtualization.scroll$().pipe((0,Yu.b)(100),(0,xe.U)(o=>o.target.scrollTop),(0,xe.U)(o=>this.itemOffset(o)),(0,xe.U)(o=>this.virtualization.itemIndex(o))).subscribe(o=>{this.virtualization.scrollToIndex(o),this.handleChange(this.data[o])});const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",()=>!this.isActive&&this.focus()),this.renderer.listen(e,"click",()=>this.focus()),this.renderer.listen(e,"blur",()=>this.isActive=!1),this.renderer.listen(e,"focus",()=>this.isActive=!0),this.renderer.listen(e,"keydown",this.handleKeyDown.bind(this)))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.zs3),i.Y36(hd),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-timelist"]],viewQuery:function(e,o){if(1&e&&i.Gf(Sn,7),2&e){let s;i.iGM(s=i.CRH())&&(o.virtualization=s.first)}},hostVars:3,hostBindings:function(e,o){2&e&&(i.uIk("tabindex",o.tabIndex),i.ekj("k-time-list",o.componentClass))},inputs:{min:"min",max:"max",step:"step",disabled:"disabled",value:"value",part:"part"},outputs:{valueChange:"valueChange"},features:[i.TTD],decls:3,vars:13,consts:[["role","presentation","tabindex","-1",1,"k-time-container",3,"skip","take","total","itemHeight","maxScrollDifference","topOffset","bottomOffset"],[1,"k-reset",3,"ngStyle","kendoEventsOutsideAngular","scope"],["class","k-item",4,"ngFor","ngForOf"],[1,"k-item"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-virtualization",0),i.TgZ(1,"ul",1),i.YNc(2,NP,3,2,"li",2),i.qZA(),i.qZA()),2&e&&(i.Q6J("skip",o.skip)("take",o.total)("total",o.total)("itemHeight",o.itemHeight)("maxScrollDifference",o.listHeight)("topOffset",o.topOffset)("bottomOffset",o.bottomOffset),i.xp6(1),i.Q6J("ngStyle",o.style)("kendoEventsOutsideAngular",i.VKq(11,Js,o.handleItemClick))("scope",o),i.xp6(1),i.Q6J("ngForOf",o.data))},directives:[Sn,x.PC,kt,x.sg],encapsulation:2}),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Object)],t.prototype,"part",void 0),v([(0,i.IIB)(),g("design:type",Number)],t.prototype,"step",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"value",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"valueChange",void 0),v([(0,i.i9L)(Sn,{static:!0}),g("design:type",Sn)],t.prototype,"virtualization",void 0),v([(0,i.pfw)("attr.tabindex"),g("design:type",Number),g("design:paramtypes",[])],t.prototype,"tabIndex",null),v([(0,i.pfw)("class.k-time-list"),g("design:type",Boolean)],t.prototype,"componentClass",void 0),t=v([g("design:paramtypes",[i.SBq,i.zs3,hd,i.Qsj,i.R0b])],t),t})();const JI=(t,n)=>t.getHours()===n.getHours()&&t.getMinutes()===n.getMinutes(),jI=(t,n)=>JI(t,n)&&t.getSeconds()===n.getSeconds(),qI=[{type:"hour",getter:t=>t.getHours(),minGetter:(t,n)=>n.getHours()},{type:"minute",getter:t=>t.getMinutes(),minGetter:(t,n)=>JI(t,n)?n.getMinutes():0},{type:"second",getter:t=>t.getSeconds(),minGetter:(t,n)=>jI(t,n)?n.getSeconds():0},{type:"millisecond",getter:t=>t.getMilliseconds(),minGetter:(t,n)=>((t,n)=>jI(t,n)&&t.getMilliseconds()===n.getMilliseconds())(t,n)?n.getMilliseconds():0}],ZI=(t=>n=>t.map((t=>n=>t[n.type]?(t=>(n,e)=>t(e))(n.getter):(t=>(n,e)=>t(n))(n.getter))((t=>t.reduce((n,e)=>(n[e.type]=e.type,n),{}))(n))))(qI),FG=(t=>n=>t.map(e=>{const o=n[e.type];return o?((t,n,e)=>(o,s)=>{const r=t(o),a=n(o,s),l=r-a;if(l<0)return a;const d=l%e;return r-d+(d>e/2?e:0)})(e.getter,e.minGetter,o):e.getter}))(qI),UI=t=>(n,e)=>(n.setHours(...t.map(o=>o(n,e))),n),RG=(t,n,e,o)=>t.length||!n.isActive?t:[{next:o[e+1]||n,prev:o[e-1]||n}];var Yl=(()=>(function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(Yl||(Yl={})),Yl))();let w_=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c){this.localization=e,this.cdr=o,this.element=s,this.intl=r,this.dom=a,this.zone=l,this.renderer=d,this.pickerService=c,this.componentClass=!0,this.format="t",this.min=q(Ll),this.max=q(Qr),this.cancelButton=!0,this.setButton=!0,this.nowButton=!0,this.disabled=!1,this.value=null,this.valueChange=new i.vpe,this.valueReject=new i.vpe,this.isActive=!1,this.showNowButton=!0,this._activeListIndex=-1,this._steps={},this.domEvents=[],this.pickerService&&(this.pickerService.timeSelector=this)}get disabledClass(){return this.disabled}set steps(e){this._steps=e||{}}get steps(){return this._steps}set current(e){this._current=((t,n,e)=>{if(!t||!n||!e)return t;const{candidateValue:o,minValue:s,maxValue:r}=Q1(t,n,e);return o<s?Mo(t,n):o>r?Mo(t,e):t})(this.snapTime(q(e||Do),this.min),this.min,this.max),i.R0b.isInAngularZone()||this.cdr.detectChanges()}get current(){return this._current}get activeListIndex(){return this._activeListIndex}set activeListIndex(e){if(this._activeListIndex=e,this.timeListWrappers&&this.timeListWrappers.length&&(this.timeListWrappers.forEach(o=>{this.renderer.removeClass(o.nativeElement,"k-state-focused")}),e>=0)){const o=this.listIndex(e),s=this.timeListWrappers.toArray()[o];s&&this.renderer.addClass(s.nativeElement,"k-state-focused")}}ngOnInit(){this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.localization&&this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.dom.calculateHeights(this.element.nativeElement),this.init(),this.bindEvents()}ngOnChanges(e){this.init()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.pickerService&&(this.pickerService.timeSelector=null),this.domEvents.forEach(e=>e())}focus(){const e=this.timeLists.first;!e||e.focus()}blur(){const e=this.timeLists.first;!e||e.blur()}handleAccept(){this.handleChange(this.mergeValue(q(this.value||Ct(zv())),this.current))}handleNow(){this.current=zv(),this.handleChange(this.current),this.cdr.markForCheck()}handleReject(){this.current=this.value,this.valueReject.emit()}handleFocus(e){this.isActive||(this.isActive=!0,this.emitFocus(e))}handleListFocus(e){const o=parseInt(e.target.getAttribute("data-timelist-index"),10);this.activeListIndex=o,this.handleFocus(e)}handleBlur(e){const o=Lv(e);o&&this.containsElement(o)||(this.activeListIndex=-1,this.isActive=!1,this.emitBlur(e))}containsElement(e){return Boolean(i_(e,o=>o===this.element.nativeElement))}partStep(e){return this.steps[e.type]||1}init(e){(!e||js(e,"format"))&&(this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=UI(ZI(this.dateFormatParts))),(!e||js(e,"steps"))&&(this.snapTime=(t=>(n,e)=>{const o=q(n);return o.setHours(...t.map(s=>s(o,e))),o})(FG(this.steps))),(!e||js(e,"value"))&&(this.current=this.value),this.showNowButton=!this.hasSteps()&&this.nowButton&&X1(zv(),this.min,this.max)}focusList(e){!this.timeLists.length||this.timeLists.reduce(RG,[]).map(o=>e===Yl.Right?o.next:o.prev).map(o=>o&&o.focus())}handleChange(e){this.value=e,this.valueChange.emit(q(e))}hasActiveButton(){return!!this.accept&&[this.accept,this.cancel,this.now].reduce((e,o)=>e||this.dom.isActive(o),!1)}hasSteps(){const e=Object.keys(this.steps);return e.length!==e.reduce((o,s)=>o+this.steps[s],0)}intlChange(){this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=UI(ZI(this.dateFormatParts)),this.cdr.markForCheck()}bindEvents(){this.element&&this.zone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this)))})}handleKeydown(e){const{keyCode:o,altKey:s}=e,r=-1!==[R.ArrowLeft,R.ArrowRight].indexOf(o);ge(this.pickerService)&&r&&s||(o!==R.Enter||this.hasActiveButton()?(o===R.ArrowLeft||o===R.ArrowRight)&&this.focusList(o===R.ArrowLeft?Yl.Left:Yl.Right):this.handleAccept())}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(e){this.pickerService&&this.pickerService.onFocus.emit(e)}listIndex(e){let o=0,s=0;for(;s<e;)"literal"!==this.dateFormatParts[s].type&&o++,s++;return o}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(Oe.aJ),i.Y36(hd),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(sn,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-timeselector"]],viewQuery:function(e,o){if(1&e&&(i.Gf(LP,5),i.Gf(PP,5),i.Gf(zP,5),i.Gf(zh,5),i.Gf(GP,5)),2&e){let s;i.iGM(s=i.CRH())&&(o.accept=s.first),i.iGM(s=i.CRH())&&(o.cancel=s.first),i.iGM(s=i.CRH())&&(o.now=s.first),i.iGM(s=i.CRH())&&(o.timeLists=s),i.iGM(s=i.CRH())&&(o.timeListWrappers=s)}},hostVars:4,hostBindings:function(e,o){2&e&&i.ekj("k-timeselector",o.componentClass)("k-state-disabled",o.disabledClass)},inputs:{format:"format",min:"min",max:"max",cancelButton:"cancelButton",setButton:"setButton",nowButton:"nowButton",disabled:"disabled",value:"value",steps:"steps"},outputs:{valueChange:"valueChange",valueReject:"valueReject"},exportAs:["kendo-timeselector"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.timeselector"}]),i.TTD],decls:9,vars:4,consts:function(){let n,e,o,s,r,a;return n=$localize`:kendo.timeselector.accept|The Accept button text in the timeselector component␟801811aa1609e3f173c86baa82cee037f75a215f␟5362895271044573681:Set`,e=$localize`:kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component␟b4b1e5ac55f0330f6c4e32b866ae4339ad969978␟3417396278000787211:Set time`,o=$localize`:kendo.timeselector.cancel|The Cancel button text in the timeselector component␟3004d7704ffa6202a3b3925fcea490e486203a3e␟1890188482755567622:Cancel`,s=$localize`:kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component␟08dfbdfffd662371a6ff4c0b6ed82b9faa48143b␟5738120209397145846:Cancel changes`,r=$localize`:kendo.timeselector.now|The Now button text in the timeselector component␟98cba1ae36a7bbe15e1bac1837e07922ec109e7d␟1926162752852226109:Now`,a=$localize`:kendo.timeselector.nowLabel|The label for the Now button in the timeselector component␟08e6a8a51d970609e138950fdd89c5cf201869f3␟7789175884909488647:Select now`,[["kendoTimeSelectorLocalizedMessages","","accept",n,"acceptLabel",e,"cancel",o,"cancelLabel",s,"now",r,"nowLabel",a],[1,"k-time-header"],[1,"k-title","k-timeselector-title"],["class","k-button k-flat k-time-now","type","button",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],[1,"k-time-list-container"],[1,"k-time-highlight"],["ngFor","",3,"ngForOf"],["class","k-time-footer k-action-buttons",4,"ngIf"],["type","button",1,"k-button","k-flat","k-time-now",3,"kendoEventsOutsideAngular","scope","disabled"],["now",""],["class","k-time-list-wrapper","role","presentation","tabindex","-1",4,"ngIf"],["class","k-time-separator",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-time-list-wrapper"],["listWrapper",""],[3,"min","max","part","step","disabled","value","kendoEventsOutsideAngular","scope","valueChange"],[1,"k-time-separator"],[1,"k-time-footer","k-action-buttons"],["class","k-button k-time-cancel","type","button",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["type","button","class","k-time-accept k-button k-primary",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["type","button",1,"k-button","k-time-cancel",3,"kendoEventsOutsideAngular","scope","disabled"],["cancel",""],["type","button",1,"k-time-accept","k-button","k-primary",3,"kendoEventsOutsideAngular","scope","disabled"],["accept",""]]},template:function(e,o){1&e&&(i.GkF(0,0),i.TgZ(1,"div",1),i.TgZ(2,"span",2),i._uU(3),i.qZA(),i.YNc(4,VP,3,10,"button",3),i.qZA(),i.TgZ(5,"div",4),i._UZ(6,"span",5),i.YNc(7,JP,2,2,"ng-template",6),i.qZA(),i.YNc(8,ZP,3,2,"div",7)),2&e&&(i.xp6(3),i.hij(" ",o.intl.formatDate(o.current,o.format)," "),i.xp6(1),i.Q6J("ngIf",o.showNowButton),i.xp6(3),i.Q6J("ngForOf",o.dateFormatParts),i.xp6(1),i.Q6J("ngIf",o.setButton||o.cancelButton))},directives:function(){return[er,x.O5,x.sg,kt,zh]},encapsulation:2,changeDetection:0}),v([(0,i.i9L)("accept",{static:!1}),g("design:type",i.SBq)],t.prototype,"accept",void 0),v([(0,i.i9L)("cancel",{static:!1}),g("design:type",i.SBq)],t.prototype,"cancel",void 0),v([(0,i.i9L)("now",{static:!1}),g("design:type",i.SBq)],t.prototype,"now",void 0),v([(0,i.vR)(zh),g("design:type",i.n_E)],t.prototype,"timeLists",void 0),v([(0,i.vR)("listWrapper"),g("design:type",i.n_E)],t.prototype,"timeListWrappers",void 0),v([(0,i.pfw)("class.k-timeselector"),g("design:type",Boolean)],t.prototype,"componentClass",void 0),v([(0,i.pfw)("class.k-state-disabled"),g("design:type",Boolean),g("design:paramtypes",[])],t.prototype,"disabledClass",null),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"format",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"min",void 0),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"max",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"cancelButton",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"setButton",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"nowButton",void 0),v([(0,i.IIB)(),g("design:type",Boolean)],t.prototype,"disabled",void 0),v([(0,i.IIB)(),g("design:type",Object),g("design:paramtypes",[Object])],t.prototype,"steps",null),v([(0,i.IIB)(),g("design:type",Date)],t.prototype,"value",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"valueChange",void 0),v([(0,i.r_U)(),g("design:type",i.vpe)],t.prototype,"valueReject",void 0),t=v([Vn(7,(0,i.FiY)()),g("design:paramtypes",[I,i.sBO,i.SBq,Oe.aJ,hd,i.R0b,i.Qsj,sn])],t),t})(),Ws=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",now:"now",nowLabel:"nowLabel",toggle:"toggle"},features:[i.qOj]}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"accept",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"acceptLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cancel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cancelLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"now",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"nowLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"toggle",void 0),t})();var S_;let Ks=S_=class extends Ws{constructor(n){super(),this.service=n}};var I_;Ks.\u0275fac=function(n){return new(n||Ks)(i.Y36(I))},Ks.\u0275dir=i.lG2({type:Ks,selectors:[["","kendoTimePickerLocalizedMessages",""]],features:[i._Bn([{provide:Ws,useExisting:(0,i.Gpc)(()=>S_)}]),i.qOj]}),Ks=S_=v([g("design:paramtypes",[I])],Ks);let oa=I_=class extends Ws{constructor(n){super(),this.service=n}get override(){return!0}};var k_;oa.\u0275fac=function(n){return new(n||oa)(i.Y36(I))},oa.\u0275cmp=i.Xpm({type:oa,selectors:[["kendo-timepicker-messages"]],features:[i._Bn([{provide:Ws,useExisting:(0,i.Gpc)(()=>I_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),oa=I_=v([g("design:paramtypes",[I])],oa);let er=k_=class extends Ws{constructor(n){super(),this.service=n}};var x_;er.\u0275fac=function(n){return new(n||er)(i.Y36(I))},er.\u0275dir=i.lG2({type:er,selectors:[["","kendoTimeSelectorLocalizedMessages",""]],features:[i._Bn([{provide:Ws,useExisting:(0,i.Gpc)(()=>k_)}]),i.qOj]}),er=k_=v([g("design:paramtypes",[I])],er);let ps=x_=class extends Ws{constructor(n){super(),this.service=n}get override(){return!0}};ps.\u0275fac=function(n){return new(n||ps)(i.Y36(I))},ps.\u0275cmp=i.Xpm({type:ps,selectors:[["kendo-timeselector-messages"]],features:[i._Bn([{provide:Ws,useExisting:(0,i.Gpc)(()=>x_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),ps=x_=v([g("design:paramtypes",[I])],ps);let Gh=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{toggle:"toggle",dateTab:"dateTab",dateTabLabel:"dateTabLabel",timeTab:"timeTab",timeTabLabel:"timeTabLabel",accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",today:"today",now:"now",nowLabel:"nowLabel",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[i.qOj]}),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"toggle",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"dateTab",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"dateTabLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"timeTab",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"timeTabLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"accept",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"acceptLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cancel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"cancelLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"today",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"now",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"nowLabel",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"prevButtonTitle",void 0),v([(0,i.IIB)(),g("design:type",String)],t.prototype,"nextButtonTitle",void 0),t})();var D_;let sa=D_=class extends Gh{constructor(n){super(),this.service=n}get override(){return!0}};var M_;sa.\u0275fac=function(n){return new(n||sa)(i.Y36(I))},sa.\u0275cmp=i.Xpm({type:sa,selectors:[["kendo-datetimepicker-messages"]],features:[i._Bn([{provide:Gh,useExisting:(0,i.Gpc)(()=>D_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),sa=D_=v([g("design:paramtypes",[I])],sa);let tr=M_=class extends Gh{constructor(n){super(),this.service=n}};function vt(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function st(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}tr.\u0275fac=function(n){return new(n||tr)(i.Y36(I))},tr.\u0275dir=i.lG2({type:tr,selectors:[["","kendoDateTimePickerLocalizedMessages",""]],features:[i._Bn([{provide:Gh,useExisting:(0,i.Gpc)(()=>M_)}]),i.qOj]}),tr=M_=v([g("design:paramtypes",[I])],tr);const KI=["*"];function HG(t,n){if(1&t&&(i.TgZ(0,"span",3),i._uU(1),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij("(",e.textFor("optional"),")")}}let fd=(()=>{let t=class{constructor(e,o,s){this.label=e,this.renderer=o,this.zone=s,this.labelClass=!0,this.handleClick=()=>{const r=this.getFocusableComponent();!r||((t=>t.wrapper&&("KENDO-UPLOAD"===t.wrapper.tagName||"KENDO-FILESELECT"===t.wrapper.tagName))(r)&&r.fileSelect.nativeElement.click(),r.focus&&r.focus())}}get labelFor(){if("string"==typeof this.for)return this.for;if(!W())return null;const e=this.getFocusableComponent()||{};return(t=>t instanceof HTMLElement)(e)&&!((t,n)=>t.hasAttribute("id"))(e)&&this.renderer.setAttribute(e,"id",`k-${Ve()}`),e.focusableId||e.id||null}ngAfterViewInit(){this.setAriaLabelledby(),this.zone.runOutsideAngular(()=>this.clickListener=this.renderer.listen(this.label.nativeElement,"click",this.handleClick))}ngOnDestroy(){this.clickListener&&this.clickListener()}setAriaLabelledby(){if(!W())return;const e=this.getFocusableComponent();if(e&&e.focusableId){const s=(t=>{if(!t)return null;let n=t;for(;n.parentElement;)n=n.parentElement;return n})(this.label.nativeElement).querySelector(`#${e.focusableId}`);if(!s)return;const r=this.label.nativeElement,a=r.id||`k-${Ve()}`;r.getAttribute("id")||this.renderer.setAttribute(r,"id",a),this.renderer.setAttribute(s,"aria-labelledby",a)}}getFocusableComponent(){const e=this.for;return e&&void 0!==e.focus?e:null}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,o){2&e&&(i.uIk("for",o.labelFor),i.ekj("k-label",o.labelClass))},inputs:{for:"for"}}),vt([(0,i.IIB)(),st("design:type",Object)],t.prototype,"for",void 0),vt([(0,i.pfw)("attr.for"),st("design:type",String),st("design:paramtypes",[])],t.prototype,"labelFor",null),vt([(0,i.pfw)("class.k-label"),st("design:type",Boolean)],t.prototype,"labelClass",void 0),t=vt([st("design:paramtypes",[i.SBq,i.Qsj,i.R0b])],t),t})(),Hh=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{optional:"optional"},features:[i.qOj]}),vt([(0,i.IIB)(),st("design:type",String)],t.prototype,"optional",void 0),t})();var B_;let hs=B_=class extends Hh{constructor(n){super(),this.service=n}};var F_;hs.\u0275fac=function(n){return new(n||hs)(i.Y36(I))},hs.\u0275dir=i.lG2({type:hs,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[i._Bn([{provide:Hh,useExisting:(0,i.Gpc)(()=>B_)}]),i.qOj]}),hs=B_=vt([st("design:paramtypes",[I])],hs);let ra=F_=class extends Hh{constructor(n){super(),this.service=n}get override(){return!0}};ra.\u0275fac=function(n){return new(n||ra)(i.Y36(I))},ra.\u0275cmp=i.Xpm({type:ra,selectors:[["kendo-label-messages"],["kendo-floatinglabel-messages"]],features:[i._Bn([{provide:Hh,useExisting:(0,i.Gpc)(()=>F_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),ra=F_=vt([st("design:paramtypes",[I])],ra);let Yh=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const ek={name:"@progress/kendo-angular-label",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1646219058,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let UG=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Yh],Yh]}),t})(),ik=(()=>{let t=class{constructor(e,o,s){this.elementRef=e,this.renderer=o,this.localization=s,this.subscriptions=new Ie.w,(0,lt.s)(ek),this.direction=s.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}ngAfterContentInit(){if(this.for)return void(this.control=this.for);const e=(t=>this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select"))();if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id",`k-${Ve()}`),void(this.control=e);this.control=this.kendoInput}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}))}ngAfterViewInit(){this.labelDirective.setAriaLabelledby()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(e){return this.localization.get(e)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-label"]],contentQueries:function(e,o,s){if(1&e&&i.Suo(s,qe,7),2&e){let r;i.iGM(r=i.CRH())&&(o.kendoInput=r.first)}},viewQuery:function(e,o){if(1&e&&i.Gf(fd,7),2&e){let s;i.iGM(s=i.CRH())&&(o.labelDirective=s.first)}},hostVars:1,hostBindings:function(e,o){2&e&&i.uIk("dir",o.direction)},inputs:{text:"text",for:"for",optional:"optional"},exportAs:["kendoLabel"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.label"}])],ngContentSelectors:KI,decls:5,vars:5,consts:function(){let n;return n=$localize`:kendo.label.optional|The text for the optional segment of a Label component␟a1cd4a8f359a22151d7e73f2887fbb2967cd389a␟3476218486854814180:Optional`,[["kendoLabelLocalizedMessages","","optional",n],[3,"for"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]]},template:function(e,o){1&e&&(i.F$t(),i.GkF(0,0),i.TgZ(1,"label",1),i._uU(2),i.YNc(3,HG,2,1,"span",2),i.qZA(),i.Hsn(4)),2&e&&(i.xp6(1),i.ekj("k-label-empty",!o.text),i.Q6J("for",o.control),i.xp6(1),i.hij(" ",o.text,""),i.xp6(1),i.Q6J("ngIf",o.optional))},directives:[hs,fd,x.O5],encapsulation:2}),vt([(0,i.pfw)("attr.dir"),st("design:type",String)],t.prototype,"direction",void 0),vt([(0,i.IIB)(),st("design:type",String)],t.prototype,"text",void 0),vt([(0,i.IIB)(),st("design:type",Object)],t.prototype,"for",void 0),vt([(0,i.IIB)(),st("design:type",Boolean)],t.prototype,"optional",void 0),vt([(0,i.i9L)(fd,{static:!0}),st("design:type",fd)],t.prototype,"labelDirective",void 0),vt([(0,i.aQ5)(qe,{static:!0}),st("design:type",Object)],t.prototype,"kendoInput",void 0),t=vt([st("design:paramtypes",[i.SBq,i.Qsj,I])],t),t})(),QG=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Yh],UG,Yh]}),t})();function T(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function $h(t,n){return function(e,o){n(e,o,t)}}function k(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}let gd=(()=>{let t=class{constructor(){this.buttonLookChange=new eo.X("default"),this.buttonClicked=new Ze.xQ,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}setButtonLook(e){this.buttonLookChange.next(e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const qh={name:"@progress/kendo-angular-buttons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1635937762,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let lo=(()=>{let t=class{constructor(e,o,s,r,a){this.service=s,this.ngZone=a,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new i.vpe,this.click=new i.vpe,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],(0,lt.s)(qh),this.direction=r.rtl?"rtl":"ltr",this.localizationChangeSubscription=r.changes.subscribe(({rtl:l})=>this.direction=l?"rtl":"ltr"),this.element=e.nativeElement,this.renderer=o}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set tabIndex(e){this.element.tabIndex=e}get tabIndex(){return this.element.tabIndex}set icon(e){e?this.iconSetter(e,()=>{this.isIcon=!0,this.addIcon("k-icon k-i-"+e)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(e){e?this.iconSetter(e,()=>{this.isIconClass=!0,this.addIcon(e)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get disabled(){return this.isDisabled}set isFocused(e){this.toggleClass("k-state-focused",e),this._focused=e}get isFocused(){return this._focused}get classButton(){return!0}get classPrimary(){return this.primary}get isToggleable(){return this.toggleable}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get isClear(){return"clear"===this.look}get roleSetter(){return this.role}get classDisabled(){return this.isDisabled}get classActive(){return this.selected}get getDirection(){return this.direction}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}ngOnInit(){const e="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe((0,ee.h)(o=>"default"!==o)).subscribe(o=>this.look=o)),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaPressed(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this))),this.domEvents.push(this.renderer.listen(this.element,"keydown",o=>{e&&(o.keyCode===R.Space||o.keyCode===R.Enter)&&(this.click.emit(o),this._onButtonClick())}))})}ngOnChanges(e){(ht("togglable",e)||ht("toggleable",e))&&this.toggleAriaPressed(this.toggleable)}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach(e=>e())}focus(){W()&&(this.element.focus(),this.isFocused=!0)}blur(){W()&&(this.element.blur(),this.isFocused=!1)}setAttribute(e,o){this.renderer.setAttribute(this.element,e,o)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const o=this.selected!==e;this.selected=e,this.setAttribute("aria-pressed",this.selected.toString()),this.toggleClass("k-state-selected",this.selected),o&&ne(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaPressed(e){!W()||(e?this.setAttribute("aria-pressed",this.selected.toString()):this.removeAttribute("aria-pressed"))}hasText(){return!!W()&&String(this.element.textContent).trim().length>0}addImgIcon(e){let o=this.renderer;this.imageNode?o.setProperty(this.imageNode,"src",e):W()&&(this.imageNode=o.createElement("img"),o.setProperty(this.imageNode,"src",e),o.setProperty(this.imageNode,"className","k-image"),o.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}addIcon(e){let o=this.renderer;this.iconNode?o.setProperty(this.iconNode,"className",e):W()&&(this.iconNode=o.createElement("span"),o.setProperty(this.iconNode,"className",e),o.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}prependChild(e){this.defer(()=>{this.renderer&&e!==this.element.firstChild&&this.renderer.insertBefore(this.element,e,this.element.firstChild)})}defer(e){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(e,0)})}iconSetter(e,o){e&&o(e),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}updateIconNode(){!this.isIcon&&!this.isIconClass&&this.removeIconNode()}setIconTextClasses(){const e=this.isIcon||this.isIconClass||this.imageNode,o=this.hasText();this.toggleClass("k-button-icon",e&&!o),this.toggleClass("k-button-icontext",e&&o)}toggleClass(e,o){o?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.togglable&&!this.service&&this.setSelected(!this.selected)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(gd,8),i.Y36(I),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["button","kendoButton",""],["span","kendoButton",""]],hostVars:21,hostBindings:function(e,o){1&e&&i.NdJ("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),2&e&&(i.uIk("role",o.roleSetter)("aria-disabled",o.classDisabled)("dir",o.getDirection),i.ekj("k-button",o.classButton)("k-primary",o.classPrimary)("k-toggle-button",o.isToggleable)("k-flat",o.isFlat)("k-bare",o.isBare)("k-outline",o.isOutline)("k-button-clear",o.isClear)("k-state-disabled",o.classDisabled)("k-state-selected",o.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",role:"role",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.button"}]),i.TTD]}),T([(0,i.IIB)(),k("design:type",Boolean)],t.prototype,"toggleable",void 0),T([(0,i.IIB)(),k("design:type",Boolean),k("design:paramtypes",[Boolean])],t.prototype,"togglable",null),T([(0,i.IIB)(),k("design:type",Boolean)],t.prototype,"primary",void 0),T([(0,i.IIB)(),k("design:type",String)],t.prototype,"look",void 0),T([(0,i.IIB)(),k("design:type",Boolean),k("design:paramtypes",[Boolean])],t.prototype,"selected",null),T([(0,i.IIB)(),k("design:type",Number),k("design:paramtypes",[Number])],t.prototype,"tabIndex",null),T([(0,i.IIB)(),k("design:type",String),k("design:paramtypes",[String])],t.prototype,"icon",null),T([(0,i.IIB)(),k("design:type",String),k("design:paramtypes",[String])],t.prototype,"iconClass",null),T([(0,i.IIB)(),k("design:type",String),k("design:paramtypes",[String])],t.prototype,"imageUrl",null),T([(0,i.IIB)(),k("design:type",Boolean),k("design:paramtypes",[Boolean])],t.prototype,"disabled",null),T([(0,i.IIB)(),k("design:type",String)],t.prototype,"role",void 0),T([(0,i.r_U)(),k("design:type",i.vpe)],t.prototype,"selectedChange",void 0),T([(0,i.r_U)(),k("design:type",i.vpe)],t.prototype,"click",void 0),T([(0,i.pfw)("class.k-button"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"classButton",null),T([(0,i.pfw)("class.k-primary"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"classPrimary",null),T([(0,i.pfw)("class.k-toggle-button"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"isToggleable",null),T([(0,i.pfw)("class.k-flat"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"isFlat",null),T([(0,i.pfw)("class.k-bare"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"isBare",null),T([(0,i.pfw)("class.k-outline"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"isOutline",null),T([(0,i.pfw)("class.k-button-clear"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"isClear",null),T([(0,i.pfw)("attr.role"),k("design:type",String),k("design:paramtypes",[])],t.prototype,"roleSetter",null),T([(0,i.pfw)("attr.aria-disabled"),(0,i.pfw)("class.k-state-disabled"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"classDisabled",null),T([(0,i.pfw)("class.k-state-selected"),k("design:type",Boolean),k("design:paramtypes",[])],t.prototype,"classActive",null),T([(0,i.pfw)("attr.dir"),k("design:type",String),k("design:paramtypes",[])],t.prototype,"getDirection",null),T([(0,i.L6J)("focus"),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],t.prototype,"onFocus",null),T([(0,i.L6J)("blur"),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],t.prototype,"onBlur",null),t=T([$h(2,(0,i.FiY)()),k("design:paramtypes",[i.SBq,i.Qsj,gd,I,i.R0b])],t),t})();Promise.resolve(null),new i.OlP("navigation.config");let Wh=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{splitButtonLabel:"splitButtonLabel"},features:[i.qOj]}),T([(0,i.IIB)(),k("design:type",String)],t.prototype,"splitButtonLabel",void 0),t})();var L_;let ca=L_=class extends Wh{constructor(n){super(),this.service=n}};var P_;ca.\u0275fac=function(n){return new(n||ca)(i.Y36(I))},ca.\u0275dir=i.lG2({type:ca,selectors:[["","kendoSplitButtonLocalizedMessages",""]],features:[i._Bn([{provide:Wh,useExisting:(0,i.Gpc)(()=>L_)}]),i.qOj]}),ca=L_=T([k("design:paramtypes",[I])],ca);let $l=P_=class extends Wh{constructor(n){super(),this.service=n}get override(){return!0}};function Je(t){return void 0!==t}$l.\u0275fac=function(n){return new(n||$l)(i.Y36(I))},$l.\u0275cmp=i.Xpm({type:$l,selectors:[["kendo-splitbutton-messages"]],features:[i._Bn([{provide:Wh,useExisting:(0,i.Gpc)(()=>P_)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),$l=P_=T([k("design:paramtypes",[I])],$l);const hk=Math.PI/180,_d=Number.MAX_VALUE,yd=-Number.MAX_VALUE;function gs(t){return t*hk}function Dt(t,n){const e=function(t){return t?Math.pow(10,t):1}(n);return Math.round(t*e)/e}class co extends Rs{constructor(n=0,e=0,o=0,s=0,r=0,a=0){super(),this.a=n,this.b=e,this.c=o,this.d=s,this.e=r,this.f=a}multiplyCopy(n){return new co(this.a*n.a+this.c*n.b,this.b*n.a+this.d*n.b,this.a*n.c+this.c*n.d,this.b*n.c+this.d*n.d,this.a*n.e+this.c*n.f+this.e,this.b*n.e+this.d*n.f+this.f)}invert(){const{a:n,b:e,c:o,d:s,e:r,f:a}=this,l=n*s-e*o;return 0===l?null:new co(s/l,-e/l,-o/l,n/l,(o*a-s*r)/l,(e*r-n*a)/l)}clone(){return new co(this.a,this.b,this.c,this.d,this.e,this.f)}equals(n){return!!n&&this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d&&this.e===n.e&&this.f===n.f}round(n){return this.a=Dt(this.a,n),this.b=Dt(this.b,n),this.c=Dt(this.c,n),this.d=Dt(this.d,n),this.e=Dt(this.e,n),this.f=Dt(this.f,n),this}toArray(n){const e=[this.a,this.b,this.c,this.d,this.e,this.f];if(Je(n))for(let o=0;o<e.length;o++)e[o]=Dt(e[o],n);return e}toString(n,e=","){return this.toArray(n).join(e)}static translate(n,e){return new co(1,0,0,1,n,e)}static unit(){return new co(1,0,0,1,0,0)}static rotate(n,e,o){const s=new co;return s.a=Math.cos(gs(n)),s.b=Math.sin(gs(n)),s.c=-s.b,s.d=s.a,s.e=e-e*s.a+o*s.b||0,s.f=o-o*s.a-e*s.b||0,s}static scale(n,e){return new co(n,0,0,e,0,0)}}co.IDENTITY=co.unit();var kn=co,Jn=class extends Rs{observers(){return this._observers=this._observers||[],this._observers}addObserver(n){return this._observers?this._observers.push(n):this._observers=[n],this}removeObserver(n){const e=this.observers(),o=e.indexOf(n);return-1!==o&&e.splice(o,1),this}trigger(n,e){const o=this._observers;if(o&&!this._suspended)for(let s=0;s<o.length;s++){let r=o[s];r[n]&&r[n](e)}return this}optionsChange(n={}){n.element=this,this.trigger("optionsChange",n)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(n,e){this[n]&&this[n].removeObserver(this),this[n]=e,e.addObserver(this)}};function n9(t){return function(n){return this[t]!==n&&(this[t]=n,this.geometryChange()),this}}function o9(t){return function(){return this[t]}}var sf=(t,n)=>{const e=class extends t{};return function(t,n){for(let e=0;e<n.length;e++){let o=n[e],s=o.charAt(0).toUpperCase()+o.substring(1,o.length);t["set"+s]=n9(o),t["get"+s]=o9(o)}}(e.prototype,n),e};function da(t){return t&&"function"==typeof t.matrix?t.matrix():t}class xn extends(sf(Jn,["x","y"])){constructor(n,e){super(),this.x=n||0,this.y=e||0}equals(n){return n&&n.x===this.x&&n.y===this.y}clone(){return new xn(this.x,this.y)}rotate(n,e){const o=xn.create(e)||xn.ZERO;return this.transform(kn.rotate(n,o.x,o.y))}translate(n,e){return this.x+=n,this.y+=e,this.geometryChange(),this}translateWith(n){return this.translate(n.x,n.y)}move(n,e){return this.x=this.y=0,this.translate(n,e)}scale(n,e=n){return this.x*=n,this.y*=e,this.geometryChange(),this}scaleCopy(n,e){return this.clone().scale(n,e)}transform(n){const e=da(n),{x:o,y:s}=this;return this.x=e.a*o+e.c*s+e.e,this.y=e.b*o+e.d*s+e.f,this.geometryChange(),this}transformCopy(n){const e=this.clone();return n&&e.transform(n),e}distanceTo(n){const e=this.x-n.x,o=this.y-n.y;return Math.sqrt(e*e+o*o)}round(n){return this.x=Dt(this.x,n),this.y=Dt(this.y,n),this.geometryChange(),this}toArray(n){const e=Je(n);return[e?Dt(this.x,n):this.x,e?Dt(this.y,n):this.y]}toString(n,e=" "){let{x:o,y:s}=this;return Je(n)&&(o=Dt(o,n),s=Dt(s,n)),o+e+s}static create(n,e){if(Je(n))return n instanceof xn?n:1===arguments.length&&2===n.length?new xn(n[0],n[1]):new xn(n,e)}static min(){let n=_d,e=_d;for(let o=0;o<arguments.length;o++){let s=arguments[o];n=Math.min(s.x,n),e=Math.min(s.y,e)}return new xn(n,e)}static max(){let n=yd,e=yd;for(let o=0;o<arguments.length;o++){const s=arguments[o];n=Math.max(s.x,n),e=Math.max(s.y,e)}return new xn(n,e)}static minPoint(){return new xn(yd,yd)}static maxPoint(){return new xn(_d,_d)}static get ZERO(){return new xn(0,0)}}var _e=xn;class ua extends(sf(Jn,["width","height"])){constructor(n,e){super(),this.width=n||0,this.height=e||0}equals(n){return n&&n.width===this.width&&n.height===this.height}clone(){return new ua(this.width,this.height)}toArray(n){const e=Je(n);return[e?Dt(this.width,n):this.width,e?Dt(this.height,n):this.height]}static create(n,e){if(Je(n))return n instanceof ua?n:1===arguments.length&&2===n.length?new ua(n[0],n[1]):new ua(n,e)}static get ZERO(){return new ua(0,0)}}var rf=ua;class nr extends Jn{constructor(n=new _e,e=new rf,o=0){super(),this.setOrigin(n),this.setSize(e),this.setCornerRadius(o)}clone(){return new nr(this.origin.clone(),this.size.clone())}equals(n){return n&&n.origin.equals(this.origin)&&n.size.equals(this.size)}setOrigin(n){return this._observerField("origin",_e.create(n)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(n){return this.cornerRadius=Array.isArray(n)?n:[n,n],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(n){return this._observerField("size",rf.create(n)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(n){const e=this.topLeft().transformCopy(n),o=this.topRight().transformCopy(n),s=this.bottomRight().transformCopy(n),r=this.bottomLeft().transformCopy(n);return nr.fromPoints(e,o,s,r)}transformCopy(n){return nr.fromPoints(this.topLeft().transform(n),this.bottomRight().transform(n))}expand(n,e=n){return this.size.width+=2*n,this.size.height+=2*e,this.origin.translate(-n,-e),this}expandCopy(n,e){return this.clone().expand(n,e)}containsPoint(n){const e=this.origin,o=this.bottomRight();return!(n.x<e.x||n.y<e.y||o.x<n.x||o.y<n.y)}_isOnPath(n,e){const o=this.expandCopy(e,e),s=this.expandCopy(-e,-e);return o.containsPoint(n)&&!s.containsPoint(n)}static fromPoints(){const n=_e.min.apply(null,arguments),e=_e.max.apply(null,arguments),o=new rf(e.x-n.x,e.y-n.y);return new nr(n,o)}static union(n,e){return nr.fromPoints(_e.min(n.topLeft(),e.topLeft()),_e.max(n.bottomRight(),e.bottomRight()))}static intersect(n,e){const o={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y},s={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(o.left<=s.right&&s.left<=o.right&&o.top<=s.bottom&&s.top<=o.bottom)return nr.fromPoints(new _e(Math.max(o.left,s.left),Math.max(o.top,s.top)),new _e(Math.min(o.right,s.right),Math.min(o.bottom,s.bottom)))}}var ni=nr;class $_ extends Jn{constructor(n=kn.unit()){super(),this._matrix=n}clone(){return new $_(this._matrix.clone())}equals(n){return n&&n._matrix.equals(this._matrix)}translate(n,e){return this._matrix=this._matrix.multiplyCopy(kn.translate(n,e)),this._optionsChange(),this}scale(n,e=n,o=null){let s=o;return s&&(s=_e.create(s),this._matrix=this._matrix.multiplyCopy(kn.translate(s.x,s.y))),this._matrix=this._matrix.multiplyCopy(kn.scale(n,e)),s&&(this._matrix=this._matrix.multiplyCopy(kn.translate(-s.x,-s.y))),this._optionsChange(),this}rotate(n,e){const o=_e.create(e)||_e.ZERO;return this._matrix=this._matrix.multiplyCopy(kn.rotate(n,o.x,o.y)),this._optionsChange(),this}multiply(n){const e=da(n);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(n){return n?(this._matrix=n,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}var mk=$_;function vs(t){return null===t?null:t instanceof mk?t:new mk(t)}Math;sf(Jn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Math,sf(Jn,["radius"]);const or="undefined"!=typeof Uint8Array&&yl.browser&&(!yl.browser.msie||yl.browser.version>9),Z_=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(n){for(var e=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),o=0,s=e.length,r=[];o<s;){var a=t.indexOf(e.charAt(o++)),l=t.indexOf(e.charAt(o++)),d=t.indexOf(e.charAt(o++)),c=t.indexOf(e.charAt(o++)),m=(15&l)<<4|d>>>2,f=(3&d)<<6|c;r.push(a<<2|l>>>4),64!=d&&r.push(m),64!=c&&r.push(f)}return r},encode:function(n){for(var e=0,o=n.length,s="";e<o;){var r=n[e++],a=n[e++],l=n[e++],c=(3&r)<<4|a>>>4,p=(15&a)<<2|l>>>6,m=63&l;e-o==2?p=m=64:e-o==1&&(m=64),s+=t.charAt(r>>>2)+t.charAt(c)+t.charAt(p)+t.charAt(m)}return s}}}();function wt(t){var n=0,e=0;null==t?t=or?new Uint8Array(256):[]:e=t.length;var o=or?function(A){if(A>=t.length){var Z=new Uint8Array(Math.max(A+256,2*t.length));Z.set(t,0),t=Z}}:function(){},s=or?function(){return new Uint8Array(t.buffer,0,e)}:function(){return t},r=or?function(A){if("string"==typeof A)return j(A);var Z=A.length;o(n+Z),t.set(A,n),(n+=Z)>e&&(e=n)}:function(A){if("string"==typeof A)return j(A);for(var Z=0;Z<A.length;++Z)c(A[Z])};function d(){return n<e?t[n++]:0}function c(A){o(n),t[n++]=255&A,n>e&&(e=n)}function p(){return d()<<8|d()}function m(A){c(A>>8),c(A)}function S(){return 65536*p()+p()}function D(A){m(A>>>16&65535),m(65535&A)}function P(){var A=S();return A>=2147483648?A-4294967296:A}function E(A){D(A<0?A+4294967296:A)}function V(A){return K(A,d)}function j(A){for(var Z=0;Z<A.length;++Z)c(A.charCodeAt(Z))}function K(A,Z){for(var G=new Array(A),oe=0;oe<A;++oe)G[oe]=Z();return G}var J={eof:function(){return n>=e},readByte:d,writeByte:c,readShort:p,writeShort:m,readLong:S,writeLong:D,readFixed:function(){return S()/65536},writeFixed:function(A){D(Math.round(65536*A))},readShort_:function(){var A=p();return A>=32768?A-65536:A},writeShort_:function(A){m(A<0?A+65536:A)},readLong_:P,writeLong_:E,readFixed_:function(){return P()/65536},writeFixed_:function(A){E(Math.round(65536*A))},read:V,write:r,readString:function(A){return String.fromCharCode.apply(String,V(A))},writeString:j,times:K,get:s,slice:or?function(A,Z){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(A,A+Z));var G=new Uint8Array(Z);return G.set(new Uint8Array(t.buffer,A,Z)),G}:function(A,Z){return t.slice(A,A+Z)},offset:function(A){return null!=A?(n=A,J):n},skip:function(A){n+=A},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return e},saveExcursion:function(A){var Z=n;try{return A()}finally{n=Z}},writeBase64:function(A){window.atob?j(window.atob(A)):r(Z_.decode(A))},base64:function(){return Z_.encode(s())}};return J}function bd(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function U_(t){return Object.keys(t).sort(function(n,e){return n-e}).map(parseFloat)}class Ro{constructor(n,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=n,this.rawData=n.raw,this.parse(n.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}(function(){class t{get compound(){return!1}constructor(d){this.raw=d}render(){return this.raw.get()}}class a{get compound(){return!0}constructor(d){this.raw=d;for(var c=this.glyphIds=[],p=this.idOffsets=[];;){var m=d.readShort();if(p.push(d.offset()),c.push(d.readShort()),!(32&m))break;d.skip(1&m?4:2),128&m?d.skip(8):64&m?d.skip(4):8&m&&d.skip(2)}}render(d){for(var c=wt(this.raw.get()),p=0;p<this.glyphIds.length;++p){var m=this.glyphIds[p];c.offset(this.idOffsets[p]),c.writeShort(d[m])}return c.get()}}})(),function(){class t{constructor(e,o){this.text=e,this.length=e.length,this.platformID=o.platformID,this.platformSpecificID=o.platformSpecificID,this.languageID=o.languageID,this.nameID=o.nameID}}}(),function(){var t=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g)}(),function(){class t{constructor(o,s,r){var a=this;a.platformID=o.readShort(),a.platformSpecificID=o.readShort(),a.offset=s+o.readLong(),o.saveExcursion(function(){var l;switch(o.offset(a.offset),a.format=o.readShort(),a.format){case 0:a.length=o.readShort(),a.language=o.readShort();for(var d=0;d<256;++d)r[d]=o.readByte();break;case 4:a.length=o.readShort(),a.language=o.readShort();var c=o.readShort()/2;o.skip(6);var p=o.times(c,o.readShort);o.skip(2);var m=o.times(c,o.readShort),f=o.times(c,o.readShort_),y=o.times(c,o.readShort),S=(a.length+a.offset-o.offset())/2,D=o.times(S,o.readShort);for(d=0;d<c;++d){var P=m[d],E=p[d];for(l=P;l<=E;++l){var M;0===y[d]?M=l+f[d]:0!==(M=D[y[d]/2-(c-d)+(l-P)]||0)&&(M+=f[d]),r[l]=65535&M}}break;case 6:a.length=o.readShort(),a.language=o.readShort(),l=o.readShort();for(var F=o.readShort();F-- >0;)r[l++]=o.readShort();break;case 12:o.readShort(),a.length=o.readLong(),a.language=o.readLong();for(var O=o.readLong();O-- >0;){l=o.readLong();for(var V=o.readLong(),z=o.readLong();l<=V;)r[l++]=z++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+a.format)}})}}}();function A9(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function Dk(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var o in e)A9(e,o)&&(t[o]=e[o])}}return t}function hf(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)}var Cd={arraySet:function(t,n,e,o,s){if(n.subarray&&t.subarray)t.set(n.subarray(e,e+o),s);else for(var r=0;r<o;r++)t[s+r]=n[e+r]},flattenChunks:function(t){var n,e,o,s,r,a;for(o=0,n=0,e=t.length;n<e;n++)o+=t[n].length;for(a=new Uint8Array(o),s=0,n=0,e=t.length;n<e;n++)a.set(r=t[n],s),s+=r.length;return a},Buf8:function(t){return new Uint8Array(t)},Buf16:function(t){return new Uint16Array(t)},Buf32:function(t){return new Int32Array(t)}},wd={arraySet:function(t,n,e,o,s){for(var r=0;r<o;r++)t[s+r]=n[e+r]},flattenChunks:function(t){return[].concat.apply([],t)},Buf8:function(t){return new Array(t)},Buf16:function(t){return new Array(t)},Buf32:function(t){return new Array(t)}};let Jl=()=>{const t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;return Jl=()=>t,t},Tn=(t,n,e,o,s)=>(Tn=Jl()?Cd.arraySet:wd.arraySet,Tn(t,n,e,o,s)),ff=t=>(ff=Jl()?Cd.flattenChunks:wd.flattenChunks,ff(t)),No=t=>(No=Jl()?Cd.Buf8:wd.Buf8,No(t)),vn=t=>(vn=Jl()?Cd.Buf16:wd.Buf16,vn(t)),jl=t=>(jl=Jl()?Cd.Buf32:wd.Buf32,jl(t)),Mk=function(){let t=!0;try{String.fromCharCode.apply(null,[0])}catch(n){t=!1}return Mk=()=>t,t},Ek=function(){let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){t=!1}return Ek=()=>t,t},Q_=function(t){for(var n=No(256),e=0;e<256;e++)n[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return n[254]=n[254]=1,Q_=o=>n[o],n[t]};function gf(t){var n,e,o,s,r,a=t.length,l=0;for(s=0;s<a;s++)55296==(64512&(e=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(o=t.charCodeAt(s+1)))&&(e=65536+(e-55296<<10)+(o-56320),s++),l+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(l),r=0,s=0;r<l;s++)55296==(64512&(e=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(o=t.charCodeAt(s+1)))&&(e=65536+(e-55296<<10)+(o-56320),s++),e<128?n[r++]=e:e<2048?(n[r++]=192|e>>>6,n[r++]=128|63&e):e<65536?(n[r++]=224|e>>>12,n[r++]=128|e>>>6&63,n[r++]=128|63&e):(n[r++]=240|e>>>18,n[r++]=128|e>>>12&63,n[r++]=128|e>>>6&63,n[r++]=128|63&e);return n}function Bk(t,n){if(n<65534&&(t.subarray&&Ek()||!t.subarray&&Mk()))return String.fromCharCode.apply(null,hf(t,n));for(var e="",o=0;o<n;o++)e+=String.fromCharCode(t[o]);return e}function N9(t){return Bk(t,t.length)}function P9(t,n){var e,o,s,r,a=n||t.length,l=new Array(2*a);for(o=0,e=0;e<a;)if((s=t[e++])<128)l[o++]=s;else if((r=Q_(s))>4)l[o++]=65533,e+=r-1;else{for(s&=2===r?31:3===r?15:7;r>1&&e<a;)s=s<<6|63&t[e++],r--;r>1?l[o++]=65533:s<65536?l[o++]=s:(l[o++]=55296|(s-=65536)>>10&1023,l[o++]=56320|1023&s)}return Bk(l,o)}function z9(t,n){var e;for((n=n||t.length)>t.length&&(n=t.length),e=n-1;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?n:e+Q_(t[e])>n?e:n}function Sd(t,n,e,o){for(var s=65535&t|0,r=t>>>16&65535|0,a=0;0!==e;){e-=a=e>2e3?2e3:e;do{r=r+(s=s+n[o++]|0)|0}while(--a);s%=65521,r%=65521}return s|r<<16|0}let Fk=function(){const t=function(){for(var t,n=[],e=0;e<256;e++){t=e;for(var o=0;o<8;o++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n}();return Fk=()=>t,t};function Ti(t,n,e,o){var s=Fk(),r=o+e;t^=-1;for(var a=o;a<r;a++)t=t>>>8^s[255&(t^n[a])];return-1^t}function H9(t,n){var e,o,s,r,a,l,d,c,p,m,f,y,S,D,P,E,M,H,F,O,V,z,j,K,J;K=t.input,s=(o=t.next_in)+(t.avail_in-5),J=t.output,a=(r=t.next_out)-(n-t.avail_out),l=r+(t.avail_out-257),d=(e=t.state).dmax,c=e.wsize,p=e.whave,m=e.wnext,f=e.window,y=e.hold,S=e.bits,D=e.lencode,P=e.distcode,E=(1<<e.lenbits)-1,M=(1<<e.distbits)-1;e:do{S<15&&(y+=K[o++]<<S,y+=K[o++]<<(S+=8),S+=8),H=D[y&E];t:for(;;){if(y>>>=F=H>>>24,S-=F,0==(F=H>>>16&255))J[r++]=65535&H;else{if(!(16&F)){if(0==(64&F)){H=D[(65535&H)+(y&(1<<F)-1)];continue t}if(32&F){e.mode=12;break e}t.msg="invalid literal/length code",e.mode=30;break e}O=65535&H,(F&=15)&&(S<F&&(y+=K[o++]<<S,S+=8),O+=y&(1<<F)-1,y>>>=F,S-=F),S<15&&(y+=K[o++]<<S,y+=K[o++]<<(S+=8),S+=8),H=P[y&M];i:for(;;){if(y>>>=F=H>>>24,S-=F,!(16&(F=H>>>16&255))){if(0==(64&F)){H=P[(65535&H)+(y&(1<<F)-1)];continue i}t.msg="invalid distance code",e.mode=30;break e}if(V=65535&H,S<(F&=15)&&(y+=K[o++]<<S,(S+=8)<F&&(y+=K[o++]<<S,S+=8)),(V+=y&(1<<F)-1)>d){t.msg="invalid distance too far back",e.mode=30;break e}if(y>>>=F,S-=F,V>(F=r-a)){if((F=V-F)>p&&e.sane){t.msg="invalid distance too far back",e.mode=30;break e}if(z=0,j=f,0===m){if(z+=c-F,F<O){O-=F;do{J[r++]=f[z++]}while(--F);z=r-V,j=J}}else if(m<F){if(z+=c+m-F,(F-=m)<O){O-=F;do{J[r++]=f[z++]}while(--F);if(z=0,m<O){O-=F=m;do{J[r++]=f[z++]}while(--F);z=r-V,j=J}}}else if(z+=m-F,F<O){O-=F;do{J[r++]=f[z++]}while(--F);z=r-V,j=J}for(;O>2;)J[r++]=j[z++],J[r++]=j[z++],J[r++]=j[z++],O-=3;O&&(J[r++]=j[z++],O>1&&(J[r++]=j[z++]))}else{z=r-V;do{J[r++]=J[z++],J[r++]=J[z++],J[r++]=J[z++],O-=3}while(O>2);O&&(J[r++]=J[z++],O>1&&(J[r++]=J[z++]))}break}}break}}while(o<s&&r<l);y&=(1<<(S-=(O=S>>3)<<3))-1,t.next_in=o-=O,t.next_out=r,t.avail_in=o<s?s-o+5:5-(o-s),t.avail_out=r<l?l-r+257:257-(r-l),e.hold=y,e.bits=S}var Y9=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],$9=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],J9=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j9=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Id(t,n,e,o,s,r,a,l){var H,F,O,V,z,J,Y,Q,te,d=l.bits,c=0,p=0,m=0,f=0,y=0,S=0,D=0,P=0,E=0,M=0,j=null,K=0,A=vn(16),Z=vn(16),G=null,oe=0;for(c=0;c<=15;c++)A[c]=0;for(p=0;p<o;p++)A[n[e+p]]++;for(y=d,f=15;f>=1&&0===A[f];f--);if(y>f&&(y=f),0===f)return s[r++]=20971520,s[r++]=20971520,l.bits=1,0;for(m=1;m<f&&0===A[m];m++);for(y<m&&(y=m),P=1,c=1;c<=15;c++)if(P<<=1,(P-=A[c])<0)return-1;if(P>0&&(0===t||1!==f))return-1;for(Z[1]=0,c=1;c<15;c++)Z[c+1]=Z[c]+A[c];for(p=0;p<o;p++)0!==n[e+p]&&(a[Z[n[e+p]]++]=p);if(0===t?(j=G=a,J=19):1===t?(j=Y9,K-=257,G=$9,oe-=257,J=256):(j=J9,G=j9,J=-1),M=0,p=0,c=m,z=r,S=y,D=0,O=-1,V=(E=1<<y)-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){Y=c-D,a[p]<J?(Q=0,te=a[p]):a[p]>J?(Q=G[oe+a[p]],te=j[K+a[p]]):(Q=96,te=0),H=1<<c-D,m=F=1<<S;do{s[z+(M>>D)+(F-=H)]=Y<<24|Q<<16|te|0}while(0!==F);for(H=1<<c-1;M&H;)H>>=1;if(0!==H?(M&=H-1,M+=H):M=0,p++,0==--A[c]){if(c===f)break;c=n[e+a[p]]}if(c>y&&(M&V)!==O){for(0===D&&(D=y),z+=m,P=1<<(S=c-D);S+D<f&&!((P-=A[S+D])<=0);)S++,P<<=1;if(E+=1<<S,1===t&&E>852||2===t&&E>592)return 1;s[O=M&V]=y<<24|S<<16|z-r|0}}return 0!==M&&(s[z+M]=c-D<<24|64<<16|0),l.bits=y,0}function px(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function tV(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=vn(320),this.work=vn(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function sV(t,n){var e,o;return t?(o=new tV,t.state=o,o.window=null,0!==(e=function(t,n){var e,o;return!t||!t.state||(o=t.state,n<0?(e=0,n=-n):(e=1+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15))?-2:(null!==o.window&&o.wbits!==n&&(o.window=null),o.wrap=e,o.wbits=n,function(t){var n;return t&&t.state?((n=t.state).wsize=0,n.whave=0,n.wnext=0,function(t){var n;return t&&t.state?(t.total_in=t.total_out=(n=t.state).total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=jl(852),n.distcode=n.distdyn=jl(592),n.sane=1,n.back=-1,0):-2}(t)):-2}(t))}(t,n))&&(t.state=null),e):-2}var t0,i0,hx=!0;function rV(t){if(hx){var n;for(t0=jl(512),i0=jl(32),n=0;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(Id(1,t.lens,0,288,t0,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;Id(2,t.lens,0,32,i0,0,t.work,{bits:5}),hx=!1}t.lencode=t0,t.lenbits=9,t.distcode=i0,t.distbits=5}function fx(t,n,e,o){var s,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=No(r.wsize)),o>=r.wsize?(Tn(r.window,n,e-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((s=r.wsize-r.wnext)>o&&(s=o),Tn(r.window,n,e-o,s,r.wnext),(o-=s)?(Tn(r.window,n,e-o,o,0),r.wnext=o,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0}function aV(t,n){var e,o,s,r,a,l,d,c,p,m,f,y,S,D,E,M,H,F,O,V,z,j,J,A,P=0,K=No(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(e=t.state).mode&&(e.mode=13),a=t.next_out,s=t.output,r=t.next_in,o=t.input,c=e.hold,p=e.bits,m=l=t.avail_in,f=d=t.avail_out,j=0;e:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;p<16;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(2&e.wrap&&35615===c){e.check=0,K[0]=255&c,K[1]=c>>>8&255,e.check=Ti(e.check,K,2,0),c=0,p=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",e.mode=30;break}if(8!=(15&c)){t.msg="unknown compression method",e.mode=30;break}if(p-=4,z=8+(15&(c>>>=4)),0===e.wbits)e.wbits=z;else if(z>e.wbits){t.msg="invalid window size",e.mode=30;break}e.dmax=1<<z,t.adler=e.check=1,e.mode=512&c?10:12,c=0,p=0;break;case 2:for(;p<16;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(e.flags=c,8!=(255&e.flags)){t.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=c>>8&1),512&e.flags&&(K[0]=255&c,K[1]=c>>>8&255,e.check=Ti(e.check,K,2,0)),c=0,p=0,e.mode=3;case 3:for(;p<32;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}e.head&&(e.head.time=c),512&e.flags&&(K[0]=255&c,K[1]=c>>>8&255,K[2]=c>>>16&255,K[3]=c>>>24&255,e.check=Ti(e.check,K,4,0)),c=0,p=0,e.mode=4;case 4:for(;p<16;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}e.head&&(e.head.xflags=255&c,e.head.os=c>>8),512&e.flags&&(K[0]=255&c,K[1]=c>>>8&255,e.check=Ti(e.check,K,2,0)),c=0,p=0,e.mode=5;case 5:if(1024&e.flags){for(;p<16;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}e.length=c,e.head&&(e.head.extra_len=c),512&e.flags&&(K[0]=255&c,K[1]=c>>>8&255,e.check=Ti(e.check,K,2,0)),c=0,p=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&((y=e.length)>l&&(y=l),y&&(e.head&&(z=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Tn(e.head.extra,o,r,y,z)),512&e.flags&&(e.check=Ti(e.check,o,y,r)),l-=y,r+=y,e.length-=y),e.length))break e;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===l)break e;y=0;do{z=o[r+y++],e.head&&z&&e.length<65536&&(e.head.name+=String.fromCharCode(z))}while(z&&y<l);if(512&e.flags&&(e.check=Ti(e.check,o,y,r)),l-=y,r+=y,z)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===l)break e;y=0;do{z=o[r+y++],e.head&&z&&e.length<65536&&(e.head.comment+=String.fromCharCode(z))}while(z&&y<l);if(512&e.flags&&(e.check=Ti(e.check,o,y,r)),l-=y,r+=y,z)break e}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;p<16;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(c!==(65535&e.check)){t.msg="header crc mismatch",e.mode=30;break}c=0,p=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=12;break;case 10:for(;p<32;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}t.adler=e.check=px(c),c=0,p=0,e.mode=11;case 11:if(0===e.havedict)return t.next_out=a,t.avail_out=d,t.next_in=r,t.avail_in=l,e.hold=c,e.bits=p,2;t.adler=e.check=1,e.mode=12;case 12:if(5===n||6===n)break e;case 13:if(e.last){c>>>=7&p,p-=7&p,e.mode=27;break}for(;p<3;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}switch(e.last=1&c,p-=1,3&(c>>>=1)){case 0:e.mode=14;break;case 1:if(rV(e),e.mode=20,6===n){c>>>=2,p-=2;break e}break;case 2:e.mode=17;break;case 3:t.msg="invalid block type",e.mode=30}c>>>=2,p-=2;break;case 14:for(c>>>=7&p,p-=7&p;p<32;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&c,c=0,p=0,e.mode=15,6===n)break e;case 15:e.mode=16;case 16:if(y=e.length){if(y>l&&(y=l),y>d&&(y=d),0===y)break e;Tn(s,o,r,y,a),l-=y,r+=y,d-=y,a+=y,e.length-=y;break}e.mode=12;break;case 17:for(;p<14;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(e.nlen=257+(31&c),p-=5,e.ndist=1+(31&(c>>>=5)),p-=5,e.ncode=4+(15&(c>>>=5)),c>>>=4,p-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;p<3;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}e.lens[Z[e.have++]]=7&c,c>>>=3,p-=3}for(;e.have<19;)e.lens[Z[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,j=Id(0,e.lens,0,19,e.lencode,0,e.work,J={bits:e.lenbits}),e.lenbits=J.bits,j){t.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;M=(P=e.lencode[c&(1<<e.lenbits)-1])>>>16&255,H=65535&P,!((E=P>>>24)<=p);){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(H<16)c>>>=E,p-=E,e.lens[e.have++]=H;else{if(16===H){for(A=E+2;p<A;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(c>>>=E,p-=E,0===e.have){t.msg="invalid bit length repeat",e.mode=30;break}z=e.lens[e.have-1],y=3+(3&c),c>>>=2,p-=2}else if(17===H){for(A=E+3;p<A;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}p-=E,z=0,y=3+(7&(c>>>=E)),c>>>=3,p-=3}else{for(A=E+7;p<A;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}p-=E,z=0,y=11+(127&(c>>>=E)),c>>>=7,p-=7}if(e.have+y>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=30;break}for(;y--;)e.lens[e.have++]=z}}if(30===e.mode)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,j=Id(1,e.lens,0,e.nlen,e.lencode,0,e.work,J={bits:e.lenbits}),e.lenbits=J.bits,j){t.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,j=Id(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,J={bits:e.distbits}),e.distbits=J.bits,j){t.msg="invalid distances set",e.mode=30;break}if(e.mode=20,6===n)break e;case 20:e.mode=21;case 21:if(l>=6&&d>=258){t.next_out=a,t.avail_out=d,t.next_in=r,t.avail_in=l,e.hold=c,e.bits=p,H9(t,f),a=t.next_out,s=t.output,d=t.avail_out,r=t.next_in,o=t.input,l=t.avail_in,c=e.hold,p=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;M=(P=e.lencode[c&(1<<e.lenbits)-1])>>>16&255,H=65535&P,!((E=P>>>24)<=p);){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(M&&0==(240&M)){for(F=E,O=M,V=H;M=(P=e.lencode[V+((c&(1<<F+O)-1)>>F)])>>>16&255,H=65535&P,!(F+(E=P>>>24)<=p);){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}c>>>=F,p-=F,e.back+=F}if(c>>>=E,p-=E,e.back+=E,e.length=H,0===M){e.mode=26;break}if(32&M){e.back=-1,e.mode=12;break}if(64&M){t.msg="invalid literal/length code",e.mode=30;break}e.extra=15&M,e.mode=22;case 22:if(e.extra){for(A=e.extra;p<A;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,p-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;M=(P=e.distcode[c&(1<<e.distbits)-1])>>>16&255,H=65535&P,!((E=P>>>24)<=p);){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(0==(240&M)){for(F=E,O=M,V=H;M=(P=e.distcode[V+((c&(1<<F+O)-1)>>F)])>>>16&255,H=65535&P,!(F+(E=P>>>24)<=p);){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}c>>>=F,p-=F,e.back+=F}if(c>>>=E,p-=E,e.back+=E,64&M){t.msg="invalid distance code",e.mode=30;break}e.offset=H,e.extra=15&M,e.mode=24;case 24:if(e.extra){for(A=e.extra;p<A;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,p-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===d)break e;if(e.offset>(y=f-d)){if((y=e.offset-y)>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=30;break}S=y>e.wnext?e.wsize-(y-=e.wnext):e.wnext-y,y>e.length&&(y=e.length),D=e.window}else D=s,S=a-e.offset,y=e.length;y>d&&(y=d),d-=y,e.length-=y;do{s[a++]=D[S++]}while(--y);0===e.length&&(e.mode=21);break;case 26:if(0===d)break e;s[a++]=e.length,d--,e.mode=21;break;case 27:if(e.wrap){for(;p<32;){if(0===l)break e;l--,c|=o[r++]<<p,p+=8}if(t.total_out+=f-=d,e.total+=f,f&&(t.adler=e.check=e.flags?Ti(e.check,s,f,a-f):Sd(e.check,s,f,a-f)),f=d,(e.flags?c:px(c))!==e.check){t.msg="incorrect data check",e.mode=30;break}c=0,p=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;p<32;){if(0===l)break e;l--,c+=o[r++]<<p,p+=8}if(c!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=30;break}c=0,p=0}e.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return-2}return t.next_out=a,t.avail_out=d,t.next_in=r,t.avail_in=l,e.hold=c,e.bits=p,(e.wsize||f!==t.avail_out&&e.mode<30&&(e.mode<27||4!==n))&&fx(t,t.output,t.next_out,f-t.avail_out),f-=t.avail_out,t.total_in+=m-=t.avail_in,t.total_out+=f,e.total+=f,e.wrap&&f&&(t.adler=e.check=e.flags?Ti(e.check,s,f,t.next_out-f):Sd(e.check,s,f,t.next_out-f)),t.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===m&&0===f||4===n)&&0===j&&(j=-5),j}function gx(t,n){var o,e=n.length;return t&&t.state&&(0===(o=t.state).wrap||11===o.mode)?11===o.mode&&Sd(1,n,e,0)!==o.check?-3:fx(t,n,e,e)?(o.mode=31,-4):(o.havedict=1,0):-2}var fa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function mx(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function dV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var n0=Object.prototype.toString;class kd{constructor(n){if(!(this instanceof kd))return new kd(n);this.options=Dk({chunkSize:16384,windowBits:0,to:""},n||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mx,this.strm.avail_out=0;var o=sV(this.strm,e.windowBits);if(0!==o)throw new Error(fa[o]);if(this.header=new dV,function(t,n){var e;t&&t.state&&0!=(2&(e=t.state).wrap)&&(e.head=n,n.done=!1)}(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=gf(e.dictionary):"[object ArrayBuffer]"===n0.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&0!==(o=gx(this.strm,e.dictionary))))throw new Error(fa[o])}push(n,e){var a,l,d,c,p,m,o=this.strm,s=this.options.chunkSize,r=this.options.dictionary,f=!1;if(this.ended)return!1;l=e===~~e?e:!0===e?4:0,o.input="string"==typeof n?function(t){for(var n=new Uint8Array(t.length),e=0,o=n.length;e<o;e++)n[e]=t.charCodeAt(e);return n}(n):"[object ArrayBuffer]"===n0.call(n)?new Uint8Array(n):n,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=No(s),o.next_out=0,o.avail_out=s),2===(a=aV(o,0))&&r&&(m="string"==typeof r?gf(r):"[object ArrayBuffer]"===n0.call(r)?new Uint8Array(r):r,a=gx(this.strm,m)),-5===a&&!0===f&&(a=0,f=!1),1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;o.next_out&&(0===o.avail_out||1===a||0===o.avail_in&&(4===l||2===l))&&("string"===this.options.to?(d=z9(o.output,o.next_out),c=o.next_out-d,p=P9(o.output,d),o.next_out=c,o.avail_out=s-c,c&&Tn(o.output,o.output,d,c,0),this.onData(p)):this.onData(hf(o.output,o.next_out))),0===o.avail_in&&0===o.avail_out&&(f=!0)}while((o.avail_in>0||0===o.avail_out)&&1!==a);return 1===a&&(l=4),4===l?(a=function(t){if(!t||!t.state)return-2;var n=t.state;return n.window&&(n.window=null),t.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,0===a):(2===l&&(this.onEnd(0),o.avail_out=0),!0)}onData(n){this.chunks.push(n)}onEnd(n){0===n&&(this.result="string"===this.options.to?this.chunks.join(""):ff(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg}}function Zl(t){for(var n=t.length;--n>=0;)t[n]=0}var Lo,Ql,Xl,Wl,wf,Dd,Sx,Ix,kx,l0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Cf=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vV=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],wx=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function c0(t,n,e,o,s){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=o,this.max_length=s,this.has_stree=t&&t.length}function d0(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}function xx(t){return t<256?Xl[t]:Xl[256+(t>>>7)]}function Md(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255}function _n(t,n,e){t.bi_valid>16-e?(t.bi_buf|=n<<t.bi_valid&65535,Md(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)}function Po(t,n,e){_n(t,e[2*n],e[2*n+1])}function Tx(t,n){var e=0;do{e|=1&t,t>>>=1,e<<=1}while(--n>0);return e>>>1}function Dx(t,n,e){var r,a,o=new Array(16),s=0;for(r=1;r<=15;r++)o[r]=s=s+e[r-1]<<1;for(a=0;a<=n;a++){var l=t[2*a+1];0!==l&&(t[2*a]=Tx(o[l]++,l))}}function Mx(t){var n;for(n=0;n<286;n++)t.dyn_ltree[2*n]=0;for(n=0;n<30;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Ex(t){t.bi_valid>8?Md(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Bx(t,n,e,o){var s=2*n,r=2*e;return t[s]<t[r]||t[s]===t[r]&&o[n]<=o[e]}function u0(t,n,e){for(var o=t.heap[e],s=e<<1;s<=t.heap_len&&(s<t.heap_len&&Bx(n,t.heap[s+1],t.heap[s],t.depth)&&s++,!Bx(n,o,t.heap[s],t.depth));)t.heap[e]=t.heap[s],e=s,s<<=1;t.heap[e]=o}function Fx(t,n,e){var o,s,a,l,r=0;if(0!==t.last_lit)do{o=t.pending_buf[t.d_buf+2*r]<<8|t.pending_buf[t.d_buf+2*r+1],s=t.pending_buf[t.l_buf+r],r++,0===o?Po(t,s,n):(Po(t,(a=Wl[s])+256+1,n),0!==(l=l0[a])&&_n(t,s-=wf[a],l),Po(t,a=xx(--o),e),0!==(l=Cf[a])&&_n(t,o-=Dd[a],l))}while(r<t.last_lit);Po(t,256,n)}function p0(t,n){var a,l,c,e=n.dyn_tree,o=n.stat_desc.static_tree,s=n.stat_desc.has_stree,r=n.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<r;a++)0!==e[2*a]?(t.heap[++t.heap_len]=d=a,t.depth[a]=0):e[2*a+1]=0;for(;t.heap_len<2;)e[2*(c=t.heap[++t.heap_len]=d<2?++d:0)]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=o[2*c+1]);for(n.max_code=d,a=t.heap_len>>1;a>=1;a--)u0(t,e,a);c=r;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],u0(t,e,1),l=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=l,e[2*c]=e[2*a]+e[2*l],t.depth[c]=(t.depth[a]>=t.depth[l]?t.depth[a]:t.depth[l])+1,e[2*a+1]=e[2*l+1]=c,t.heap[1]=c++,u0(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,n){var c,p,m,f,y,S,e=n.dyn_tree,o=n.max_code,s=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,d=n.stat_desc.max_length,D=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(e[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)(f=e[2*e[2*(p=t.heap[c])+1]+1]+1)>d&&(f=d,D++),e[2*p+1]=f,!(p>o)&&(t.bl_count[f]++,y=0,p>=l&&(y=a[p-l]),t.opt_len+=(S=e[2*p])*(f+y),r&&(t.static_len+=S*(s[2*p+1]+y)));if(0!==D){do{for(f=d-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[d]--,D-=2}while(D>0);for(f=d;0!==f;f--)for(p=t.bl_count[f];0!==p;)!((m=t.heap[--c])>o)&&(e[2*m+1]!==f&&(t.opt_len+=(f-e[2*m+1])*e[2*m],e[2*m+1]=f),p--)}}(t,n),Dx(e,d,t.bl_count)}function Ox(t,n,e){var o,r,s=-1,a=n[1],l=0,d=7,c=4;for(0===a&&(d=138,c=3),n[2*(e+1)+1]=65535,o=0;o<=e;o++)r=a,a=n[2*(o+1)+1],!(++l<d&&r===a)&&(l<c?t.bl_tree[2*r]+=l:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[32]++):l<=10?t.bl_tree[34]++:t.bl_tree[36]++,l=0,s=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))}function Rx(t,n,e){var o,r,s=-1,a=n[1],l=0,d=7,c=4;for(0===a&&(d=138,c=3),o=0;o<=e;o++)if(r=a,a=n[2*(o+1)+1],!(++l<d&&r===a)){if(l<c)do{Po(t,r,t.bl_tree)}while(0!=--l);else 0!==r?(r!==s&&(Po(t,r,t.bl_tree),l--),Po(t,16,t.bl_tree),_n(t,l-3,2)):l<=10?(Po(t,17,t.bl_tree),_n(t,l-3,3)):(Po(t,18,t.bl_tree),_n(t,l-11,7));l=0,s=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}}var Ax=!1;function Nx(t,n,e,o){_n(t,0+(o?1:0),3),function(t,n,e,o){Ex(t),Md(t,e),Md(t,~e),Tn(t.pending_buf,t.window,n,e,t.pending),t.pending+=e}(t,n,e)}function rr(t,n,e){return t.pending_buf[t.d_buf+2*t.last_lit]=n>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&n,t.pending_buf[t.l_buf+t.last_lit]=255&e,t.last_lit++,0===n?t.dyn_ltree[2*e]++:(t.matches++,n--,t.dyn_ltree[2*(Wl[e]+256+1)]++,t.dyn_dtree[2*xx(n)]++),t.last_lit===t.lit_bufsize-1}var uo=262;function lr(t,n){return t.msg=fa[n],n}function Lx(t){return(t<<1)-(t>4?9:0)}function cr(t){for(var n=t.length;--n>=0;)t[n]=0}function dr(t){var n=t.state,e=n.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(Tn(t.output,n.pending_buf,n.pending_out,e,t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,0===n.pending&&(n.pending_out=0))}function Fi(t,n){(function(t,n,e,o){var s,r,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),p0(t,t.l_desc),p0(t,t.d_desc),a=function(t){var n;for(Ox(t,t.dyn_ltree,t.l_desc.max_code),Ox(t,t.dyn_dtree,t.d_desc.max_code),p0(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*wx[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}(t),(r=t.static_len+3+7>>>3)<=(s=t.opt_len+3+7>>>3)&&(s=r)):s=r=e+5,e+4<=s&&-1!==n?Nx(t,n,e,o):4===t.strategy||r===s?(_n(t,2+(o?1:0),3),Fx(t,Lo,Ql)):(_n(t,4+(o?1:0),3),function(t,n,e,o){var s;for(_n(t,n-257,5),_n(t,e-1,5),_n(t,o-4,4),s=0;s<o;s++)_n(t,t.bl_tree[2*wx[s]+1],3);Rx(t,t.dyn_ltree,n-1),Rx(t,t.dyn_dtree,e-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Fx(t,t.dyn_ltree,t.dyn_dtree)),Mx(t),o&&Ex(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,dr(t.strm)}function et(t,n){t.pending_buf[t.pending++]=n}function Fd(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n}function PV(t,n,e,o){var s=t.avail_in;return s>o&&(s=o),0===s?0:(t.avail_in-=s,Tn(n,t.input,t.next_in,s,e),1===t.state.wrap?t.adler=Sd(t.adler,n,s,e):2===t.state.wrap&&(t.adler=Ti(t.adler,n,s,e)),t.next_in+=s,t.total_in+=s,s)}function Px(t,n){var s,r,e=t.max_chain_length,o=t.strstart,a=t.prev_length,l=t.nice_match,d=t.strstart>t.w_size-uo?t.strstart-(t.w_size-uo):0,c=t.window,p=t.w_mask,m=t.prev,f=t.strstart+258,y=c[o+a-1],S=c[o+a];t.prev_length>=t.good_match&&(e>>=2),l>t.lookahead&&(l=t.lookahead);do{if(c[(s=n)+a]===S&&c[s+a-1]===y&&c[s]===c[o]&&c[++s]===c[o+1]){o+=2,s++;do{}while(c[++o]===c[++s]&&c[++o]===c[++s]&&c[++o]===c[++s]&&c[++o]===c[++s]&&c[++o]===c[++s]&&c[++o]===c[++s]&&c[++o]===c[++s]&&c[++o]===c[++s]&&o<f);if(r=258-(f-o),o=f-258,r>a){if(t.match_start=n,a=r,r>=l)break;y=c[o+a-1],S=c[o+a]}}}while((n=m[n&p])>d&&0!=--e);return a<=t.lookahead?a:t.lookahead}function _a(t){var e,o,s,r,a,n=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-uo)){Tn(t.window,t.window,n,n,0),t.match_start-=n,t.strstart-=n,t.block_start-=n,e=o=t.hash_size;do{s=t.head[--e],t.head[e]=s>=n?s-n:0}while(--o);e=o=n;do{s=t.prev[--e],t.prev[e]=s>=n?s-n:0}while(--o);r+=n}if(0===t.strm.avail_in)break;if(o=PV(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=o,t.lookahead+t.insert>=3)for(t.ins_h=t.window[a=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+3-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<uo&&0!==t.strm.avail_in)}function zV(t,n){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_a(t),0===t.lookahead&&0===n)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var o=t.block_start+e;if((0===t.strstart||t.strstart>=o)&&(t.lookahead=t.strstart-o,t.strstart=o,Fi(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-uo&&(Fi(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===n?(Fi(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&Fi(t,!1),1)}function g0(t,n){for(var e,o;;){if(t.lookahead<uo){if(_a(t),t.lookahead<uo&&0===n)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-uo&&(t.match_length=Px(t,e)),t.match_length>=3)if(o=rr(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else o=rr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(o&&(Fi(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===n?(Fi(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fi(t,!1),0===t.strm.avail_out)?1:2}function ec(t,n){for(var e,o,s;;){if(t.lookahead<uo){if(_a(t),t.lookahead<uo&&0===n)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-uo&&(t.match_length=Px(t,e),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,o=rr(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,o&&(Fi(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((o=rr(t,0,t.window[t.strstart-1]))&&Fi(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(o=rr(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===n?(Fi(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fi(t,!1),0===t.strm.avail_out)?1:2}function zo(t,n,e,o,s){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=o,this.func=s}let m0=function(){const t=[new zo(0,0,0,0,zV),new zo(4,4,8,4,g0),new zo(4,5,16,8,g0),new zo(4,6,32,32,g0),new zo(4,4,16,16,ec),new zo(8,16,32,32,ec),new zo(8,16,128,128,ec),new zo(8,32,128,256,ec),new zo(32,128,258,1024,ec),new zo(32,258,258,4096,ec)];return m0=()=>t,t};function YV(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=vn(1146),this.dyn_dtree=vn(122),this.bl_tree=vn(78),cr(this.dyn_ltree),cr(this.dyn_dtree),cr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=vn(16),this.heap=vn(573),cr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=vn(573),cr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function JV(t){var n=function(t){var n;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(n=t.state).pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:113,t.adler=2===n.wrap?0:1,n.last_flush=0,function(t){Ax||(function(){var t,n,e,o,s,r=new Array(16);for(Zl(Lo=new Array(576)),Zl(Ql=new Array(60)),Zl(Xl=new Array(512)),Zl(Wl=new Array(256)),Zl(wf=new Array(29)),Zl(Dd=new Array(30)),e=0,o=0;o<28;o++)for(wf[o]=e,t=0;t<1<<l0[o];t++)Wl[e++]=o;for(Wl[e-1]=o,s=0,o=0;o<16;o++)for(Dd[o]=s,t=0;t<1<<Cf[o];t++)Xl[s++]=o;for(s>>=7;o<30;o++)for(Dd[o]=s<<7,t=0;t<1<<Cf[o]-7;t++)Xl[256+s++]=o;for(n=0;n<=15;n++)r[n]=0;for(t=0;t<=143;)Lo[2*t+1]=8,t++,r[8]++;for(;t<=255;)Lo[2*t+1]=9,t++,r[9]++;for(;t<=279;)Lo[2*t+1]=7,t++,r[7]++;for(;t<=287;)Lo[2*t+1]=8,t++,r[8]++;for(Dx(Lo,287,r),t=0;t<30;t++)Ql[2*t+1]=5,Ql[2*t]=Tx(t,5);Sx=new c0(Lo,l0,257,286,15),Ix=new c0(Ql,Cf,0,30,15),kx=new c0(new Array(0),vV,0,19,7)}(),Ax=!0),t.l_desc=new d0(t.dyn_ltree,Sx),t.d_desc=new d0(t.dyn_dtree,Ix),t.bl_desc=new d0(t.bl_tree,kx),t.bi_buf=0,t.bi_valid=0,Mx(t)}(n),0):lr(t,-2)}(t);return 0===n&&function(t){t.window_size=2*t.w_size,cr(t.head);const n=m0();t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),n}function ZV(t,n){var e,o,s,r;if(!t||!t.state||n>5||n<0)return t?lr(t,-2):-2;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&4!==n)return lr(t,0===t.avail_out?-5:-2);if(o.strm=t,e=o.last_flush,o.last_flush=n,42===o.status)if(2===o.wrap)t.adler=0,et(o,31),et(o,139),et(o,8),o.gzhead?(et(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),et(o,255&o.gzhead.time),et(o,o.gzhead.time>>8&255),et(o,o.gzhead.time>>16&255),et(o,o.gzhead.time>>24&255),et(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),et(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(et(o,255&o.gzhead.extra.length),et(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=Ti(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(et(o,0),et(o,0),et(o,0),et(o,0),et(o,0),et(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),et(o,3),o.status=113);else{var a=8+(o.w_bits-8<<4)<<8;a|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(a|=32),a+=31-a%31,o.status=113,Fd(o,a),0!==o.strstart&&(Fd(o,t.adler>>>16),Fd(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(s=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>s&&(t.adler=Ti(t.adler,o.pending_buf,o.pending-s,s)),dr(t),s=o.pending,o.pending!==o.pending_buf_size));)et(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>s&&(t.adler=Ti(t.adler,o.pending_buf,o.pending-s,s)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(t.adler=Ti(t.adler,o.pending_buf,o.pending-s,s)),dr(t),s=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,et(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>s&&(t.adler=Ti(t.adler,o.pending_buf,o.pending-s,s)),0===r&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(t.adler=Ti(t.adler,o.pending_buf,o.pending-s,s)),dr(t),s=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,et(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>s&&(t.adler=Ti(t.adler,o.pending_buf,o.pending-s,s)),0===r&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&dr(t),o.pending+2<=o.pending_buf_size&&(et(o,255&t.adler),et(o,t.adler>>8&255),t.adler=0,o.status=113)):o.status=113),0!==o.pending){if(dr(t),0===t.avail_out)return o.last_flush=-1,0}else if(0===t.avail_in&&Lx(n)<=Lx(e)&&4!==n)return lr(t,-5);if(666===o.status&&0!==t.avail_in)return lr(t,-5);if(0!==t.avail_in||0!==o.lookahead||0!==n&&666!==o.status){var d=2===o.strategy?function(t,n){for(var e;;){if(0===t.lookahead&&(_a(t),0===t.lookahead)){if(0===n)return 1;break}if(t.match_length=0,e=rr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(Fi(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===n?(Fi(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fi(t,!1),0===t.strm.avail_out)?1:2}(o,n):3===o.strategy?function(t,n){for(var e,o,s,r,a=t.window;;){if(t.lookahead<=258){if(_a(t),t.lookahead<=258&&0===n)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(o=a[s=t.strstart-1])===a[++s]&&o===a[++s]&&o===a[++s]){r=t.strstart+258;do{}while(o===a[++s]&&o===a[++s]&&o===a[++s]&&o===a[++s]&&o===a[++s]&&o===a[++s]&&o===a[++s]&&o===a[++s]&&s<r);t.match_length=258-(r-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(e=rr(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=rr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(Fi(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===n?(Fi(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Fi(t,!1),0===t.strm.avail_out)?1:2}(o,n):m0()[o.level].func(o,n);if((3===d||4===d)&&(o.status=666),1===d||3===d)return 0===t.avail_out&&(o.last_flush=-1),0;if(2===d&&(1===n?function(t){_n(t,2,3),Po(t,256,Lo),function(t){16===t.bi_valid?(Md(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(o):5!==n&&(Nx(o,0,0,!1),3===n&&(cr(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),dr(t),0===t.avail_out))return o.last_flush=-1,0}return 4!==n?0:o.wrap<=0?1:(2===o.wrap?(et(o,255&t.adler),et(o,t.adler>>8&255),et(o,t.adler>>16&255),et(o,t.adler>>24&255),et(o,255&t.total_in),et(o,t.total_in>>8&255),et(o,t.total_in>>16&255),et(o,t.total_in>>24&255)):(Fd(o,t.adler>>>16),Fd(o,65535&t.adler)),dr(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)}var zx=Object.prototype.toString;class Gx{constructor(n){this.options=Dk({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},n||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mx,this.strm.avail_out=0;var o=function(t,n,e,o,s,r){if(!t)return-2;var a=1;if(-1===n&&(n=6),o<0?(a=0,o=-o):o>15&&(a=2,o-=16),s<1||s>9||8!==e||o<8||o>15||n<0||n>9||r<0||r>4)return lr(t,-2);8===o&&(o=9);var l=new YV;return t.state=l,l.strm=t,l.wrap=a,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=No(2*l.w_size),l.head=vn(l.hash_size),l.prev=vn(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=No(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=n,l.strategy=r,l.method=e,JV(t)}(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==o)throw new Error(fa[o]);if(e.header&&function(t,n){t&&t.state&&2===t.state.wrap&&(t.state.gzhead=n)}(this.strm,e.header),e.dictionary){var s;if(s="string"==typeof e.dictionary?gf(e.dictionary):"[object ArrayBuffer]"===zx.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(o=function(t,n){var o,s,r,a,l,d,c,p,e=n.length;if(!t||!t.state||2===(a=(o=t.state).wrap)||1===a&&42!==o.status||o.lookahead)return-2;for(1===a&&(t.adler=Sd(t.adler,n,e,0)),o.wrap=0,e>=o.w_size&&(0===a&&(cr(o.head),o.strstart=0,o.block_start=0,o.insert=0),p=No(o.w_size),Tn(p,n,e-o.w_size,o.w_size,0),n=p,e=o.w_size),l=t.avail_in,d=t.next_in,c=t.input,t.avail_in=e,t.next_in=0,t.input=n,_a(o);o.lookahead>=3;){s=o.strstart,r=o.lookahead-2;do{o.ins_h=(o.ins_h<<o.hash_shift^o.window[s+3-1])&o.hash_mask,o.prev[s&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=s,s++}while(--r);o.strstart=s,o.lookahead=2,_a(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=2,o.match_available=0,t.next_in=d,t.input=c,t.avail_in=l,o.wrap=a,0}(this.strm,s)))throw new Error(fa[o]);this._dict_set=!0}}push(n,e){var r,a,o=this.strm,s=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,o.input="string"==typeof n?gf(n):"[object ArrayBuffer]"===zx.call(n)?new Uint8Array(n):n,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=No(s),o.next_out=0,o.avail_out=s),1!==(r=ZV(o,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===o.avail_out||0===o.avail_in&&(4===a||2===a))&&this.onData("string"===this.options.to?N9(hf(o.output,o.next_out)):hf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===a?(r=function(t){var n;return t&&t.state?42!==(n=t.state.status)&&69!==n&&73!==n&&91!==n&&103!==n&&113!==n&&666!==n?lr(t,-2):(t.state=null,113===n?lr(t,-3):0):-2}(this.strm),this.onEnd(r),this.ended=!0,0===r):(2===a&&(this.onEnd(0),o.avail_out=0),!0)}onData(n){this.chunks.push(n)}onEnd(n){0===n&&(this.result="string"===this.options.to?this.chunks.join(""):ff(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg}}var Gt={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function bs(t,n){t=t.toLowerCase(),Gt[t]=function(){return Gt[n]},Gt[t+"|bold"]=function(){return Gt[n+"|bold"]},Gt[t+"|italic"]=function(){return Gt[n+"|italic"]},Gt[t+"|bold|italic"]=function(){return Gt[n+"|bold|italic"]}}bs("Times New Roman","serif"),bs("Courier New","monospace"),bs("Arial","sans-serif"),bs("Helvetica","sans-serif"),bs("Verdana","sans-serif"),bs("Tahoma","sans-serif"),bs("Georgia","sans-serif"),bs("Monaco","monospace"),bs("Andale Mono","monospace");var RH=class extends Rs{constructor(n){super(),this._size=n,this._length=0,this._map={}}put(n,e){const o=this._map,s={key:n,value:e};o[n]=s,this._head?(this._tail.newer=s,s.older=this._tail,this._tail=s):this._head=this._tail=s,this._length>=this._size?(o[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(n){const e=this._map[n];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}};const AH=/\r?\n|\r|\t/g,GH={baselineMarkerSize:1};let k0;"undefined"!=typeof document&&(k0=document.createElement("div"),k0.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class x0 extends Rs{constructor(n){super(),this._cache=new RH(1e3),this.options=Object.assign({},GH,n)}measure(n,e,o={}){if(null==n)return{width:0,height:0,baseline:0};const s=function(t){const n=[];for(let e in t)n.push(e+t[e]);return n.sort().join("")}(e),r=function(t){let n=2166136261;for(let e=0;e<t.length;++e)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=t.charCodeAt(e);return n>>>0}(n+s),a=this._cache.get(r);if(a)return a;const l={width:0,height:0,baseline:0},d=o.box||k0,c=this._baselineMarker().cloneNode(!1);for(let m in e){let f=e[m];void 0!==f&&(d.style[m]=f)}const p=!1!==o.normalizeText?function(t){return String(t).replace(AH," ")}(n):String(n);return d.textContent=p,d.appendChild(c),document.body.appendChild(d),p.length&&(l.width=d.offsetWidth-this.options.baselineMarkerSize,l.height=d.offsetHeight,l.baseline=c.offsetTop+this.options.baselineMarkerSize),l.width>0&&l.height>0&&this._cache.put(r,l),d.parentNode.removeChild(d),l}_baselineMarker(){const n=document.createElement("div");return n.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",n}}x0.current=new x0;const $H={}.toString;class Rd extends Jn{constructor(n,e=""){super(),this.prefix=e;for(let o in n){let s=n[o];s=this._wrap(s,o),this[o]=s}}get(n){const e=n.split(".");let o=this;for(;e.length&&o;)o=o[e.shift()];return o}set(n,e){this.get(n)!==e&&(this._set(n,this._wrap(e,n)),this.optionsChange({field:this.prefix+n,value:e}))}_set(n,e){const o=n.indexOf(".")>=0;let s=this,r=n;if(o){const a=r.split(".");let l=this.prefix;for(;a.length>1;){r=a.shift(),l+=r+".";let d=s[r];d||(d=new Rd({},l),d.addObserver(this),s[r]=d),s=d}r=a[0]}s._clear(r),s[r]=e}_clear(n){const e=this[n];e&&e.removeObserver&&e.removeObserver(this)}_wrap(n,e){const o=$H.call(n);let s=n;return null!==s&&Je(s)&&"[object Object]"===o&&(!(n instanceof Rd)&&!(n instanceof Rs)&&(s=new Rd(s,this.prefix+e+".")),s.addObserver(this)),s}}var iT=Rd;let JH=1;function M0(){return"kdef"+JH++}function nT(t){return""===t||null===t||"none"===t||"transparent"===t||!Je(t)}var Ca=class extends Jn{get nodeType(){return"Rect"}constructor(n){super(),this._initOptions(n)}_initOptions(n={}){const{clip:e,transform:o}=n;o&&(n.transform=vs(o)),e&&!e.id&&(e.id=M0()),this.options=new iT(n),this.options.addObserver(this)}transform(n){if(!Je(n))return this.options.get("transform");this.options.set("transform",vs(n))}parentTransform(){let e,n=this;for(;n.parent;){n=n.parent;let o=n.transform();o&&(e=o.matrix().multiplyCopy(e||kn.unit()))}if(e)return vs(e)}currentTransform(n=this.parentTransform()){const o=da(this.transform());let r,s=da(n);if(r=o&&s?s.multiplyCopy(o):o||s,r)return vs(r)}visible(n){return Je(n)?(this.options.set("visible",n),this):!1!==this.options.get("visible")}clip(n){const e=this.options;return Je(n)?(n&&!n.id&&(n.id=M0()),e.set("clip",n),this):e.get("clip")}opacity(n){return Je(n)?(this.options.set("opacity",n),this):function(t,n){return Je(t)?t:1}(this.options.get("opacity"))}clippedBBox(n){const e=this._clippedBBox(n);if(e){const o=this.clip();return o?ni.intersect(e,o.bbox(n)):e}}containsPoint(n,e){if(this.visible()){const o=this.currentTransform(e);let s=n;return o&&(s=n.transformCopy(o.matrix().invert())),this._hasFill()&&this._containsPoint(s)||this._isOnPath&&this._hasStroke()&&this._isOnPath(s)}return!1}_hasFill(){const n=this.options.fill;return n&&!nT(n.color)}_hasStroke(){const n=this.options.stroke;return n&&n.width>0&&!nT(n.color)}_clippedBBox(n){return this.bbox(n)}},Df=t=>class extends t{fill(n,e){const o=this.options;if(Je(n)){if(n&&"Gradient"!==n.nodeType){const s={color:n};Je(e)&&(s.opacity=e),o.set("fill",s)}else o.set("fill",n);return this}return o.get("fill")}stroke(n,e,o){return Je(n)?(this.options.set("stroke.color",n),Je(e)&&this.options.set("stroke.width",e),Je(o)&&this.options.set("stroke.opacity",o),this):this.options.get("stroke")}};function UH(t){const n="_"+t;return function(e){return Je(e)?(this._observerField(n,_e.create(e)),this.geometryChange(),this):this[n]}}var Mf=(t,n)=>{const e=class extends t{};return function(t,n){for(let e=0;e<n.length;e++)t[n[e]]=UH(n[e])}(e.prototype,n),e};Df(Mf(Ca,["position"]));const oY=[].push,sY=[].pop,rY=[].splice,aY=[].shift,sT=[].slice,lY=[].unshift;var rT=class extends Jn{constructor(n=[]){super(),this.length=0,this._splice(0,n.length,n)}elements(n){return n?(this._splice(0,this.length,n),this._change(),this):this.slice(0)}push(){const n=arguments,e=oY.apply(this,n);return this._add(n),e}slice(){return sT.call(this)}pop(){const n=this.length,e=sY.apply(this);return n&&this._remove([e]),e}splice(n,e){const o=sT.call(arguments,2),s=this._splice(n,e,o);return this._change(),s}shift(){const n=this.length,e=aY.apply(this);return n&&this._remove([e]),e}unshift(){const n=arguments,e=lY.apply(this,n);return this._add(n),e}indexOf(n){const e=this.length;for(let o=0;o<e;o++)if(this[o]===n)return o;return-1}_splice(n,e,o){const s=rY.apply(this,[n,e].concat(o));return this._clearObserver(s),this._setObserver(o),s}_add(n){this._setObserver(n),this._change()}_remove(n){this._clearObserver(n),this._change()}_setObserver(n){for(let e=0;e<n.length;e++)n[e].addObserver(this)}_clearObserver(n){for(let e=0;e<n.length;e++)n[e].removeObserver(this)}_change(){}};const uY=kn.IDENTITY.toString();var E0=t=>class extends t{bbox(n){const e=da(this.currentTransform(n)),o=e?e.toString():uY;let s;this._bboxCache&&this._matrixHash===o?s=this._bboxCache.clone():(s=this._bbox(e),this._bboxCache=s?s.clone():null,this._matrixHash=o);const r=this.options.get("stroke.width");return r&&s&&s.expand(r/2),s}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function SY(t){const n="_"+t;return function(e){return Je(e)?(this._observerField(n,e),this.geometryChange(),this):this[n]}}Mf(Jn,["anchor","controlIn","controlOut"]),Df(E0(Ca)),Df(E0(Ca));var wT=(t,n=["geometry"])=>{const e=class extends t{};return function(t,n){for(let e=0;e<n.length;e++)t[n[e]]=SY(n[e])}(e.prototype,n),e};wT(Ca,["rect"]);var TY=class extends rT{_change(){this.optionsChange({field:"stops"})}};function DY(t){return function(n){return Je(n)?(this.options.set(t,n),this):this.options.get(t)}}const BY=["offset","color","opacity"];class Ld extends(((t,n)=>{const e=class extends t{};return function(t,n){for(let e=0;e<n.length;e++)t[n[e]]=DY(n[e])}(e.prototype,n),e})(Jn,BY)){constructor(n,e,o){super(),this.options=new iT({offset:n,color:e,opacity:Je(o)?o:1}),this.options.addObserver(this)}static create(n){if(Je(n)){let e;return e=n instanceof Ld?n:n.length>1?new Ld(n[0],n[1],n[2]):new Ld(n.offset,n.color,n.opacity),e}}}var IT=Ld,Pd=class extends Jn{get nodeType(){return"Gradient"}constructor(n={}){super(),this.stops=new TY(this._createStops(n.stops)),this.stops.addObserver(this),this._userSpace=n.userSpace,this.id=M0()}userSpace(n){return Je(n)?(this._userSpace=n,this.optionsChange(),this):this._userSpace}_createStops(n=[]){const e=[];for(let o=0;o<n.length;o++)e.push(IT.create(n[o]));return e}addStop(n,e,o){this.stops.push(new IT(n,e,o))}removeStop(n){const e=this.stops.indexOf(n);e>=0&&this.stops.splice(e,1)}optionsChange(n){this.trigger("optionsChange",{field:"gradient"+(n?"."+n.field:""),value:this})}geometryChange(){this.optionsChange()}};Mf(Pd,["start","end"]),Df(E0(wT(Ca)));var Be={};Be._root=Be,"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window;!function(){var t={}}();function Yd(t,n){return Object.prototype.hasOwnProperty.call(t,n)}Object.create(null),Object.create(null),Mf(Pd,["center"]);const QT=()=>document.createElement("a"),D$=()=>"download"in QT();function M$(t,n){let e=t;if("string"==typeof t){const o=t.split(";base64,"),s=o[0],r=atob(o[1]),a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);e=new Blob([a.buffer],{type:s})}navigator.msSaveBlob(e,n)}function E$(t,n){let e=t;window.Blob&&t instanceof Blob&&(e=URL.createObjectURL(t));const o=QT();o.download=n,o.href=e;const s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(s),setTimeout(()=>URL.revokeObjectURL(e))}function B$(t,n,e){if(!e.proxyURL)return;const o=document.createElement("form");o.setAttribute("action",e.proxyURL),o.setAttribute("method","POST"),o.setAttribute("target",e.proxyTarget||"_self");const s=e.proxyData||{};s.fileName=n;const r=t.split(";base64,");s.contentType=r[0].replace("data:",""),s.base64=r[1];for(let a in s)if(s.hasOwnProperty(a)){const l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",a),l.setAttribute("value",s[a]),o.appendChild(l)}document.body.appendChild(o),o.submit(),document.body.removeChild(o)}function Qe(t,n,e,o){var a,s=arguments.length,r=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(r=(s<3?a(r):s>3?a(n,e,r):a(n,e))||r);return s>3&&r&&Object.defineProperty(n,e,r),r}function Vo(t,n){return function(e,o){n(e,o,t)}}function Xe(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}let tD={toString:t=>t};var iD=class{static register(n){tD=n}static toString(n,e){return tD.toString(n,e)}};let nD={compile:function(t){return t}};var Pf=class{static register(n){nD=n}static compile(n){return nD.compile(n)}};const z$=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Ud={},oD="undefined";function sD(t){if(Ud[t])return Ud[t];const n=[];return t.replace(z$,function(e,o,s,r){n.push(typeof o!==oD?o:s||r)}),Ud[t]=function(e){let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o},Ud[t]}function Ho(t,n){return t.reduce((e,o,s)=>{const r=n(o,s);return null!=r&&e.push(r),e},[])}function G$(t){return`${t.title}: ${t.value}`}function j0(t,n){const e=[];for(let o=0;o<t;o++)e.push(n(o));return e}function V$(t){return t.id}Ud[oD]=function(t){return t};var Yo={Promise};const Oi={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},get uint8array(){return"undefined"!=typeof Uint8Array},get blob(){return rD()}};let rD=function(){let t;if("undefined"==typeof ArrayBuffer)t=!1;else{const n=new ArrayBuffer(0);try{t=0===new Blob([n],{type:"application/zip"}).size}catch(e){t=!1}}return rD=()=>t,t};const $o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zf(t){return t}function q0(t,n){for(var e=0;e<t.length;++e)n[e]=255&t.charCodeAt(e);return n}function Z$(t,n,e){var o=[],s=0,r=t.length;if(r<=e)return String.fromCharCode.apply(null,t);for(;s<r;)o.push(String.fromCharCode.apply(null,"array"===n?t.slice(s,Math.min(s+e,r)):t.subarray(s,Math.min(s+e,r)))),s+=e;return o.join("")}let aD=()=>{let t;try{t=Oi.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(n){t=!1}return aD=()=>t,t};function Gf(t){var n=65536,e=Ia(t),o=!0;if("uint8array"===e&&(o=aD()),o)for(;n>1;)try{return Z$(t,e,n)}catch(s){n=Math.floor(n/2)}return function(t){for(var n="",e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return n}(t)}const Q$=Gf;function lD(t,n){for(var e=0;e<t.length;e++)n[e]=t[e];return n}var cD={string:{string:zf,array:function(t){return q0(t,new Array(t.length))},arraybuffer:function(t){return cD.string.uint8array(t).buffer},uint8array:function(t){return q0(t,new Uint8Array(t.length))}},array:{string:Gf,array:zf,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)}},arraybuffer:{string:function(t){return Gf(new Uint8Array(t))},array:function(t){return lD(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:zf,uint8array:function(t){return new Uint8Array(t)}},uint8array:{string:Gf,array:function(t){return lD(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:zf}};const fi=function(t,n){if(n||(n=""),!t)return n;Qd(t);var e=Ia(n);return cD[e][t](n)},Ia=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":Oi.uint8array&&t instanceof Uint8Array?"uint8array":Oi.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},Qd=function(t){if(!Oi[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},Vf=65535,Z0=function(t){var e,o,n="";for(o=0;o<(t||"").length;o++)n+="\\x"+((e=t.charCodeAt(o))<16?"0":"")+e.toString(16).toUpperCase();return n},Hf=function(t,n,e){setTimeout(function(){t.apply(e||null,n||[])},0)},U0=function(){var n,e,t={};for(n=0;n<arguments.length;n++)for(e in arguments[n])Object.hasOwnProperty.call(arguments[n],e)&&void 0===t[e]&&(t[e]=arguments[n][e]);return t},dD=function(t,n,e,o,s){return Yo.Promise.resolve(n).then(function(a){return Oi.blob&&(a instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(a)))&&"undefined"!=typeof FileReader?new Yo.Promise(function(d,c){var p=new FileReader;p.onload=function(m){d(m.target.result)},p.onerror=function(m){c(m.target.error)},p.readAsArrayBuffer(a)}):a}).then(function(a){var l=Ia(a);return l?("arraybuffer"===l?a=fi("uint8array",a):"string"===l&&(s?a=function(t){let n,e,o,s,r,a,l,d=0,c=0,p="data:";if(t.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");let f,m=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===$o.charAt(64)&&m--,t.charAt(t.length-2)===$o.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=Oi.uint8array?new Uint8Array(0|m):new Array(0|m);d<t.length;)s=$o.indexOf(t.charAt(d++)),r=$o.indexOf(t.charAt(d++)),a=$o.indexOf(t.charAt(d++)),l=$o.indexOf(t.charAt(d++)),n=s<<2|r>>4,e=(15&r)<<4|a>>2,o=(3&a)<<6|l,f[c++]=n,64!==a&&(f[c++]=e),64!==l&&(f[c++]=o);return f}(a):e&&!0!==o&&(a=function(t){return q0(t,Oi.uint8array?new Uint8Array(t.length):new Array(t.length))}(a))),a):Yo.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})};class an{constructor(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}push(n){this.emit("data",n)}end(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0}error(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)}on(n,e){return this._listeners[n].push(e),this}cleanUp(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]}emit(n,e){if(this._listeners[n])for(var o=0;o<this._listeners[n].length;o++)this._listeners[n][o].call(this,e)}pipe(n){return n.registerPrevious(this)}registerPrevious(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var e=this;return n.on("data",function(o){e.processChunk(o)}),n.on("end",function(){e.end()}),n.on("error",function(o){e.error(o)}),this}pause(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)}resume(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var n=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n}flush(){}processChunk(n){this.push(n)}withStreamInfo(n,e){return this.extraStreamInfo[n]=e,this.mergeStreamInfo(),this}mergeStreamInfo(){for(var n in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(n)||(this.streamInfo[n]=this.extraStreamInfo[n])}lock(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()}toString(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}}let Q0=function(t){const n=new Array(256);for(let e=0;e<256;e++)n[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return n[254]=n[254]=1,Q0=function(e){return n[e]},n[t]};const Xd=function(n){return function(t){var n,e,o,s,r,a=t.length,l=0;for(s=0;s<a;s++)55296==(64512&(e=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(o=t.charCodeAt(s+1)))&&(e=65536+(e-55296<<10)+(o-56320),s++),l+=e<128?1:e<2048?2:e<65536?3:4;for(n=Oi.uint8array?new Uint8Array(l):new Array(l),r=0,s=0;r<l;s++)55296==(64512&(e=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(o=t.charCodeAt(s+1)))&&(e=65536+(e-55296<<10)+(o-56320),s++),e<128?n[r++]=e:e<2048?(n[r++]=192|e>>>6,n[r++]=128|63&e):e<65536?(n[r++]=224|e>>>12,n[r++]=128|e>>>6&63,n[r++]=128|63&e):(n[r++]=240|e>>>18,n[r++]=128|e>>>12&63,n[r++]=128|e>>>6&63,n[r++]=128|63&e);return n}(n)},ka=function(n){return function(t){var n,e,o,s,r=t.length,a=new Array(2*r);for(e=0,n=0;n<r;)if((o=t[n++])<128)a[e++]=o;else if((s=Q0(o))>4)a[e++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<r;)o=o<<6|63&t[n++],s--;s>1?a[e++]=65533:o<65536?a[e++]=o:(a[e++]=55296|(o-=65536)>>10&1023,a[e++]=56320|1023&o)}return a.length!==e&&(a.subarray?a=a.subarray(0,e):a.length=e),Q$(a)}(n=fi(Oi.uint8array?"uint8array":"array",n))};class eJ extends an{constructor(){super("utf-8 decode"),this.leftOver=null}processChunk(n){var e=fi(Oi.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(Oi.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var s=function(t,n){var e;for((n=n||t.length)>t.length&&(n=t.length),e=n-1;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?n:e+Q0(t[e])>n?e:n}(e),r=e;s!==e.length&&(Oi.uint8array?(r=e.subarray(0,s),this.leftOver=e.subarray(s,e.length)):(r=e.slice(0,s),this.leftOver=e.slice(s,e.length))),this.push({data:ka(r),meta:n.meta})}flush(){this.leftOver&&this.leftOver.length&&(this.push({data:ka(this.leftOver),meta:{}}),this.leftOver=null)}}class uD extends an{constructor(){super("utf-8 encode")}processChunk(n){this.push({data:Xd(n.data),meta:n.meta})}}class tJ extends an{constructor(n){super("ConvertWorker to "+n),this.destType=n}processChunk(n){this.push({data:fi(this.destType,n.data),meta:n.meta})}}function oJ(t,n){return new Yo.Promise(function(e,o){var s=[],r=t._internalType,a=t._outputType,l=t._mimeType;t.on("data",function(d,c){s.push(d),n&&n(c)}).on("error",function(d){s=[],o(d)}).on("end",function(){try{var d=function(t,n,e){switch(t){case"blob":return function(t,n){return Qd("blob"),new Blob([t],{type:n})}(fi("arraybuffer",n),e);case"base64":return function(t){let e,o,s,r,a,l,d,n=[],c=0,p=t.length,m=p,f="string"!=typeof t;for(;c<t.length;)m=p-c,f?(e=t[c++],o=c<p?t[c++]:0,s=c<p?t[c++]:0):(e=t.charCodeAt(c++),o=c<p?t.charCodeAt(c++):0,s=c<p?t.charCodeAt(c++):0),r=e>>2,a=(3&e)<<4|o>>4,l=m>1?(15&o)<<2|s>>6:64,d=m>2?63&s:64,n.push($o.charAt(r)+$o.charAt(a)+$o.charAt(l)+$o.charAt(d));return n.join("")}(n);default:return fi(t,n)}}(a,function(t,n){var e,o=0,s=null,r=0;for(e=0;e<n.length;e++)r+=n[e].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(s=new Uint8Array(r),e=0;e<n.length;e++)s.set(n[e],o),o+=n[e].length;return s;default:throw new Error("concat : unsupported type '"+t+"'")}}(r,s),l);e(d)}catch(c){o(c)}s=[]}).resume()})}class pD{constructor(n,e,o){var s=e;switch(e){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=e,this._mimeType=o,Qd(s),this._worker=n.pipe(new tJ(s)),n.lock()}catch(r){this._worker=new an("error"),this._worker.error(r)}}accumulate(n){return oJ(this,n)}on(n,e){var o=this;return this._worker.on(n,"data"===n?function(s){e.call(o,s.data,s.meta)}:function(){Hf(e,arguments,o)}),this}resume(){return Hf(this._worker.resume,[],this._worker),this}pause(){return this._worker.pause(),this}}var fD=Object.freeze({__proto__:null,base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null});class X0 extends an{constructor(n){super("DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,n.then(function(o){e.dataIsReady=!0,e.data=o,e.max=o&&o.length||0,e.type=Ia(o),e.isPaused||e._tickAndRepeat()},function(o){e.error(o)})}cleanUp(){super.cleanUp(),this.data=null}resume(){return!!super.resume()&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Hf(this._tickAndRepeat,[],this)),!0)}_tickAndRepeat(){this._tickScheduled=!1,!this.isPaused&&!this.isFinished&&(this._tick(),this.isFinished||(Hf(this._tickAndRepeat,[],this),this._tickScheduled=!0))}_tick(){if(this.isPaused||this.isFinished)return!1;var e=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,o);break;case"uint8array":e=this.data.subarray(this.index,o);break;case"array":e=this.data.slice(this.index,o)}return this.index=o,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})}}class W0 extends an{constructor(n){super("DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}processChunk(n){n&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+n.data.length),super.processChunk(n)}}let K0=function(){const t=[];for(let n=0;n<256;n++){let e=n;for(let o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return K0=function(){return t},t};function Wd(t,n){return void 0!==t&&t.length?"string"!==Ia(t)?function(t,n,e,o){const s=K0();let r=0+e;t^=-1;for(let a=0;a<r;a++)t=t>>>8^s[255&(t^n[a])];return-1^t}(0|n,t,t.length):function(t,n,e,o){const s=K0();let r=0+e;t^=-1;for(let a=0;a<r;a++)t=t>>>8^s[255&(t^n.charCodeAt(a))];return-1^t}(0|n,t,t.length):0}class gD extends an{constructor(){super("Crc32Probe"),this.withStreamInfo("crc32",0)}processChunk(n){this.streamInfo.crc32=Wd(n.data,this.streamInfo.crc32||0),this.push(n)}}class ac{constructor(n,e,o,s,r){this.compressedSize=n,this.uncompressedSize=e,this.crc32=o,this.compression=s,this.compressedContent=r}getContentWorker(){var n=new X0(Yo.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new W0("data_length")),e=this;return n.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),n}getCompressedWorker(){return new X0(Yo.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}static createWorkerFrom(n,e,o){return n.pipe(new gD).pipe(new W0("uncompressedSize")).pipe(e.compressWorker(o)).pipe(new W0("compressedSize")).withStreamInfo("compression",e)}}class uJ{constructor(n,e,o){this.name=n,this.dir=o.dir,this.date=o.date,this.comment=o.comment,this.unixPermissions=o.unixPermissions,this.dosPermissions=o.dosPermissions,this._data=e,this._dataBinary=o.binary,this.options={compression:o.compression,compressionOptions:o.compressionOptions}}internalStream(n){var e=null,o="string";try{if(!n)throw new Error("No output type specified.");var s="string"===(o=n.toLowerCase())||"text"===o;("binarystring"===o||"text"===o)&&(o="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!s&&(e=e.pipe(new uD)),!r&&s&&(e=e.pipe(new eJ))}catch(a){(e=new an("error")).error(a)}return new pD(e,o,"")}async(n,e){return this.internalStream(n).accumulate(e)}_compressWorker(n,e){if(this._data instanceof ac&&this._data.compression.magic===n.magic)return this._data.getCompressedWorker();var o=this._decompressWorker();return this._dataBinary||(o=o.pipe(new uD)),ac.createWorkerFrom(o,n,e)}_decompressWorker(){return this._data instanceof ac?this._data.getContentWorker():this._data instanceof an?this._data:new X0(this._data)}}let mD=function(){const n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array?"uint8array":"array";mD=function(){return n}};class vD extends an{constructor(n,e){super("FlateWorker/"+n),this._pako=null,this._pakoAction=n,this._pakoOptions=e,this.meta={}}processChunk(n){this.meta=n.meta,null===this._pako&&this._createPako(),this._pako.push(fi(mD(),n.data),!1)}flush(){super.flush(),null===this._pako&&this._createPako(),this._pako.push([],!0)}cleanUp(){super.cleanUp(),this._pako=null}_createPako(){const n={raw:!0,level:this._pakoOptions.level||-1};this._pako="Deflate"===this._pakoAction?new Gx(n):new kd(n),this._pako.onData=e=>{this.push({data:e,meta:this.meta})}}}var Kd={STORE:{magic:"\0\0",compressWorker:function(){return new an("STORE compression")},uncompressWorker:function(){return new an("STORE decompression")}},DEFLATE:{magic:"\b\0",compressWorker:function(t){return new vD("Deflate",t)},uncompressWorker:function(){return new vD("Inflate",{})}}};const ey="PK\x03\x04",ty="PK\x01\x02",iy="PK\x05\x06",ny="PK\x06\x06";var St=function(t,n){var o,e="";for(o=0;o<n;o++)e+=String.fromCharCode(255&t),t>>>=8;return e},yD=function(t,n,e,o,s,r){var P,E,a=t.file,l=t.compression,d=r!==Xd,c=fi("string",r(a.name)),p=fi("string",Xd(a.name)),m=a.comment,f=fi("string",r(m)),y=fi("string",Xd(m)),S=p.length!==a.name.length,D=y.length!==m.length,M="",H="",F="",O=a.dir,V=a.date,z={crc32:0,compressedSize:0,uncompressedSize:0};(!n||e)&&(z.crc32=t.crc32,z.compressedSize=t.compressedSize,z.uncompressedSize=t.uncompressedSize);var j=0;n&&(j|=8),!d&&(S||D)&&(j|=2048);var K=0,J=0;O&&(K|=16),"UNIX"===s?(J=798,K|=function(t,n){var e=t;return t||(e=n?16893:33204),(65535&e)<<16}(a.unixPermissions,O)):(J=20,K|=function(t,n){return 63&(t||0)}(a.dosPermissions)),P=V.getUTCHours(),P<<=6,P|=V.getUTCMinutes(),P<<=5,P|=V.getUTCSeconds()/2,E=V.getUTCFullYear()-1980,E<<=4,E|=V.getUTCMonth()+1,E<<=5,E|=V.getUTCDate(),S&&(H=St(1,1)+St(Wd(c),4)+p,M+="up"+St(H.length,2)+H),D&&(F=St(1,1)+St(Wd(f),4)+y,M+="uc"+St(F.length,2)+F);var A="";return A+="\n\0",A+=St(j,2),A+=l.magic,A+=St(P,2),A+=St(E,2),A+=St(z.crc32,4),A+=St(z.compressedSize,4),A+=St(z.uncompressedSize,4),A+=St(c.length,2),A+=St(M.length,2),{fileRecord:ey+A+c+M,dirRecord:ty+St(J,2)+A+St(f.length,2)+"\0\0\0\0"+St(K,4)+St(o,4)+c+M+f}},vJ=function(t){return"PK\x07\b"+St(t.crc32,4)+St(t.compressedSize,4)+St(t.uncompressedSize,4)};class _J extends an{constructor(n,e,o,s){super("ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=o,this.encodeFileName=s,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}push(n){var e=n.meta.percent||0,o=this.entriesCount,s=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,super.push({data:n.data,meta:{currentFile:this.currentFile,percent:o?(e+100*(o-s-1))/o:100}}))}openedSource(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var e=this.streamFiles&&!n.file.dir;if(e){var o=yD(n,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0}closedSource(n){this.accumulate=!1;var e=this.streamFiles&&!n.file.dir,o=yD(n,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),e)this.push({data:vJ(n),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null}flush(){for(var n=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var s=function(t,n,e,o,s){var a=fi("string",s(o));return iy+"\0\0\0\0"+St(t,2)+St(t,2)+St(n,4)+St(e,4)+St(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-n,n,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})}prepareNextSource(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()}registerPrevious(n){this._sources.push(n);var e=this;return n.on("data",function(o){e.processChunk(o)}),n.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),n.on("error",function(o){e.error(o)}),this}resume(){return!!super.resume()&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))}error(n){var e=this._sources;if(!super.error(n))return!1;for(var o=0;o<e.length;o++)try{e[o].error(n)}catch(s){}return!0}lock(){super.lock();for(var n=this._sources,e=0;e<n.length;e++)n[e].lock()}}class bD{constructor(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}checkOffset(n){this.checkIndex(this.index+n)}checkIndex(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")}setIndex(n){this.checkIndex(n),this.index=n}skip(n){this.setIndex(this.index+n)}byteAt(n){}readInt(n){var o,e=0;for(this.checkOffset(n),o=this.index+n-1;o>=this.index;o--)e=(e<<8)+this.byteAt(o);return this.index+=n,e}readString(n){return fi("string",this.readData(n))}readData(n){}lastIndexOfSignature(n){}readAndCheckSignature(n){}readDate(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}}class CD extends bD{constructor(n){super(n);for(var e=0;e<this.data.length;e++)n[e]=255&n[e]}byteAt(n){return this.data[this.zero+n]}lastIndexOfSignature(n){for(var e=n.charCodeAt(0),o=n.charCodeAt(1),s=n.charCodeAt(2),r=n.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===o&&this.data[a+2]===s&&this.data[a+3]===r)return a-this.zero;return-1}readAndCheckSignature(n){var e=n.charCodeAt(0),o=n.charCodeAt(1),s=n.charCodeAt(2),r=n.charCodeAt(3),a=this.readData(4);return e===a[0]&&o===a[1]&&s===a[2]&&r===a[3]}readData(n){if(this.checkOffset(n),0===n)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,e}}class CJ extends bD{constructor(n){super(n)}byteAt(n){return this.data.charCodeAt(this.zero+n)}lastIndexOfSignature(n){return this.data.lastIndexOf(n)-this.zero}readAndCheckSignature(n){return n===this.readData(4)}readData(n){this.checkOffset(n);const e=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,e}}class wJ extends CD{constructor(n){super(n)}readData(n){if(this.checkOffset(n),0===n)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,e}}function Yf(t){const n=Ia(t);return Qd(n),"string"!==n||Oi.uint8array?Oi.uint8array?new wJ(fi("uint8array",t)):new CD(fi("array",t)):new CJ(t)}class xJ{constructor(n,e){this.options=n,this.loadOptions=e}isEncrypted(){return 1==(1&this.bitFlag)}useUTF8(){return 2048==(2048&this.bitFlag)}readLocalPart(n){var e,o;if(n.skip(22),this.fileNameLength=n.readInt(2),o=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(o),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var n in Kd)if(Kd.hasOwnProperty(n)&&Kd[n].magic===t)return Kd[n];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+Z0(this.compressionMethod)+" unknown (inner file : "+fi("string",this.fileName)+")");this.decompressed=new ac(this.compressedSize,this.uncompressedSize,this.crc32,e,n.readData(this.compressedSize))}readCentralPart(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var e=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(e),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)}processAttributes(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===n&&(this.dosPermissions=63&this.externalFileAttributes),3===n&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&"/"===this.fileNameStr.slice(-1)&&(this.dir=!0)}parseZIP64ExtraField(n){if(this.extraFields[1]){var e=Yf(this.extraFields[1].value);-1===this.uncompressedSize&&(this.uncompressedSize=e.readInt(8)),-1===this.compressedSize&&(this.compressedSize=e.readInt(8)),-1===this.localHeaderOffset&&(this.localHeaderOffset=e.readInt(8)),-1===this.diskNumberStart&&(this.diskNumberStart=e.readInt(4))}}readExtraFields(n){var o,s,r,e=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index<e;)o=n.readInt(2),s=n.readInt(2),r=n.readData(s),this.extraFields[o]={id:o,length:s,value:r}}handleUTF8(){var n=Oi.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ka(this.fileName),this.fileCommentStr=ka(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var o=fi(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var s=this.findExtraFieldUnicodeComment();if(null!==s)this.fileCommentStr=s;else{var r=fi(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}}findExtraFieldUnicodePath(){var n=this.extraFields[28789];if(n){var e=Yf(n.value);return 1!==e.readInt(1)||Wd(this.fileName)!==e.readInt(4)?null:ka(e.readData(n.length-5))}return null}findExtraFieldUnicodeComment(){var n=this.extraFields[25461];if(n){var e=Yf(n.value);return 1!==e.readInt(1)||Wd(this.fileComment)!==e.readInt(4)?null:ka(e.readData(n.length-5))}return null}}class TJ{constructor(n){this.files=[],this.loadOptions=n}checkSignature(n){if(!this.reader.readAndCheckSignature(n)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Z0(e)+", expected "+Z0(n)+")")}}isSignature(n,e){var o=this.reader.index;this.reader.setIndex(n);var r=this.reader.readString(4)===e;return this.reader.setIndex(o),r}readBlockEndOfCentral(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var n=this.reader.readData(this.zipCommentLength),o=fi(Oi.uint8array?"uint8array":"array",n);this.zipComment=this.loadOptions.decodeFileName(o)}readBlockZip64EndOfCentral(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,s,r,n=this.zip64EndOfCentralSize-44;0<n;)o=this.reader.readInt(2),s=this.reader.readInt(4),r=this.reader.readData(s),this.zip64ExtensibleData[o]={id:o,length:s,value:r}}readBlockZip64EndOfCentralLocator(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")}readLocalFiles(){var n,e;for(n=0;n<this.files.length;n++)this.reader.setIndex((e=this.files[n]).localHeaderOffset),this.checkSignature(ey),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()}readCentralDir(){var n;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ty);)(n=new xJ({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(n);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}readEndOfCentral(){var n=this.reader.lastIndexOfSignature(iy);if(n<0)throw this.isSignature(0,ey)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(n);var o=n;if(this.checkSignature(iy),this.readBlockEndOfCentral(),this.diskNumber===Vf||this.diskWithCentralDirStart===Vf||this.centralDirRecordsOnThisDisk===Vf||this.centralDirRecords===Vf||-1===this.centralDirSize||-1===this.centralDirOffset){if(this.zip64=!0,(n=this.reader.lastIndexOfSignature("PK\x06\x07"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(n),this.checkSignature("PK\x06\x07"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ny)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ny),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ny),this.readBlockZip64EndOfCentral()}var s=this.centralDirOffset+this.centralDirSize;this.zip64&&(s+=20,s+=12+this.zip64EndOfCentralSize);var r=o-s;if(r>0)this.isSignature(o,ty)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")}prepareReader(n){this.reader=Yf(n)}load(n){this.prepareReader(n),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}}function DJ(t){return new Yo.Promise(function(n,e){var o=t.decompressed.getContentWorker().pipe(new gD);o.on("error",function(s){e(s)}).on("end",function(){o.streamInfo.crc32!==t.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}function MJ(t,n){var e=this;return n=U0(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ka}),dD("the loaded zip file",t,!0,n.optimizedBinaryString,n.base64).then(function(o){var s=new TJ(n);return s.load(o),s}).then(function(s){var r=[Yo.Promise.resolve(s)],a=s.files;if(n.checkCRC32)for(var l=0;l<a.length;l++)r.push(DJ(a[l]));return Yo.Promise.all(r)}).then(function(s){for(var r=s.shift(),a=r.files,l=0;l<a.length;l++){var d=a[l];e.file(d.fileNameStr,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:n.createFolders})}return r.zipComment.length&&(e.comment=r.zipComment),e})}var wD=function(t,n,e){var s,o=Ia(n),r=U0(e||{},fD);r.date=r.date||new Date,null!==r.compression&&(r.compression=r.compression.toUpperCase()),"string"==typeof r.unixPermissions&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&16384&r.unixPermissions&&(r.dir=!0),r.dosPermissions&&16&r.dosPermissions&&(r.dir=!0),r.dir&&(t=SD(t)),r.createFolders&&(s=EJ(t))&&ID.call(this,s,!0),(!e||void 0===e.binary)&&(r.binary=!("string"===o&&!1===r.binary&&!1===r.base64)),(n instanceof ac&&0===n.uncompressedSize||r.dir||!n||0===n.length)&&(r.base64=!1,r.binary=!0,n="",r.compression="STORE",o="string");var d;d=n instanceof ac||n instanceof an?n:dD(t,n,r.binary,r.optimizedBinaryString,r.base64);var c=new uJ(t,d,r);this.files[t]=c},EJ=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var n=t.lastIndexOf("/");return n>0?t.substring(0,n):""},SD=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},ID=function(t,n){return n=void 0===n||n,t=SD(t),this.files[t]||wD.call(this,t,null,{dir:!0,createFolders:n}),this.files[t]};function kD(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class $f{constructor(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){const n=new $f;for(const e in this)"function"!=typeof this[e]&&(n[e]=this[e]);return n}}load(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}forEach(n){var e,o,s;for(e in this.files)s=this.files[e],(o=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&n(o,s)}filter(n){var e=[];return this.forEach(function(o,s){n(o,s)&&e.push(s)}),e}file(n,e,o){if(1===arguments.length){if(kD(n)){var s=n;return this.filter(function(a,l){return!l.dir&&s.test(a)})}var r=this.files[this.root+n];return r&&!r.dir?r:null}return wD.call(this,n=this.root+n,e,o),this}folder(n){if(!n)return this;if(kD(n))return this.filter(function(r,a){return a.dir&&n.test(r)});var o=ID.call(this,this.root+n),s=this.clone();return s.root=o.name,s}remove(n){var e=this.files[n=this.root+n];if(e||("/"!==n.slice(-1)&&(n+="/"),e=this.files[n]),e&&!e.dir)delete this.files[n];else for(var o=this.filter(function(r,a){return a.name.slice(0,n.length)===n}),s=0;s<o.length;s++)delete this.files[o[s].name];return this}generate(n){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}generateInternalStream(n){var e,o={};try{if((o=U0(n||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Xd})).type=o.type.toLowerCase(),o.compression=o.compression.toUpperCase(),"binarystring"===o.type&&(o.type="string"),!o.type)throw new Error("No output type specified.");Qd(o.type),("darwin"===o.platform||"freebsd"===o.platform||"linux"===o.platform||"sunos"===o.platform)&&(o.platform="UNIX"),"win32"===o.platform&&(o.platform="DOS"),e=function(t,n,e){var o=new _J(n.streamFiles,e,n.platform,n.encodeFileName),s=0;try{t.forEach(function(r,a){s++;var l=function(t,n){var e=t||n,o=Kd[e];if(!o)throw new Error(e+" is not a valid compression method !");return o}(a.options.compression,n.compression),c=a.dir,p=a.date;a._compressWorker(l,a.options.compressionOptions||n.compressionOptions||{}).withStreamInfo("file",{name:r,dir:c,date:p,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(r){o.error(r)}return o}(this,o,o.comment||this.comment||"")}catch(r){(e=new an("error")).error(r)}return new pD(e,o.type||"string",o.mimeType)}generateAsync(n,e){return this.generateInternalStream(n).accumulate(e)}loadAsync(n,e){return MJ.apply(this,[n,e])}static loadAsync(n,e){return(new $f).loadAsync(n,e)}static get support(){return Oi}static get defaults(){return fD}static get version(){return"3.2.2-esm"}static get external(){return Yo}}function xD(t,n,e){return(1461*(t+4800+((n-13)/12|0))/4|0)+(367*(n-1-12*((n-13)/12|0))/12|0)-(3*((t+4900+((n-13)/12|0))/100|0)/4|0)+e-32075}const FJ=xD(1900,0,-1);const TD="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",NJ=`data:${TD};base64,`,DD={compression:"DEFLATE",type:"base64"},LJ={compression:"DEFLATE",type:"blob"},PJ={compression:"DEFLATE",type:"arraybuffer"};function MD(t){return NJ+t}function eu(t,n){return n.indexOf(t)}const ED=JSON.parse.bind(JSON);function ut(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function BD(t,n){let e="";for(let o=0;o<t;++o)e+=n(o);return e}function It(t,n){let e="";if(null!=t)if(Array.isArray(t))for(let o=0;o<t.length;++o)e+=n(t[o],o);else"object"==typeof t&&Object.keys(t).forEach((o,s)=>{e+=n(t[o],o,s)});return e}const Bn='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',zJ=`${Bn}\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>`,UJ=t=>`${Bn}\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  ${It(t,(n,e)=>`\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>${n.col}</xdr:col>\n        <xdr:colOff>${n.colOffset}</xdr:colOff>\n        <xdr:row>${n.row}</xdr:row>\n        <xdr:rowOff>${n.rowOffset}</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="${n.width}" cy="${n.height}" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="${e+1}" name="Picture ${e+1}"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="${n.imageId}"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>`)}\n</xdr:wsDr>`,QJ=t=>`${Bn}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${It(t,n=>`\n    <Relationship Id="${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="${n.target}"/>`)}\n</Relationships>`;function oy(t){const n=Math.floor(t/26)-1;return(n>=0?oy(n):"")+String.fromCharCode(65+t%26)}function lc(t,n){return oy(n)+(t+1)}function Jf(t,n){return"$"+oy(n)+"$"+(t+1)}function jf(t){return(t.frozenRows||(t.freezePane||{}).rowSplit||1)-1}function sy(t){return t/7-Math.floor(128/7)/256}class ij{constructor(n,e,o,s){this.options=n,this._strings=e,this._styles=o,this._borders=s,this._validations={},this._comments=[],this._drawings=n.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((r,a)=>Object.assign({},r,{rId:`link${a}`}))}relsToXML(){const n=this._hyperlinks,e=this._comments,o=this._drawings;if(n.length||e.length||o.length)return(({hyperlinks:t,comments:n,sheetIndex:e,drawings:o})=>`${Bn}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${It(t,s=>`\n    <Relationship Id="${s.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${ut(s.target)}" TargetMode="External" />`)}\n  ${n.length?`\n    <Relationship Id="comment${e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments${e}.xml"/>\n    <Relationship Id="vml${e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing${e}.vml"/>`:""}\n  ${o.length?`\n    <Relationship Id="drw${e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing${e}.xml"/>`:""}\n</Relationships>`)({hyperlinks:n,comments:e,sheetIndex:this.options.sheetIndex,drawings:o})}toXML(n){const e=this.options.mergedCells||[],s=function(t,n){const e=[],o=[];!function(t,n){for(let e=0;e<t.length;e++){const o=t[e];if(!o)continue;let s=o.index;"number"!=typeof s&&(s=e),n(o,s)}}(t,function(a,l){const d={_source:a,index:l,height:a.height,level:a.level,cells:[]};e.push(d),o[l]=d});const s=RD(e).slice(0),r={rowData:e,rowsByIndex:o,mergedCells:n};for(let a=0;a<s.length;a++)pj(s[a],r),delete s[a]._source;return RD(e)}(this.options.rows||[],e);this._readCells(s);let a,r=this.options.filter;r&&"number"==typeof r.from&&"number"==typeof r.to?r={from:lc(jf(this.options),r.from),to:lc(jf(this.options),r.to)}:r&&r.ref&&r.columns&&(a=r,r=null);const l=[];for(let y in this._validations)Object.prototype.hasOwnProperty.call(this._validations,y)&&l.push(this._validations[y]);let d=null;this.options.defaultCellStyle&&(d=this._lookupStyle(this.options.defaultCellStyle));const c=this.options.freezePane||{},p=this.options.defaults||{},m=this.options.rows?this._getLastRow():1,f=this.options.rows?this._getLastCol():1;return(({frozenColumns:t,frozenRows:n,columns:e,defaults:o,data:s,index:r,mergeCells:a,autoFilter:l,filter:d,showGridLines:c,hyperlinks:p,validations:m,defaultCellStyleId:f,rtl:y,legacyDrawing:S,drawing:D,lastRow:P,lastCol:E})=>`${Bn}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   ${P&&E?`<dimension ref="A1:${lc(P-1,E-1)}" />`:""}\n\n   <sheetViews>\n     <sheetView ${y?'rightToLeft="1"':""} ${0===r?'tabSelected="1"':""} workbookViewId="0" ${!1===c?'showGridLines="0"':""}>\n     ${n||t?`\n       <pane state="frozen"\n         ${t?`xSplit="${t}"`:""}\n         ${n?`ySplit="${n}"`:""}\n         topLeftCell="${String.fromCharCode(65+(t||0))+((n||0)+1)}"\n       />`:""}\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" ${o.skipCustomHeight?"":'customHeight="1"'} defaultRowHeight="${o.rowHeight?.75*o.rowHeight:15}"\n     ${o.columnWidth?`defaultColWidth="${sy(o.columnWidth)}"`:""} />\n\n   ${null!=f||e&&e.length>0?`\n     <cols>\n       ${e&&e.length?"":`\n         <col min="1" max="16384" style="${f}"\n              ${o.columnWidth?`width="${sy(o.columnWidth)}"`:""} /> `}\n       ${It(e,(M,H)=>{const F="number"==typeof M.index?M.index+1:H+1;return 0===M.width?`<col ${null!=f?`style="${f}"`:""}\n                        min="${F}" max="${F}" hidden="1" customWidth="1" />`:`<col ${null!=f?`style="${f}"`:""}\n                      min="${F}" max="${F}" customWidth="1"\n                      ${M.autoWidth?`width="${(7*M.width+5)/7*256/256}" bestFit="1"`:`width="${sy(M.width)}"`} />`})}\n     </cols>`:""}\n\n   <sheetData>\n     ${It(s,(M,H)=>`\n         <row r="${"number"==typeof M.index?M.index+1:H+1}" x14ac:dyDescent="0.25"\n              ${M.level?`outlineLevel="${M.level}"`:""}\n              ${0===M.height?'hidden="1"':M.height?`ht="${function(t){return.75*t}(M.height)}" customHeight="1"`:""}>\n           ${It(M.data,O=>`\n             <c r="${O.ref}" ${O.style?`s="${O.style}"`:""} ${O.type?`t="${O.type}"`:""}>\n               ${null!=O.formula?function(t){return"string"==typeof t?`<f>${ut(t)}</f>`:`<f t="array" ref="${t.ref}">${ut(t.src)}</f>`}(O.formula):""}\n               ${null!=O.value?`<v>${ut(O.value)}</v>`:""}\n             </c>`)}\n         </row>\n       `)}\n   </sheetData>\n\n   ${l?`<autoFilter ref="${l.from}:${l.to}"/>`:d?xa(d):""}\n\n   ${a.length?`\n     <mergeCells count="${a.length}">\n       ${It(a,M=>`<mergeCell ref="${M}"/>`)}\n     </mergeCells>`:""}\n\n   ${m.length?`\n     <dataValidations>\n       ${It(m,M=>`\n         <dataValidation sqref="${M.sqref.join(" ")}"\n                         showErrorMessage="${M.showErrorMessage}"\n                         type="${ut(M.type)}"\n                         ${"list"!==M.type?`operator="${ut(M.operator)}"`:""}\n                         allowBlank="${M.allowBlank}"\n                         showDropDown="${M.showDropDown}"\n                         ${M.error?`error="${ut(M.error)}"`:""}\n                         ${M.errorTitle?`errorTitle="${ut(M.errorTitle)}"`:""}>\n           ${M.formula1?`<formula1>${ut(M.formula1)}</formula1>`:""}\n           ${M.formula2?`<formula2>${ut(M.formula2)}</formula2>`:""}\n         </dataValidation>`)}\n     </dataValidations>`:""}\n\n   ${p.length?`\n     <hyperlinks>\n       ${It(p,M=>`\n         <hyperlink ref="${M.ref}" r:id="${M.rId}"/>`)}\n     </hyperlinks>`:""}\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   ${D?`<drawing r:id="${D}"/>`:""}\n   ${S?`<legacyDrawing r:id="${S}"/>`:""}\n</worksheet>`)({frozenColumns:this.options.frozenColumns||c.colSplit,frozenRows:this.options.frozenRows||c.rowSplit,columns:this.options.columns,defaults:p,data:s,index:n,mergeCells:e,autoFilter:r,filter:a,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:l,defaultCellStyleId:d,rtl:void 0!==this.options.rtl?this.options.rtl:p.rtl,legacyDrawing:this._comments.length?`vml${this.options.sheetIndex}`:null,drawing:this._drawings.length?`drw${this.options.sheetIndex}`:null,lastRow:m,lastCol:f})}commentsXML(){if(this._comments.length)return(({comments:t})=>`${Bn}\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    ${It(t,n=>`\n      <comment ref="${n.ref}" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>${ut(n.text)}</t>\n          </r>\n        </text>\n      </comment>`)}\n  </commentList>\n</comments>`)({comments:this._comments})}drawingsXML(n){if(this._drawings.length){let e={},o=this._drawings.map(s=>{let r=tu(s.topLeftCell),a=e[s.image];return a||(a=e[s.image]={rId:`img${s.image}`,target:n[s.image].target}),{col:r.col,colOffset:Zf(s.offsetX),row:r.row,rowOffset:Zf(s.offsetY),width:Zf(s.width),height:Zf(s.height),imageId:a.rId}});return{main:UJ(o),rels:QJ(e)}}}legacyDrawing(){if(this._comments.length)return(({comments:t})=>`<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype coordsize="21600,21600" id="_x0000_t202" path="m,l,21600r21600,l21600,xe">\n    <v:stroke joinstyle="miter"/>\n    <v:path gradientshapeok="t" o:connecttype="rect"/>\n  </v:shapetype>\n  ${It(t,n=>`\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>${n.anchor}</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>${n.row}</x:Row>\n        <x:Column>${n.col}</x:Column>\n      </x:ClientData>\n    </v:shape>`)}\n</xml>`)({comments:this._comments})}_lookupString(n){const e="$"+n,o=this._strings.indexes[e];let s;return void 0!==o?s=o:(s=this._strings.indexes[e]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,s}_lookupStyle(n){const e=JSON.stringify(n);if("{}"===e)return 0;let o=eu(e,this._styles);return o<0&&(o=this._styles.push(e)-1),o+1}_lookupBorder(n){const e=JSON.stringify(n);if("{}"===e)return;let o=eu(e,this._borders);return o<0&&(o=this._borders.push(e)-1),o+1}_readCells(n){for(let e=0;e<n.length;e++){const o=n[e],s=o.cells;o.data=[];for(let r=0;r<s.length;r++){const a=this._cell(s[r],o.index,r);a&&o.data.push(a)}}}_cell(n,e,o){if(!n||n===OD)return null;let s=n.value,r={};n.borderLeft&&(r.left=n.borderLeft),n.borderRight&&(r.right=n.borderRight),n.borderTop&&(r.top=n.borderTop),n.borderBottom&&(r.bottom=n.borderBottom),r=this._lookupBorder(r);const a=this.options.defaultCellStyle||{};let l={borderId:r};var f;(f=function(f,y){let S=n[f];if(void 0===S&&(S=a[f]),void 0!==S)return l[y||f]=S,!0})("color"),f("background"),f("bold"),f("italic"),f("underline"),f("fontFamily")||f("fontName","fontFamily"),f("fontSize"),f("format"),f("textAlign")||f("hAlign","textAlign"),f("verticalAlign")||f("vAlign","verticalAlign"),f("wrap"),f("indent");const c=(this.options.columns||[])[o];let p=typeof s;if(c&&c.autoWidth&&(!n.colSpan||1===n.colSpan)){let f=s;"number"===p&&(f=iD.toString(s,n.format)),c.width=Math.max(c.width||0,String(f).length)}"string"===p?(s=function(t){return String(t).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(s),s=this._lookupString(s),p="s"):"number"===p?p="n":"boolean"===p?(p="b",s=Number(s)):s&&s.getTime?(p=null,s=function(t){const n=function(t,n,e,o){return(t+(n+(e+o/1e3)/60)/60)/24}(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e=function(t,n,e){return xD(t,n,e)-FJ}(t.getFullYear(),t.getMonth(),t.getDate());return e<0?e-1+n:e+n}(s),l.format||(l.format="mm-dd-yy")):(p=null,s=null),l=this._lookupStyle(l);const m=lc(e,o);return n.validation&&this._addValidation(n.validation,m),n.comment&&this._comments.push({ref:m,text:n.comment,row:e,col:o,anchor:[o+1,15,e,10,o+3,15,e+3,4].join(", ")}),{value:s,formula:n.formula,type:p,style:l,ref:m}}_addValidation(n,e){const o={showErrorMessage:"reject"===n.type?1:0,formula1:n.from,formula2:n.to,type:oj[n.dataType]||n.dataType,operator:nj[n.comparerType]||n.comparerType,allowBlank:n.allowNulls?1:0,showDropDown:n.showButton?0:1,error:n.messageTemplate,errorTitle:n.titleTemplate},s=JSON.stringify(o);this._validations[s]||(this._validations[s]=o,o.sqref=[]),this._validations[s].sqref.push(e)}_getLastRow(){return FD(this.options.rows)}_getLastCol(){let n=0;return this.options.rows.forEach(function(e){e.cells&&(n=Math.max(n,FD(e.cells)))}),n}}function FD(t){let n=t.length;return t.forEach(function(e){e.index&&e.index>=n&&(n=e.index+1)}),n}const nj={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},oj={number:"decimal"},ry={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function ay(t){let n=t;return n.length<6&&(n=n.replace(/(\w)/g,function(e,o){return o+o})),n=n.substring(1).toUpperCase(),n.length<8&&(n="FF"+n),n}class sj{constructor(n){this.options=n||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=Ho(this.options.sheets||[],(e,o)=>(e.defaults=this.options,e.sheetIndex=o+1,new ij(e,this._strings,this._styles,this._borders)))}imageFilename(n){const e=++this._imgId;switch(n){case"image/jpg":case"image/jpeg":return`image${e}.jpg`;case"image/png":return`image${e}.png`;case"image/gif":return`image${e}.gif`;default:return`image${e}.bin`}}toZIP(){const n=new $f,e=n.folder("docProps");e.file("core.xml",(({creator:t,lastModifiedBy:n,created:e,modified:o})=>`${Bn}\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>${ut(t)}</dc:creator>\n   <cp:lastModifiedBy>${ut(n)}</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">${ut(e)}</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">${ut(o)}</dcterms:modified>\n</cp:coreProperties>`)({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));const o=this._sheets.length;e.file("app.xml",(({sheets:t})=>`${Bn}\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>${t.length}</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="${t.length}" baseType="lpstr">${It(t,(n,e)=>n.options.title?`<vt:lpstr>${ut(n.options.title)}</vt:lpstr>`:`<vt:lpstr>Sheet${e+1}</vt:lpstr>`)}</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>`)({sheets:this._sheets})),n.folder("_rels").file(".rels",zJ);const r=n.folder("xl");if(r.folder("_rels").file("workbook.xml.rels",(({count:t})=>`${Bn}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${BD(t,n=>`\n    <Relationship Id="rId${n+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${n+1}.xml" />`)}\n  <Relationship Id="rId${t+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId${t+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>`)({count:o})),this._images){const O=r.folder("media");Object.keys(this._images).forEach(V=>{const z=this._images[V],j=this.imageFilename(z.type);O.file(j,z.data),z.target=`../media/${j}`})}const l={};r.file("workbook.xml",(({sheets:t,filterNames:n,userNames:e})=>`${Bn}\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  ${It(t,({options:o},s)=>`<sheet name="${ut(o.name||o.title||`Sheet${s+1}`)}" sheetId="${s+1}" r:id="rId${s+1}" />`)}\n  </sheets>\n  ${n.length||e.length?`\n    <definedNames>\n      ${It(n,o=>`\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${o.localSheetId}">${ut(function(t){return/^\'/.test(t)||/^[a-z_][a-z0-9_]*$/i.test(t)?t:"'"+t.replace(/\x27/g,"\\'")+"'"}(o.name))}!${ut(o.from)}:${ut(o.to)}</definedName>`)}\n      ${It(e,o=>`\n         <definedName name="${o.name}" hidden="${o.hidden?1:0}" ${null!=o.localSheetId?`localSheetId="${o.localSheetId}"`:""}>${ut(o.value)}</definedName>`)}\n    </definedNames>`:""}\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>`)({sheets:this._sheets,filterNames:Ho(this._sheets,function(O,V){const z=O.options,j=z.name||z.title||"Sheet"+(V+1);l[j.toLowerCase()]=V;const K=z.filter;if(K){if(K.ref){let J=K.ref.split(":"),A=tu(J[0]),Z=tu(J[1]);return{localSheetId:V,name:j,from:Jf(A.row,A.col),to:Jf(Z.row,Z.col)}}if(void 0!==K.from&&void 0!==K.to)return{localSheetId:V,name:j,from:Jf(jf(z),K.from),to:Jf(jf(z),K.to)}}}),userNames:Ho(this.options.names||[],function(O){return{name:O.localName,localSheetId:O.sheet?l[O.sheet.toLowerCase()]:null,value:O.value,hidden:O.hidden}})}));const d=r.folder("worksheets"),c=r.folder("drawings"),p=c.folder("_rels"),m=d.folder("_rels"),f=[],y=[];for(let O=0;O<o;O++){const V=this._sheets[O],z=`sheet${O+1}.xml`,j=V.toXML(O),K=V.relsToXML(),J=V.commentsXML(),A=V.legacyDrawing(),Z=V.drawingsXML(this._images);if(K&&m.file(z+".rels",K),J){let G=`comments${V.options.sheetIndex}.xml`;r.file(G,J),f.push(G)}if(A&&c.file(`vmlDrawing${V.options.sheetIndex}.vml`,A),Z){let G=`drawing${V.options.sheetIndex}.xml`;c.file(G,Z.main),p.file(`${G}.rels`,Z.rels),y.push(G)}d.file(z,j)}const S=Ho(this._borders,ED),D=Ho(this._styles,ED),P=function(O){return O.underline||O.bold||O.italic||O.color||O.fontFamily||O.fontSize},M=Ho(D,function(O){if(O.fontSize&&(O.fontSize=function(O){let z,V=Number(O);return V&&(z=3*V/4),z}(O.fontSize)),O.color&&(O.color=ay(O.color)),P(O))return O}),H=Ho(D,function(O){if(O.format&&void 0===ry[O.format])return O}),F=Ho(D,function(O){if(O.background)return O.background=ay(O.background),O});return r.file("styles.xml",(({formats:t,fonts:n,fills:e,borders:o,styles:s})=>`${Bn}\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="${t.length}">\n  ${It(t,(r,a)=>`\n    <numFmt formatCode="${ut(r.format)}" numFmtId="${165+a}" />`)}\n  </numFmts>\n  <fonts count="${n.length+1}" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    ${It(n,r=>`\n    <font>\n      ${r.bold?"<b/>":""}\n      ${r.italic?"<i/>":""}\n      ${r.underline?"<u/>":""}\n      <sz val="${r.fontSize||11}" />\n      ${r.color?`<color rgb="${ut(r.color)}" />`:'<color theme="1" />'}\n      ${r.fontFamily?`\n        <name val="${ut(r.fontFamily)}" />\n        <family val="2" />\n      `:'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      '}\n    </font>`)}\n  </fonts>\n  <fills count="${e.length+2}">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    ${It(e,r=>"\n      "+(r.background?`\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="${ut(r.background)}"/>\n          </patternFill>\n        </fill>\n      `:""))}\n  </fills>\n  <borders count="${o.length+1}">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ${It(o,aj)}\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="${s.length+1}">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    ${It(s,r=>`\n      <xf xfId="0"\n          ${r.fontId?`fontId="${r.fontId}" applyFont="1"`:""}\n          ${r.fillId?`fillId="${r.fillId}" applyFill="1"`:""}\n          ${r.numFmtId?`numFmtId="${r.numFmtId}" applyNumberFormat="1"`:""}\n          ${r.textAlign||r.verticalAlign||r.wrap?'applyAlignment="1"':""}\n          ${r.borderId?`borderId="${r.borderId}" applyBorder="1"`:""}>\n        ${r.textAlign||r.verticalAlign||r.wrap?`\n        <alignment\n          ${r.textAlign?`horizontal="${ut(r.textAlign)}"`:""}\n          ${r.verticalAlign?`vertical="${ut(r.verticalAlign)}"`:""}\n          ${r.indent?`indent="${ut(r.indent)}"`:""}\n          ${r.wrap?'wrapText="1"':""} />\n        `:""}\n      </xf>\n    `)}\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>`)({fonts:M,fills:F,formats:H,borders:S,styles:Ho(D,function(O){const V={};return P(O)&&(V.fontId=eu(O,M)+1),O.background&&(V.fillId=eu(O,F)+2),V.textAlign=O.textAlign,V.indent=O.indent,V.verticalAlign=O.verticalAlign,V.wrap=O.wrap,V.borderId=O.borderId,O.format&&(V.numFmtId=void 0!==ry[O.format]?ry[O.format]:165+eu(O,H)),V})})),r.file("sharedStrings.xml",(({count:t,uniqueCount:n,indexes:e})=>`${Bn}\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${t}" uniqueCount="${n}">\n  ${It(Object.keys(e),o=>`\n    <si><t xml:space="preserve">${ut(o.substring(1))}</t></si>`)}\n</sst>`)(this._strings)),n.file("[Content_Types].xml",(({sheetCount:t,commentFiles:n,drawingFiles:e})=>`${Bn}\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  ${BD(t,o=>`<Override PartName="/xl/worksheets/sheet${o+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />`)}\n  ${It(n,o=>`<Override PartName="/xl/${o}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>`)}\n  ${It(e,o=>`<Override PartName="/xl/drawings/${o}" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>`)}\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>`)({sheetCount:o,commentFiles:f,drawingFiles:y})),n}toDataURL(){const n=this.toZIP();return n.generateAsync?n.generateAsync(DD).then(MD):MD(n.generate(DD))}toBlob(){const n=this.toZIP();return n.generateAsync?n.generateAsync(LJ):new Blob([n.generate(PJ)],{type:TD})}}function qf(t,n){let e="";return n&&(e+="<"+t+' style="'+function(t){let n="thin";return 2===t?n="medium":3===t&&(n="thick"),n}(n.size)+'">',n.color&&(e+='<color rgb="'+ay(n.color)+'"/>'),e+="</"+t+">"),e}function aj(t){return"<border>"+qf("left",t.left)+qf("right",t.right)+qf("top",t.top)+qf("bottom",t.bottom)+"</border>"}const OD={};function RD(t){return t.sort(function(n,e){return n.index-e.index})}function dj(t,n){t.indexOf(n)<0&&t.push(n)}function uj(t,n){for(let e=0;e<t.length;++e){const s=t[e].split(":");let r=s[0];if(r===n){let a=s[1];return r=tu(r),a=tu(a),{rowSpan:a.row-r.row+1,colSpan:a.col-r.col+1}}}}function tu(t){const o=/^([a-z]+)(\d+)$/i.exec(t);return{row:(s=o[2],parseInt(s,10)-1),col:function(s){let r=s.toUpperCase(),a=0;for(let l=0;l<r.length;++l)a=26*a+r.charCodeAt(l)-64;return a-1}(o[1])};var s}function Zf(t){return Math.round(9525*t)}function pj(t,n){const o=t.index,s=t._source.cells,r=t.cells;if(s)for(let a=0;a<s.length;a++){const l=s[a]||OD;let d=l.rowSpan||1,c=l.colSpan||1;const p=hj(r,l),m=lc(o,p);if(1===d&&1===c){const f=uj(n.mergedCells,m);f&&(c=f.colSpan,d=f.rowSpan)}if(ND(l,r,p,c),(d>1||c>1)&&dj(n.mergedCells,m+":"+lc(o+d-1,p+c-1)),d>1)for(let f=o+1;f<o+d;f++){let y=n.rowsByIndex[f];y||(y=n.rowsByIndex[f]={index:f,cells:[]},n.rowData.push(y)),ND(l,y.cells,p-1,c+1)}}}function hj(t,n){let e;return"number"==typeof n.index?(e=n.index,AD(t,n,n.index)):e=function(t,n){let e=t.length;for(let o=0;o<t.length+1;o++)if(!t[o]){t[o]=n,e=o;break}return e}(t,n),e}function AD(t,n,e){t[e]=n}function ND(t,n,e,o){for(let s=1;s<o;s++)AD(n,{borderTop:t.borderTop,borderRight:t.borderRight,borderBottom:t.borderBottom,borderLeft:t.borderLeft},e+s)}const mj=({logic:t,criteria:n})=>`\n<customFilters ${"and"===t?'and="1"':""}>\n${It(n,e=>{let o=xa.customOperator(e);return`<customFilter ${o?`operator="${o}"`:""} val="${xa.customValue(e)}"/>`})}\n</customFilters>`,vj=({type:t})=>`<dynamicFilter type="${xa.dynamicFilterType(t)}" />`,_j=({type:t,value:n})=>`<top10 percent="${/percent$/i.test(t)?1:0}"\n       top="${/^top/i.test(t)?1:0}"\n       val="${n}" />`,yj=({blanks:t,values:n})=>`<filters ${t?'blank="1"':""}>\n    ${It(n,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function xa(t){return(({ref:t,columns:n,generators:e})=>`\n<autoFilter ref="${t}">\n  ${It(n,o=>`\n    <filterColumn colId="${o.index}">\n      ${e[o.filter](o)}\n    </filterColumn>\n  `)}\n</autoFilter>`)({ref:t.ref,columns:t.columns,generators:{custom:mj,dynamic:vj,top:_j,value:yj}})}xa.customOperator=function(t){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[t.operator.toLowerCase()]},xa.customValue=function(t){function n(e){return e.replace(/([*?])/g,"~$1")}switch(t.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return n(t.value)+"*";case"endswith":case"doesnotendwith":return"*"+n(t.value);case"contains":case"doesnotcontain":return"*"+n(t.value)+"*";default:return t.value}},xa.dynamicFilterType=function(t){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[t.toLowerCase()]||t};var Cj=ke(2382);const Uf=(t,n,e)=>{let o=t.createEmbeddedView(n);const s=r=>(e(n,r),o.detectChanges(),o.rootNodes.reduce((a,l)=>a+l.textContent,"").trim());return s.destroy=()=>{o.destroy(),o=null},s},LD=(t,n)=>{t.$implicit=t.group=n,t.field=n.field,t.value=n.value,t.aggregates=n.aggregates},wj=(t,n)=>{t.group=n.group,t.$implicit=t.aggregates=n},Sj=(t,n)=>{t.aggregates=n.aggregates},PD=t=>{t&&t.forEach(n=>{n.destroy()})};class kj{constructor(n,e){this.title=n.title,this.field=n.field,this.hidden=n.hidden,this.locked=n.locked,this.width=n.width,this.headerCellOptions=n.headerCellOptions,this.cellOptions=n.cellOptions,this.groupHeaderCellOptions=n.groupHeaderCellOptions,this.groupFooterCellOptions=n.groupFooterCellOptions,this.footerCellOptions=n.footerCellOptions,n.footerTemplate&&(this.footerTemplate=Uf(n.footerTemplate.templateRef,{$implicit:n,column:n,columnIndex:e},Sj)),n.groupFooterTemplate&&(this.groupFooterTemplate=Uf(n.groupFooterTemplate.templateRef,{column:n,field:n.field},wj)),n.groupHeaderTemplate&&(this.groupHeaderTemplate=Uf(n.groupHeaderTemplate.templateRef,{},LD)),n.groupHeaderColumnTemplate&&(this.groupHeaderColumnTemplate=Uf(n.groupHeaderColumnTemplate.templateRef,{},LD))}destroy(){this.footerTemplate&&this.footerTemplate.destroy(),this.groupFooterTemplate&&this.groupFooterTemplate.destroy(),this.groupHeaderTemplate&&this.groupHeaderTemplate.destroy(),this.groupHeaderColumnTemplate&&this.groupHeaderColumnTemplate.destroy(),PD(this.columns)}}iD.register({toString:Cj.BB});const zD=t=>{const n=(t=>{const n=[];let e=0;const o=(s,r,a)=>{s.forEach(l=>{if(l.level===a){const d=new kj(l,e);if(r.push(d),l.children&&l.children.some(c=>c!==l)){const c=d.columns=[];o(l.children,c,a+1)}else e++}})};return o(t,n,0),n})(t.columns),o=new class{constructor(n){n.columns=this._trimColumns(n.columns||[]),this.allColumns=Ho(this._leafColumns(n.columns||[]),this._prepareColumn),this.columns=this._visibleColumns(this.allColumns),this.options=n,this.data=n.data||[],this.aggregates=n.aggregates||{},this.groups=[].concat(n.groups||[]),this.hasGroups=this.groups.length>0,this.hierarchy=n.hierarchy,this.hasGroupHeaderColumn=this.columns.some(e=>e.groupHeaderColumnTemplate),this.collapsible=this.options.collapsible}workbook(){return{sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]}}_trimColumns(n){return n.filter(e=>{let o=Boolean(e.field);return!o&&e.columns&&(o=this._trimColumns(e.columns).length>0),o})}_leafColumns(n){let e=[];for(let o=0;o<n.length;o++)n[o].columns?e=e.concat(this._leafColumns(n[o].columns)):e.push(n[o]);return e}_prepareColumn(n){if(!n.field)return null;let e=function(s){return sD(n.field)(s)},o=null;return n.values&&(o={},n.values.forEach(function(s){o[s.value]=s.text}),e=function(s){return o[sD(n.field)(s)]}),Object.assign({},n,{value:e,values:o,groupHeaderTemplate:n.groupHeaderTemplate?Pf.compile(n.groupHeaderTemplate):G$,groupHeaderColumnTemplate:n.groupHeaderColumnTemplate?Pf.compile(n.groupHeaderColumnTemplate):null,groupFooterTemplate:n.groupFooterTemplate?Pf.compile(n.groupFooterTemplate):null,footerTemplate:n.footerTemplate?Pf.compile(n.footerTemplate):null})}_filter(){if(!this.options.filterable)return null;const n=this._depth();return{from:n,to:n+this.columns.length-1}}_createPaddingCells(n){return j0(n,()=>Object.assign({background:"#dfdfdf",color:"#333"},this.options.paddingCellOptions))}_dataRow(n,e,o){let s=this._createPaddingCells(e);if(this.hasGroups&&o&&n.items){s=s.concat(this._groupHeaderCells(n,e,o));const a=this._dataRows(n.items,e+1);return a.unshift({type:"group-header",cells:s,level:this.collapsible?e:null}),a.concat(this._footer(n,e))}const r=[];for(let a=0;a<this.columns.length;a++)r[a]=this._cell(n,this.columns[a]);return this.hierarchy&&(r[0].colSpan=o-e+1),[{type:"data",cells:s.concat(r),level:this.collapsible?e:null}]}_groupHeaderCells(n,e,o){const s=[],r=this.allColumns.filter(function(p){return p.field===n.field})[0]||{},a=r&&r.title?r.title:n.field,l=r?r.groupHeaderTemplate||r.groupHeaderColumnTemplate:null,d=Object.assign({title:a,field:n.field,value:r&&r.values?r.values[n.value]:n.value,aggregates:n.aggregates,items:n.items},n.aggregates[n.field]),c=l?l(d):`${a}: ${n.value}`;return s.push(Object.assign({value:c,background:"#dfdfdf",color:"#333",colSpan:(this.hasGroupHeaderColumn?1:this.columns.length)+o-e},r.groupHeaderCellOptions)),this.hasGroupHeaderColumn&&this.columns.forEach(function(p,m){m>0&&s.push(Object.assign({background:"#dfdfdf",color:"#333",value:p.groupHeaderColumnTemplate?p.groupHeaderColumnTemplate(Object.assign({group:d},d,n.aggregates[p.field])):void 0},p.groupHeaderCellOptions))}),s}_dataRows(n,e){const o=this._depth(),s=[];for(let r=0;r<n.length;r++)s.push.apply(s,this._dataRow(n[r],e,o));return s}_hierarchyRows(){const n=this._depth(),e=this.data,o=this.hierarchy.itemLevel,s=this.hierarchy.itemId||V$,r=this._hasFooterTemplate(),a=[],l=[];let c,d=0;r||(this.collapsible=!1);for(let p=0;p<e.length;p++){const m=e[p],f=o(m,p);r&&(f>d?l.push({id:c,level:d}):f<d&&a.push.apply(a,this._hierarchyFooterRows(l,f,n)),d=f,c=s(m,p)),a.push.apply(a,this._dataRow(m,f+1,n))}return r&&(a.push.apply(a,this._hierarchyFooterRows(l,0,n)),a.push(this._hierarchyFooter(e.length?this.aggregates[e[0].parentId]:{},0,n))),this._prependHeaderRows(a),a}_hierarchyFooterRows(n,e,o){const s=[];for(;n.length&&n[n.length-1].level>=e;){const r=n.pop();s.push(this._hierarchyFooter(this.aggregates[r.id],r.level+1,o))}return s}_hasFooterTemplate(){const n=this.columns;for(let e=0;e<n.length;e++)if(n[e].footerTemplate)return!0}_hierarchyFooter(n,e,o){const s=this.columns.map(function(r,a){const l=a?1:o-e+1;return Object.assign(r.footerTemplate?{background:"#dfdfdf",color:"#333",colSpan:l,value:r.footerTemplate(Object.assign({aggregates:n},(n||{})[r.field]))}:{background:"#dfdfdf",color:"#333",colSpan:l},r.footerCellOptions)});return{type:"footer",cells:this._createPaddingCells(e).concat(s),level:this.collapsible?e:null}}_footer(n,e){const o=[],s=this.columns.some(d=>d.groupFooterTemplate);let r,a;s&&(a={group:{items:n.items,field:n.field,value:n.value}},r={},Object.keys(n.aggregates).forEach(d=>{r[d]=Object.assign({},n.aggregates[d],a)}));const l=this.columns.map(d=>{if(d.groupFooterTemplate){let c=Object.assign({},r,n.aggregates[d.field],a);return Object.assign({background:"#dfdfdf",color:"#333",value:d.groupFooterTemplate(c)},d.groupFooterCellOptions)}return Object.assign({background:"#dfdfdf",color:"#333"},d.groupFooterCellOptions)});return s&&o.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(l),level:this.collapsible?e:null}),o}_isColumnVisible(n){return this._visibleColumns([n]).length>0&&(n.field||n.columns)}_visibleColumns(n){return n.filter(e=>{let o=e.exportable;"object"==typeof o&&(o=e.exportable.excel);let a=!e.hidden&&!1!==o||e.hidden&&!0===o;return a&&e.columns&&(a=this._visibleColumns(e.columns).length>0),a})}_headerRow(n,e){const o=n.cells.map(function(s){return Object.assign(s,{colSpan:s.colSpan>1?s.colSpan:1,rowSpan:n.rowSpan>1&&!s.colSpan?n.rowSpan:1})});return this.hierarchy&&o[0].firstCell&&(o[0].colSpan+=this._depth()),{type:"header",cells:j0(e.length,()=>Object.assign({background:"#7a7a7a",color:"#fff"},this.options.headerPaddingCellOptions)).concat(o)}}_prependHeaderRows(n){const e=this.groups,o=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(o,this.options.columns);for(let s=o.length-1;s>=0;s--)n.unshift(this._headerRow(o[s],e))}_prepareHeaderRows(n,e,o,s){const r=s||n[n.length-1];let a=n[r.index+1],l=0;for(let d=0;d<e.length;d++){const c=e[d];if(this._isColumnVisible(c)){const p=Object.assign({background:"#7a7a7a",color:"#fff",value:c.title||c.field,colSpan:0,firstCell:0===d&&(!o||o.firstCell)},c.headerCellOptions);r.cells.push(p),c.columns&&c.columns.length&&(a||(a={rowSpan:0,cells:[],index:n.length},n.push(a)),p.colSpan=this._trimColumns(this._visibleColumns(c.columns)).length,this._prepareHeaderRows(n,c.columns,p,a),l+=p.colSpan-1,r.rowSpan=n.length-r.index)}}o&&(o.colSpan+=l)}_rows(){const n=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(n);let e=!1;const o=this.columns.map(s=>s.footerTemplate?(e=!0,Object.assign({background:"#dfdfdf",color:"#333",value:s.footerTemplate(Object.assign({},this.aggregates,this.aggregates[s.field]))},s.footerCellOptions)):Object.assign({background:"#dfdfdf",color:"#333"},s.footerCellOptions));e&&n.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(o)})}return n}_headerDepth(n){let o=0;for(let s=0;s<n.length;s++)if(n[s].columns){const r=this._headerDepth(n[s].columns);r>o&&(o=r)}return 1+o}_freezePane(){const n=this._visibleColumns(this.options.columns||[]),e=this._visibleColumns(this._trimColumns(this._leafColumns(n.filter(function(o){return o.locked})))).length;return{rowSplit:this._headerDepth(n),colSplit:e?e+this.groups.length:0}}_cell(n,e){return Object.assign({value:e.value(n)},e.cellOptions)}_depth(){let n=0;return n=this.hierarchy?this.hierarchy.depth:this.groups.length,n}_columns(){return j0(this._depth(),()=>({width:20})).concat(this.columns.map(function(o){return{width:parseInt(o.width,10),autoWidth:!o.width}}))}}({columns:n,data:t.data,filterable:t.filterable,groups:t.group,paddingCellOptions:t.paddingCellOptions,headerPaddingCellOptions:t.headerPaddingCellOptions,collapsible:t.collapsible,hierarchy:t.hierarchy,aggregates:t.aggregates}).workbook();return o.creator=t.creator,o.date=t.date,o.rtl=t.rtl,PD(n),o};class Vt{constructor(n){this.parent=n}get level(){return this.parent?this.parent.level+1:0}}Vt.\u0275fac=function(n){i.$Z()},Vt.\u0275dir=i.lG2({type:Vt,contentQueries:function(n,e,o){if(1&n&&i.Suo(o,Vt,4),2&n){let s;i.iGM(s=i.CRH())&&(e.children=s)}},inputs:{title:"title",width:"width",locked:"locked",hidden:"hidden",headerCellOptions:"headerCellOptions"}}),Qe([(0,i.IIB)(),Xe("design:type",String)],Vt.prototype,"title",void 0),Qe([(0,i.IIB)(),Xe("design:type",Number)],Vt.prototype,"width",void 0),Qe([(0,i.IIB)(),Xe("design:type",Boolean)],Vt.prototype,"locked",void 0),Qe([(0,i.IIB)(),Xe("design:type",Boolean)],Vt.prototype,"hidden",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],Vt.prototype,"headerCellOptions",void 0),Qe([(0,i.AcB)(Vt),Xe("design:type",i.n_E)],Vt.prototype,"children",void 0);const Tj={name:"@progress/kendo-angular-excel-export",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1646218926,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let gi=class{constructor(n,e){this.localization=n,this.zone=e,this.fileName="Export.xlsx",this.columns=new i.n_E,(0,lt.s)(Tj),this.saveFile=this.saveFile.bind(this)}save(n){this.toDataURL(n).then(this.saveFile)}workbookOptions(n){const e=this.getExportData(n);return zD({columns:this.columns,data:e.data,group:e.group,filterable:this.filterable,creator:this.creator,date:this.date,rtl:this.localization.rtl,paddingCellOptions:this.paddingCellOptions,headerPaddingCellOptions:this.headerPaddingCellOptions,collapsible:this.collapsible})}toDataURL(n){const e=(t=>t&&t.sheets)(n)?n:this.workbookOptions(n);return this.zone.runOutsideAngular(()=>(t=>new sj(t).toDataURL())(e))}getExportData(n){let e;return e=n?Array.isArray(n)?{data:n}:n:{data:this.data,group:this.group},e}saveFile(n){!function(t,n,e={}){let o=B$;if(e.forceProxy&&!e.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");e.forceProxy||(D$()&&(o=E$),navigator.msSaveBlob&&(o=M$)),o(t,n,e)}(n,this.fileName,{forceProxy:this.forceProxy,proxyURL:this.proxyURL})}};gi.\u0275fac=function(n){return new(n||gi)(i.Y36(I),i.Y36(i.R0b))},gi.\u0275cmp=i.Xpm({type:gi,selectors:[["kendo-excelexport"]],contentQueries:function(n,e,o){if(1&n&&i.Suo(o,Vt,5),2&n){let s;i.iGM(s=i.CRH())&&(e.columns=s)}},inputs:{fileName:"fileName",filterable:"filterable",collapsible:"collapsible",creator:"creator",date:"date",forceProxy:"forceProxy",proxyURL:"proxyURL",data:"data",group:"group",paddingCellOptions:"paddingCellOptions",headerPaddingCellOptions:"headerPaddingCellOptions"},exportAs:["kendoExcelExport"],features:[i._Bn([I,{provide:Fe,useValue:"kendo.excelexport"}])],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Qe([(0,i.IIB)(),Xe("design:type",String)],gi.prototype,"fileName",void 0),Qe([(0,i.IIB)(),Xe("design:type",Boolean)],gi.prototype,"filterable",void 0),Qe([(0,i.IIB)(),Xe("design:type",Boolean)],gi.prototype,"collapsible",void 0),Qe([(0,i.IIB)(),Xe("design:type",String)],gi.prototype,"creator",void 0),Qe([(0,i.IIB)(),Xe("design:type",Date)],gi.prototype,"date",void 0),Qe([(0,i.IIB)(),Xe("design:type",Boolean)],gi.prototype,"forceProxy",void 0),Qe([(0,i.IIB)(),Xe("design:type",String)],gi.prototype,"proxyURL",void 0),Qe([(0,i.IIB)(),Xe("design:type",Array)],gi.prototype,"data",void 0),Qe([(0,i.IIB)(),Xe("design:type",Array)],gi.prototype,"group",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],gi.prototype,"paddingCellOptions",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],gi.prototype,"headerPaddingCellOptions",void 0),Qe([(0,i.AcB)(Vt,{descendants:!0}),Xe("design:type",i.n_E)],gi.prototype,"columns",void 0),gi=Qe([Xe("design:paramtypes",[I,i.R0b])],gi);let Jo=class{constructor(n){this.templateRef=n}};Jo.\u0275fac=function(n){return new(n||Jo)(i.Y36(i.Rgc,8))},Jo.\u0275dir=i.lG2({type:Jo,selectors:[["","kendoExcelExportGroupHeaderTemplate",""]]}),Jo=Qe([Vo(0,(0,i.FiY)()),Xe("design:paramtypes",[i.Rgc])],Jo);let jo=class{constructor(n){this.templateRef=n}};jo.\u0275fac=function(n){return new(n||jo)(i.Y36(i.Rgc,8))},jo.\u0275dir=i.lG2({type:jo,selectors:[["","kendoExcelExportGroupHeaderColumnTemplate",""]]}),jo=Qe([Vo(0,(0,i.FiY)()),Xe("design:paramtypes",[i.Rgc])],jo);let qo=class{constructor(n){this.templateRef=n}};qo.\u0275fac=function(n){return new(n||qo)(i.Y36(i.Rgc,8))},qo.\u0275dir=i.lG2({type:qo,selectors:[["","kendoExcelExportGroupFooterTemplate",""]]}),qo=Qe([Vo(0,(0,i.FiY)()),Xe("design:paramtypes",[i.Rgc])],qo);let Zo=class{constructor(n){this.templateRef=n}};var ly;Zo.\u0275fac=function(n){return new(n||Zo)(i.Y36(i.Rgc,8))},Zo.\u0275dir=i.lG2({type:Zo,selectors:[["","kendoExcelExportFooterTemplate",""]]}),Zo=Qe([Vo(0,(0,i.FiY)()),Xe("design:paramtypes",[i.Rgc])],Zo);let Zi=ly=class extends Vt{constructor(n){super(n)}};var cy;Zi.\u0275fac=function(n){return new(n||Zi)(i.Y36(Vt,13))},Zi.\u0275cmp=i.Xpm({type:Zi,selectors:[["kendo-excelexport-column"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,Jo,5),i.Suo(o,jo,5),i.Suo(o,qo,5),i.Suo(o,Zo,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.groupHeaderTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupHeaderColumnTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupFooterTemplate=s.first),i.iGM(s=i.CRH())&&(e.footerTemplate=s.first)}},inputs:{field:"field",cellOptions:"cellOptions",groupHeaderCellOptions:"groupHeaderCellOptions",groupFooterCellOptions:"groupFooterCellOptions",footerCellOptions:"footerCellOptions"},features:[i._Bn([{provide:Vt,useExisting:(0,i.Gpc)(()=>ly)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Qe([(0,i.IIB)(),Xe("design:type",String)],Zi.prototype,"field",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],Zi.prototype,"cellOptions",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],Zi.prototype,"groupHeaderCellOptions",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],Zi.prototype,"groupFooterCellOptions",void 0),Qe([(0,i.IIB)(),Xe("design:type",Object)],Zi.prototype,"footerCellOptions",void 0),Qe([(0,i.aQ5)(Jo,{static:!1}),Xe("design:type",Jo)],Zi.prototype,"groupHeaderTemplate",void 0),Qe([(0,i.aQ5)(jo,{static:!1}),Xe("design:type",jo)],Zi.prototype,"groupHeaderColumnTemplate",void 0),Qe([(0,i.aQ5)(qo,{static:!1}),Xe("design:type",qo)],Zi.prototype,"groupFooterTemplate",void 0),Qe([(0,i.aQ5)(Zo,{static:!1}),Xe("design:type",Zo)],Zi.prototype,"footerTemplate",void 0),Zi=ly=Qe([Vo(0,(0,i.tp0)()),Vo(0,(0,i.AA_)()),Vo(0,(0,i.FiY)()),Xe("design:paramtypes",[Vt])],Zi);let Ta=cy=class extends Vt{constructor(n){super(n),this.parent=n}};Ta.\u0275fac=function(n){return new(n||Ta)(i.Y36(Vt,13))},Ta.\u0275cmp=i.Xpm({type:Ta,selectors:[["kendo-excelexport-column-group"]],features:[i._Bn([{provide:Vt,useExisting:(0,i.Gpc)(()=>cy)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Ta=cy=Qe([Vo(0,(0,i.tp0)()),Vo(0,(0,i.AA_)()),Vo(0,(0,i.FiY)()),Xe("design:paramtypes",[Vt])],Ta);let cc=class{};cc.\u0275fac=function(n){return new(n||cc)},cc.\u0275mod=i.oAB({type:cc}),cc.\u0275inj=i.cJS({});const nq=["kendoGridFilterRow",""];function oq(t,n){1&t&&i._UZ(0,"td",3),2&t&&i.ekj("k-group-cell",!0)}function sq(t,n){1&t&&i._UZ(0,"td",3),2&t&&i.ekj("k-hierarchy-cell",!0)}function rq(t,n){if(1&t&&i._UZ(0,"td",4),2&t){const e=n.$implicit,o=n.index,s=i.oxw();i.ekj("k-grid-header-sticky",e.sticky),i.Q6J("ngStyle",s.addStickyStyles(e))("ngClass",e.filterClass)("column",e)("filter",s.filter)("logicalRowIndex",s.logicalRowIndex)("logicalColIndex",s.lockedColumnsCount+o),i.uIk("aria-label",s.filterLabel(e))}}const aq=["kendoGridFilterCell",""];function lq(t,n){if(1&t&&(i.ynx(0),i.GkF(1,3),i.BQk()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("column",e.column)("filter",e.filter)}}function cq(t,n){}function dq(t,n){if(1&t&&i.YNc(0,cq,0,0,"ng-template",5),2&t){const e=i.oxw(3);i.Q6J("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function uq(t,n){if(1&t&&(i.ynx(0),i.YNc(1,dq,1,2,void 0,4),i.BQk()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.column.filterCellTemplateRef)}}function pq(t,n){if(1&t&&(i.ynx(0,1),i.YNc(1,lq,2,2,"ng-container",2),i.YNc(2,uq,2,1,"ng-container",2),i.BQk()),2&t){const e=i.oxw();i.Q6J("ngSwitch",e.hasTemplate),i.xp6(1),i.Q6J("ngSwitchCase",!1),i.xp6(1),i.Q6J("ngSwitchCase",!0)}}const dy=["*"],hq=["dropdown"],VD=function(){return{width:"auto"}};function fq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-dropdownlist",3,4),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().onChange(s)})("keydown",function(s){return i.CHM(e),i.oxw().dropdownKeydown(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("data",e.operators)("value",e.value)("valuePrimitive",!0)("popupSettings",i.DdM(4,VD))}}const gq=function(t){return{"k-clear-button-visible":t}};function wq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",4),i.NdJ("focusin",function(s){return i.CHM(e),i.oxw().onInnerFocusIn(s,"start")}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("tabindex",e.focusTrapTabIndex),i.uIk("aria-hidden",!0)}}function Sq(t,n){if(1&t&&i.GkF(0,5),2&t){const e=i.oxw();i.Q6J("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function Iq(t,n){1&t&&i._UZ(0,"kendo-pager-prev-buttons")}function kq(t,n){if(1&t&&i._UZ(0,"kendo-pager-numeric-buttons",8),2&t){const e=i.oxw(2);i.Q6J("buttonCount",e.settings.buttonCount)}}function xq(t,n){1&t&&i._UZ(0,"kendo-pager-input")}function Tq(t,n){1&t&&i._UZ(0,"kendo-pager-next-buttons")}function Dq(t,n){1&t&&i._UZ(0,"kendo-pager-info")}function Mq(t,n){if(1&t&&i._UZ(0,"kendo-pager-page-sizes",9,10),2&t){const e=i.oxw(2);i.Q6J("pageSizes",e.settings.pageSizes)}}function Eq(t,n){if(1&t&&(i.ynx(0),i.YNc(1,Iq,1,0,"kendo-pager-prev-buttons",2),i.YNc(2,kq,1,1,"kendo-pager-numeric-buttons",6),i.YNc(3,xq,1,0,"kendo-pager-input",2),i.YNc(4,Tq,1,0,"kendo-pager-next-buttons",2),i.YNc(5,Dq,1,0,"kendo-pager-info",2),i.YNc(6,Mq,2,1,"kendo-pager-page-sizes",7),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.settings.previousNext),i.xp6(1),i.Q6J("ngIf","numeric"===e.settings.type),i.xp6(1),i.Q6J("ngIf","input"===e.settings.type),i.xp6(1),i.Q6J("ngIf",e.settings.previousNext),i.xp6(1),i.Q6J("ngIf",e.settings.info),i.xp6(1),i.Q6J("ngIf",e.settings.pageSizes)}}function Bq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",4),i.NdJ("focusin",function(s){return i.CHM(e),i.oxw().onInnerFocusIn(s,"end")}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("tabindex",e.focusTrapTabIndex),i.uIk("aria-hidden",!0)}}function Fq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-resize-sensor",11),i.NdJ("resize",function(){return i.CHM(e),i.oxw().resizeHandler()}),i.qZA()}}const Oq=function(t){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":t,"k-pager-first":!0}},Rq=function(){return{"k-icon":!0,"k-i-seek-w":!0}},HD=function(t){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":t,"":!0}},Aq=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},Nq=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},Lq=function(t){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":t,"k-pager-last":!0}},Pq=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function zq(t,n){if(1&t&&(i.TgZ(0,"option",7),i._uU(1,"... "),i.qZA()),2&t){const e=i.oxw();i.uIk("aria-label",e.pageLabel(e.start-1))}}const Gq=function(t){return{"k-link":!0,"k-state-selected":t}};function Vq(t,n){if(1&t&&(i.TgZ(0,"option",8),i._uU(1),i.qZA()),2&t){const e=n.$implicit,o=i.oxw();i.Q6J("value",e.toString())("ngClass",i.VKq(5,Gq,o.currentPage==e)),i.uIk("aria-label",o.pageLabel(e))("aria-current",o.currentPage==e?"page":void 0),i.xp6(1),i.hij(" ",e," ")}}function Hq(t,n){if(1&t&&(i.TgZ(0,"option",9),i._uU(1,"... "),i.qZA()),2&t){const e=i.oxw();i.uIk("aria-label",e.pageLabel(e.end+1))}}function Yq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"li"),i.TgZ(1,"span",10),i.NdJ("click",function(){i.CHM(e);const s=i.oxw();return s.changePage(s.start-2)})("keydown.enter",function(){i.CHM(e);const s=i.oxw();return s.changePage(s.start-2)}),i._uU(2,"..."),i.qZA(),i.qZA()}if(2&t){const e=i.oxw();i.xp6(1),i.uIk("aria-label",e.pageLabel(e.start-1))}}const $q=function(t){return{"k-link":!0,"k-state-selected":t,"k-pager-nav":!0}};function Jq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"li"),i.TgZ(1,"span",11),i.NdJ("click",function(){const r=i.CHM(e).$implicit;return i.oxw().changePage(r-1)})("keydown.enter",function(){const r=i.CHM(e).$implicit;return i.oxw().changePage(r-1)}),i._uU(2),i.qZA(),i.qZA()}if(2&t){const e=n.$implicit,o=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(3,$q,o.currentPage==e)),i.uIk("aria-label",o.pageLabel(e)),i.xp6(1),i.hij(" ",e," ")}}function jq(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"li"),i.TgZ(1,"span",10),i.NdJ("click",function(){i.CHM(e);const s=i.oxw();return s.changePage(s.end)})("keydown.enter",function(){i.CHM(e);const s=i.oxw();return s.changePage(s.end)}),i._uU(2,"..."),i.qZA(),i.qZA()}if(2&t){const e=i.oxw();i.xp6(1),i.uIk("aria-label",e.pageLabel(e.end+1))}}const qq=function(){return{"k-pager-numbers":!0,"k-reset":!0}},Zq=function(){return{"k-pager-input":!0,"k-label":!0}},Uq=function(t,n){return{keydown:t,focusout:n}};const $D=["anchor"],JD=["template"];const vZ=function(t,n){return{service:t,column:n}};function _Z(t,n){if(1&t&&i.GkF(0,5),2&t){const e=i.oxw(),o=i.MAs(6);i.Q6J("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||o)("ngTemplateOutletContext",i.WLB(2,vZ,e.service,e.column))}}function yZ(t,n){if(1&t&&i._UZ(0,"kendo-grid-columnmenu-sort",10,11),2&t){const e=i.MAs(1),o=i.oxw(2);i.Q6J("kendoGridColumnMenuItem",e)("service",o.service)}}function bZ(t,n){if(1&t&&i._UZ(0,"kendo-grid-columnmenu-lock",10,12),2&t){const e=i.MAs(1),o=i.oxw(2);i.Q6J("kendoGridColumnMenuItem",e)("service",o.service)}}function CZ(t,n){if(1&t&&i._UZ(0,"kendo-grid-columnmenu-stick",10,13),2&t){const e=i.MAs(1),o=i.oxw(2);i.Q6J("kendoGridColumnMenuItem",e)("service",o.service)}}function wZ(t,n){if(1&t&&i._UZ(0,"kendo-grid-columnmenu-position",14,15),2&t){const e=i.MAs(1),o=i.oxw(2);i.Q6J("showLock",o.hasLock)("showStick",o.hasStick)("kendoGridColumnMenuItem",e)("service",o.service)("expanded",o.expandedPosition)}}function SZ(t,n){if(1&t&&i._UZ(0,"kendo-grid-columnmenu-chooser",16,17),2&t){const e=i.MAs(1),o=i.oxw(2);i.Q6J("kendoGridColumnMenuItem",e)("service",o.service)("expanded",o.expandedColumns)}}function IZ(t,n){if(1&t&&i._UZ(0,"kendo-grid-columnmenu-filter",16,18),2&t){const e=i.MAs(1),o=i.oxw(2);i.Q6J("kendoGridColumnMenuItem",e)("service",o.service)("expanded",o.expandedFilter)}}function kZ(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-grid-columnmenu-container",6),i.NdJ("keydown.escape",function(){return i.CHM(e),i.oxw().close()})("keydown.enter",function(s){return s.stopImmediatePropagation()}),i.YNc(1,yZ,2,2,"kendo-grid-columnmenu-sort",7),i.YNc(2,bZ,2,2,"kendo-grid-columnmenu-lock",7),i.YNc(3,CZ,2,2,"kendo-grid-columnmenu-stick",7),i.YNc(4,wZ,2,5,"kendo-grid-columnmenu-position",8),i.YNc(5,SZ,2,3,"kendo-grid-columnmenu-chooser",9),i.YNc(6,IZ,2,3,"kendo-grid-columnmenu-filter",9),i.qZA()}if(2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.hasSort),i.xp6(1),i.Q6J("ngIf",e.hasLock&&!e.hasPosition),i.xp6(1),i.Q6J("ngIf",e.hasStick&&!e.hasPosition),i.xp6(1),i.Q6J("ngIf",e.hasPosition),i.xp6(1),i.Q6J("ngIf",e.hasColumnChooser),i.xp6(1),i.Q6J("ngIf",e.hasFilter)}}const xZ=function(t){return{"k-state-active":t}};const tU=["resetButton"],iU=["filterButton"];function nU(t,n){if(1&t&&(i.ynx(0),i.GkF(1,9),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("filterService",e.childService)("column",e.column)("filter",e.childFilter)("menuTabbingService",e.menuTabbingService)}}function oU(t,n){}function sU(t,n){if(1&t&&i.YNc(0,oU,0,0,"ng-template",11),2&t){const e=i.oxw(2);i.Q6J("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function rU(t,n){if(1&t&&(i.ynx(0),i.YNc(1,sU,1,2,void 0,10),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.column.filterMenuTemplateRef)}}function aU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-dropdownlist",3),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().logicChange(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function lU(t,n){if(1&t&&i._UZ(0,"kendo-grid-string-filter-menu-input",4),2&t){const e=i.oxw();i.Q6J("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("menuTabbingService",e.menuTabbingService)}}function cU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-dropdownlist",3),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().logicChange(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function dU(t,n){if(1&t&&i._UZ(0,"kendo-grid-numeric-filter-menu-input",4),2&t){const e=i.oxw();i.Q6J("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)("menuTabbingService",e.menuTabbingService)}}function uU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-dropdownlist",3),i.NdJ("valueChange",function(s){return i.CHM(e),i.oxw().logicChange(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function pU(t,n){if(1&t&&i._UZ(0,"kendo-grid-date-filter-menu-input",4),2&t){const e=i.oxw();i.Q6J("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)("menuTabbingService",e.menuTabbingService)}}function hU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"li"),i.TgZ(1,"input",2,3),i.NdJ("change",function(){const r=i.CHM(e).$implicit,a=i.MAs(2);return i.oxw().onChange(r.value,a)})("keydown.shift.tab",function(s){return i.CHM(e),i.oxw().onShiftTab(s)}),i.qZA(),i.TgZ(3,"label",4),i._uU(4),i.qZA(),i.qZA()}if(2&t){const e=n.$implicit,o=i.oxw();i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("name",o.idPrefix)("checked",o.isSelected(e.value)),i.uIk("id",o.radioId(e.value)),i.xp6(2),i.uIk("for",o.radioId(e.value)),i.xp6(1),i.Oqu(e.text)}}const fU=["applyButton"];function gU(t,n){if(1&t&&(i.TgZ(0,"label",3),i._UZ(1,"input",4),i.TgZ(2,"span",5),i._uU(3),i.qZA(),i.qZA()),2&t){const e=n.$implicit,o=n.index,s=i.oxw();i.xp6(1),i.Q6J("checked",!e.hidden)("disabled",s.isDisabled(e)),i.uIk("data-index",o),i.xp6(2),i.Oqu(e.displayTitle)}}function mU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"button",7),i.NdJ("click",function(){return i.CHM(e),i.oxw().cancelChanges()}),i._uU(2),i.qZA(),i.TgZ(3,"button",8,9),i.NdJ("keydown.tab",function(s){return i.CHM(e),i.oxw().onTab(s)})("click",function(){return i.CHM(e),i.oxw().applyChanges()}),i._uU(5),i.qZA(),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("ngClass",e.actionsClass),i.xp6(2),i.Oqu(e.resetText),i.xp6(3),i.Oqu(e.applyText)}}function vU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"span",4),i._uU(1),i.qZA(),i.TgZ(2,"kendo-grid-columnlist",5),i.NdJ("apply",function(s){return i.CHM(e),i.oxw().onApply(s)})("columnChange",function(s){return i.CHM(e),i.oxw().onChange(s)}),i.qZA()}if(2&t){const e=i.oxw();i.xp6(1),i.Oqu(e.localization.get("columns")),i.xp6(1),i.Q6J("columns",e.columns)("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}function _U(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-grid-columnlist",2),i.NdJ("apply",function(s){return i.CHM(e),i.oxw().onApply(s)}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)("service",e.service)}}function yU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-grid-filter-menu-container",2),i.NdJ("keydown.shift.tab",function(s){return s.stopImmediatePropagation()})("close",function(){return i.CHM(e),i.oxw().close()}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)}}function bU(t,n){if(1&t&&i._UZ(0,"span",3),2&t){const e=i.oxw();i.Q6J("ngClass",e.iconClass)}}function CU(t,n){if(1&t&&(i.TgZ(0,"div",4),i.GkF(1,5),i._UZ(2,"div"),i.qZA()),2&t){const e=i.oxw();i.Q6J("@state",e.contentState),i.xp6(1),i.Q6J("ngTemplateOutlet",e.contentTemplate.templateRef)}}function wU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-grid-columnmenu-lock",3),i.NdJ("keydown.tab",function(s){i.CHM(e);const r=i.oxw(2);return r.onTab(s,!r.showStick)}),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("service",e.service)}}function SU(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"kendo-grid-columnmenu-stick",3),i.NdJ("keydown.tab",function(s){return i.CHM(e),i.oxw(2).onTab(s,!0)}),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("service",e.service)}}function IU(t,n){if(1&t&&(i.YNc(0,wU,1,1,"kendo-grid-columnmenu-lock",2),i.YNc(1,SU,1,1,"kendo-grid-columnmenu-stick",2)),2&t){const e=i.oxw();i.Q6J("ngIf",e.showLock),i.xp6(1),i.Q6J("ngIf",e.showStick)}}const EQ=/^\s*$/,U=t=>null!=t,uy=t=>null==t,Fn=t=>!!t,Xt=t=>uy(t)||EQ.test(t),Xf=t=>(0,We.T)((0,cn.of)(t),t.changes),hy=t=>"string"==typeof t,fy=t=>hy(t)&&!Xt(t)&&t.startsWith("{0:")?t.slice(3,t.length-1):t,ou=t=>(...n)=>!t.apply(null,n),Wf=(...t)=>n=>t.reduce((e,o)=>e||o(n),!1),gy=(...t)=>n=>t.reduce((e,o)=>e&&o(n),!0),Uo=(new i.OlP("Skip"),function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const t=Object.getOwnPropertyNames(Map.prototype),n=Map.prototype;for(let e=0;e<t.length;++e){const o=t[e];if("entries"!==o&&"size"!==o&&n[o]===n.entries)return o}}()),Kf="undefined"!=typeof window?window:{},Ri=(Kf.cancelAnimationFrame||Kf.msCancelRequestAnimationFrame||clearTimeout,(t,n,e)=>t.replace(new RegExp(`{\\s*${n}\\s*}`,"g"),e));let On=(()=>{let t=class{constructor(){this.cellClick=new i.vpe,this.cellMousedown=new i.vpe,this.cellMouseup=new i.vpe,this.click=new i.vpe,this.keydown=new i.vpe,this.focus=new i.vpe,this.focusIn=new i.vpe,this.focusOut=new i.vpe,this.windowBlur=new i.vpe}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),ln=(()=>{let t=class{constructor(){this.changes=new i.vpe}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const eg=new i.OlP("focus-root-initial-active-state");let ho=(()=>{let t=class{constructor(e=!1){this.active=e,this.groups=new Set}registerGroup(e){this.active&&this.groups.add(e)}unregisterGroup(e){this.active&&this.groups.delete(e)}activate(){this.active&&this.groups.forEach(e=>e.activate())}deactivate(){this.active&&this.groups.forEach(e=>e.deactivate())}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(eg,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([ue(0,(0,i.FiY)()),ue(0,(0,i.tBr)(eg)),u("design:paramtypes",[Boolean])],t),t})();const PQ=/^(?:a|input|select|option|textarea|button|object)$/i,my={},UD=t=>String(t).trim().split(" "),Da=(t,n)=>{const e=UD(n);return Boolean(UD(t.className).find(o=>e.indexOf(o)>=0))},Ai=t=>(my[t]||(my[t]=n=>String(n.nodeName).toLowerCase()===t.toLowerCase()),my[t]),Ui=(t,n)=>{for(;t&&!n(t);)t=t.parentNode;return t},_y=t=>{const n=t.getBoundingClientRect();return(n.width>0&&n.height>0||0!==n.x&&0!==n.y)&&"hidden"!==window.getComputedStyle(t).visibility},QD=t=>{if(!t.tagName)return!1;const n=t.tagName.toLowerCase(),e=Boolean(t.getAttribute("tabIndex"));return!t.disabled&&PQ.test(n)||e},su=(t,n=!0)=>{if(!QD(t))return!1;const e=!n||_y(t),o="true"===t.getAttribute("aria-hidden"),s=t.getAttribute("tabIndex");return e&&!o&&"-1"!==s},fo=(t,n,e=!0)=>{if(t){if(e&&n(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){const o=fo(t,n);if(o)return o}t=t.nextSibling}}},XD=(t,n=!0)=>fo(t,e=>su(e,n),!1),$Q=Ai("button"),JQ=Ai("input"),jQ=/(button|checkbox|color|file|radio|reset|submit)/i;class UQ{constructor(n,e){this.renderer=e,this.element=n.nativeElement,this.focusable=((t,n=!0)=>fo(this.element,e=>su(e,n)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&_y(this.focusable)}isNavigable(){return this.canFocus()&&(t=>!t.disabled&&($Q(t)||(t=>JQ(t)&&jQ.test(t.type))(t)))(this.element)}toggle(n){this.renderer.setAttribute(this.focusable,"tabIndex",n?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return document.activeElement!==this.element&&Ui(document.activeElement,n=>n===this.element)}}const Ni=new i.OlP("grid-cell-context");let Qi=(()=>{let t=class{constructor(e,o,s){this.cellContext=e,this.hostElement=o,this.renderer=s,this.active=!0,this._enabled=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}set enabled(e){(e=""===e||Boolean(e))!==this.enabled&&(this._enabled=e,this.element&&this.element.toggle(this.active&&e))}get enabled(){return this._enabled}ngAfterViewInit(){this.element||(this.element=new UQ(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.element.toggle(this.enabled&&e),this.active=e)}canFocus(){return this.enabled&&this.element&&this.element.canFocus()}isNavigable(){return this.enabled&&this.element&&this.element.isNavigable()}focus(){this.enabled&&this.element&&this.element.focus()}hasFocus(){return this.enabled&&this.element&&this.element.hasFocus()}registerElement(e){this.element=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ni,12),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:["kendoGridFocusable","enabled"]}}),h([(0,i.IIB)("kendoGridFocusable"),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"enabled",null),t=h([ue(0,(0,i.FiY)()),ue(0,(0,i.tBr)(Ni)),ue(0,(0,i.tp0)()),u("design:paramtypes",[Object,i.SBq,i.Qsj])],t),t})();class XQ{constructor(n){this.navigationService=n}focus(){this.navigationService.focusCell()}toggle(n){this.navigationService.toggle(n)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class WQ{constructor(n){this.model=n,this.changes=new Ze.xQ,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}get row(){return this.model.findRow(this.activeRow)}get cell(){const n=this.row;if(n)return this.model.findCell(this.activeCol,n)}get dataRowIndex(){const n=this.row;return n?n.dataRowIndex:-1}reset(n=this.activeRow,e=this.activeCol,o=!0){this.activate(n,e,o)&&(this.virtualRow=n,this.virtualCol=e)}activate(n,e,o){if(!o&&this.isActiveRange(n,e))return!1;const s=this.activeCol,r=this.activeRow;return this.activeCol=e,this.activeRow=n,this.changes.next({colIndex:e,prevColIndex:s,prevRowIndex:r,rowIndex:n}),!0}isActiveRange(n,e){if(this.activeRow!==n)return!1;const o=this.cell,{start:s,end:r}=this.model.cellRange(o);return!Boolean(o)||s<=e&&e<=r}assume(n=this.activeRow,e=this.activeCol){this.virtualRow=n,this.virtualCol=e,this.activeCol=e,this.activeRow=n}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(n){const e=this.model.rowRange(n),o=this.model.cellRange(n),s=this.activeCol,r=this.activeRow;if(e.start<=r&&r<=e.end&&o.start<=s&&s<=o.end)return this.activeRow=n.rowIndex,this.activeCol=n.colIndex,!0}isActive(n,e){return this.activeCol===e&&this.activeRow===n}moveUp(n=1){return this.offsetRow(-n)}moveDown(n=1){return this.offsetRow(n)}moveLeft(n=1){return this.offsetCol(-n)}moveRight(n=1){return this.offsetCol(n)}lastCellIndex(n){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||n&&n.groupItem?0:1)}offsetCol(n){const e=this.model.findRow(this.virtualRow),o=this.lastCellIndex(e),s=this.virtualCol;this.virtualCol=Math.max(0,Math.min(s+n,o));let r=this.virtualCol,a=this.virtualRow,l=this.model.findCell(this.virtualCol,e);if(!l&&this.metadata.virtualColumns)return this.activate(a,r);if(l.colSpan>1&&l.colIndex<=s&&s<l.colIndex+l.colSpan){r=n>0?Math.min(l.colIndex+l.colSpan,o):Math.max(0,l.colIndex+n);const d=this.model.findCell(r,e);l!==d?(l=d,this.virtualCol=l.colIndex):this.virtualCol=s}return this.activate(l.rowIndex,l.colIndex)}offsetRow(n){let e=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const r=this.metadata.maxLogicalRowIndex;let a=Math.max(0,Math.min(this.activeRow+n,r));this.metadata.hasDetailTemplate&&!this.model.findRow(a)&&(a=n>0?a+1:a-1,a=Math.max(0,Math.min(a,r))),this.metadata.hasDetailTemplate&&a===r&&this.model.lastRow.index!==r&&a--;const l=this.model.findRow(a);if(l){let d=this.model.findCell(this.virtualCol,l);d.rowIndex<=this.virtualRow&&n>0&&d.rowSpan>1&&(d=this.model.findCell(this.virtualCol,this.model.findRow(d.rowIndex+d.rowSpan-1+n))),a=d.rowIndex,e=d.colIndex}return this.virtualRow=a,this.activate(a,e)}const o=this.model.findRow(this.virtualRow+n)||this.model.nextRow(this.virtualRow,n);if(!o)return!1;let s=this.model.findCell(this.virtualCol,o);return s&&s.rowIndex<=this.virtualRow&&n>0&&s.rowSpan>1&&(s=this.model.findCell(this.virtualCol,this.model.findRow(s.rowIndex+s.rowSpan-1+n))),!s&&this.metadata.virtualColumns?this.activate(this.virtualRow+n,this.virtualCol):(this.virtualRow=s.rowIndex,this.activate(this.virtualRow,s.colIndex))}}class WD{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let n;return this.forEach(e=>(n=e,!0)),n}}get last(){if(this.count>0){const n=Object.keys(this.items);return this.items[n[n.length-1]]}}removeItem(n){this.items[n]&&(delete this.items[n],this.count--)}setItem(n,e){this.items[n]||this.count++,this.items[n]=e}getItem(n){return this.items[n]}toArray(){const n=[];return this.forEach(e=>{n.push(e)}),n}forEach(n){for(let e in this.items)if(this.items.hasOwnProperty(e)&&n(this.items[e]))return this.items[e]}find(n){return this.forEach(n)}}class KQ{constructor(){this.rows=new WD}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(n){const e=this.rows.getItem(n.logicalRowIndex);if(!e)return;const o=n.logicalColIndex,s={uid:n.uid,colIndex:o,rowIndex:e.index,colSpan:n.colSpan,rowSpan:n.rowSpan,detailExpandCell:n.detailExpandCell,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,focusGroup:n.focusGroup};return e.cells.setItem(o,s),n.groupItem&&(e.groupItem=n.groupItem),s}unregisterCell(n,e,o){const s=this.rows.getItem(e);if(s){const r=s.cells.getItem(n);r&&r.uid===o.uid&&s.cells.removeItem(n)}}registerRow(n){const e={uid:n.uid,index:n.logicalRowIndex,dataItem:n.dataItem,dataRowIndex:n.dataRowIndex,cells:new WD};this.rows.setItem(n.logicalRowIndex,e)}updateRow(n){const e=this.rows.getItem(n.logicalRowIndex);e&&Object.assign(e,{dataItem:n.dataItem,dataRowIndex:n.dataRowIndex})}unregisterRow(n,e){const o=this.rows.getItem(n);o&&o.uid===e.uid&&this.rows.removeItem(n)}cellRange(n){return n?{start:n.colIndex,end:n.colIndex+(n.colSpan||1)-1}:{}}rowRange(n){return n?{start:n.rowIndex,end:n.rowIndex+(n.rowSpan||1)-1}:{}}nextRow(n,e){const o=this.rows.toArray(),s=this.rows.getItem(n),r=o.indexOf(s);return o[r+e]}findRow(n){return this.rows.getItem(n)}findCell(n,e){if(!e)return;const o=e.index;let s=e.cells.getItem(n),r=o;for(;!s&&e;)e=this.rows.getItem(r),s=this.rowCell(n,e),r--;return s&&o<=e.index+(s.rowSpan||1)-1?s:void 0}rowCell(n,e){if(!e||!e.cells.count)return;const o=e.cells.first;let s,r=n;for(;!s&&r>=o.colIndex;)s=e.cells.getItem(r),r--;return s&&n<=s.colIndex+(s.colSpan||1)-1?s:void 0}}class Ma{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class eX extends Ma{constructor(n){super(),this.action="cellClose",Object.assign(this,n)}}const Ea=t=>-1===t||void 0===t;let Wt=(()=>{let t=class{constructor(e){this.ngZone=e,this.changes=new i.vpe,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new Ze.xQ,this.changed=this.changedSource.asObservable().pipe((0,vi.w)(()=>this.ngZone.onStable.asObservable().pipe((0,nt.q)(1))))}editRow(e,o){this.editedIndices.push({index:e,group:o}),this.onChanged()}addRow(e){this.newItemGroup={group:e},this.onChanged()}editCell(e,o,s){Ea(e)||!1===o.editable||!o.editTemplate&&!o.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,s),this.column=o,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return U(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(e){Ea(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((t=>n=>n.index!==t)(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:o,group:s}=this.editedIndices[0],r=new eX({column:this.column,formGroup:s,originalEvent:e,rowIndex:o});return this.closingCell=!0,this.changes.emit(r),this.closingCell=!1,r.isDefaultPrevented()||this.cancelCell(),r.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return Ea(e)?this.newItemGroup:this.findByIndex(e)}columnContext(e,o){return Ea(e)?this.newItemGroup:this.column&&o!==this.column?void 0:this.findByIndex(e)}isEdited(e){return!(!Ea(e)||!U(this.newItemGroup))||!this.column&&U(this.findByIndex(e))}hasEdited(e){return U(this.context(e))}isEditedColumn(e,o){return!(!this.column||this.column!==o)&&U(this.findByIndex(e))}beginEdit(e){this.changes.emit({action:"edit",rowIndex:e})}beginAdd(){this.changes.emit({action:"add"})}endEdit(e){const{group:o}=this.context(e);this.changes.emit({action:"cancel",rowIndex:e,formGroup:o,isNew:Ea(e)})}save(e){const{group:o}=this.context(e);this.changes.emit({action:"save",rowIndex:e,formGroup:o,isNew:Ea(e)})}remove(e){this.changes.emit({action:"remove",rowIndex:e})}findByIndex(e){return this.editedIndices.find((t=>n=>n.index===t)(e))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[i.R0b])],t),t})();const tg=t=>U(t)?{group:t.data,groupIndex:t.index,parentGroup:tg(t.parentGroup)}:null;let go=(()=>{let t=class{constructor(){this.changes=new Ze.xQ,this.rowState=new Set}reset(){this.rowState.clear()}ngOnDestroy(){this.reset()}isExpanded(e){return this.userCallback?this.userCallback(e):!this.rowState.has(e.groupIndex)}isInExpandedGroup(e){let o=!0;for(;e&&o;)o=this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:tg(e.parentGroup)}),e=e.parentGroup;return o}toggleRow(e){const o=tg(e.parentGroup),s=!this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:o});this.changes.next({group:e.data,expand:s,groupIndex:e.index,parentGroup:o}),!this.userCallback&&(s?this.rowState.delete(e.index):this.rowState.add(e.index))}expandChildren(e){this.rowState.forEach(o=>((t,n)=>n!==t&&t.startsWith(n))(o,e)&&this.rowState.delete(o))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Li=(()=>{class t{constructor(){this.changes=new Ze.xQ,this.pageChange=new Ze.xQ}get currentPage(){return this.skip/this.pageSize}notifyChanges(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}changePage(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}changePageSize(e){this.pageChange.next({skip:0,take:e})}nextPage(){const e=this.currentPage+1;e*this.pageSize<this.total&&this.changePage(e)}prevPage(){const e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class oX extends Ma{constructor(n){super(),Object.assign(this,n)}}class sX extends Ma{constructor(n){super(),Object.assign(this,n)}}let ws=(()=>{let t=class{constructor(){this.changes=new Ze.xQ,this.rowState=new Set}ngOnDestroy(){this.rowState.clear()}isExpanded(e,o){return this.userCallback?this.userCallback({index:e,dataItem:o}):this.rowState.has(e)}toggleRow(e,o){this.isExpanded(e,o)?this.collapseRow(e,o):this.expandRow(e,o)}expandRow(e,o){!this.emitEvent({dataItem:o,index:e,expand:!0})&&!this.userCallback&&this.rowState.add(e)}collapseRow(e,o){!this.emitEvent({dataItem:o,index:e,expand:!1})&&!this.userCallback&&this.rowState.delete(e)}emitEvent(e){const o=new(e.expand?sX:oX)(e);return this.changes.next(o),o.isDefaultPrevented()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Ba=(()=>{let t=class{constructor(){this.requests=new Ze.xQ}scrollTo(e){this.requests.next(e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})();const rX=(t,n)=>Ui(t,Ai("kendo-grid"))===n,aX=Ai("th"),lX=Ai("td"),cX=Ai(".k-grid-footer td"),KD=t=>lX(t)||aX(t)||cX(t),yy=(t,n)=>{const e=((t,n)=>{let e=Ui(t,KD);for(;e&&!rX(e,n);)e=Ui(e.parentElement,KD);return e})(t,n),o=Ui(e,Ai("tr"));if(e&&o){let s=o.getAttribute("aria-rowindex");s=s?parseInt(s,10)-1:null;let r=e.getAttribute("aria-colindex");if(r=r?parseInt(r,10)-1:null,null!==s&&null!==r)return{colIndex:r,rowIndex:s,element:e}}},e2=t=>(t=>t===R.ArrowLeft||t===R.ArrowRight||t===R.ArrowUp||t===R.ArrowDown)(t)||t===R.PageUp||t===R.PageDown||t===R.Home||t===R.End,pX=Ai("input");class t2{constructor(n,e){this.firstItemIndex=n,this.lastItemIndex=e}containsRow(n){return n<0||n>=this.firstItemIndex&&n<=this.lastItemIndex}intersects(n,e){return n<=this.firstItemIndex&&this.lastItemIndex<=e||this.firstItemIndex<=n&&n<=this.lastItemIndex||this.firstItemIndex<=e&&e<=this.lastItemIndex}}let tt=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c,p,m,f){this.zone=e,this.domEvents=o,this.pagerContextService=s,this.scrollRequestService=r,this.groupsService=a,this.detailsService=l,this.focusRoot=d,this.editService=c,this.cd=p,this.localization=m,this.focusableParent=f,this.cellKeydown=new i.vpe,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new KQ,this.cursor=new WQ(this.model),this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e){this.alive=!0,this.focusRoot.active=!0,this.metadata=e;const o=(...r)=>a=>this.zone.isStable?(0,Es.D)([!0]).pipe((0,xe.U)(()=>a)):this.zone.onStable.pipe((0,nt.q)(1),(0,xe.U)(()=>a),...r),s=o();if(this.subs=new Ie.w,this.subs.add(this.cursor.changes.subscribe(r=>this.onCursorChanges(r))),this.subs.add(this.domEvents.focus.pipe((0,vi.w)(s)).subscribe(r=>this.navigateTo(r.target))),this.subs.add(this.domEvents.focusOut.pipe((0,ee.h)(()=>0!==this.mode),(0,vi.w)(o((0,Wi.R)(this.domEvents.focus)))).subscribe(r=>this.onFocusOut(r))),this.subs.add(this.domEvents.windowBlur.pipe((0,ee.h)(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe((0,ee.h)(r=>"edit"!==r.action&&2===this.mode),(0,ee.h)(r=>"cellClose"===r.action&&!r.prevented),(0,vi.w)(s)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(r=>this.onKeydown(r))),this.subs.add(this.domEvents.keydown.pipe((0,ee.h)(r=>r.keyCode===R.Tab&&2===this.mode),Hu(this.domEvents.focusOut.pipe((0,Wi.R)(Sc(0).pipe((0,nt.q)(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const r=new XQ(this);this.focusableParent.registerElement(r)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const o=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(o)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,o,s){this.model.unregisterCell(e,o,s)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,o){this.model.unregisterRow(e,o);const s=this.model.lastRow;if(s&&0===this.mode){const r=this.needsViewport()&&this.viewport?this.viewport.lastItemIndex:s.index;this.activeRowIndex>r&&this.cursor.reset(0,0)}}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive)return;const o=yy(e,this.meta.gridElement.nativeElement);if(!o)return;const s=this.mode,r=((t,n,e=!1)=>{if(!Ui(n,r=>r===t))return!1;const s=Ui(n,r=>r===n);return s&&(e||s!==t)})(o.element,document.activeElement),a=2===this.mode&&this.activeRowIndex===o.rowIndex&&e!==o.element;if(r)this.mode=2,this.cursor.reset(o.rowIndex,o.colIndex),this.activateRow();else if(!a){this.mode=1,this.deactivateElements();const l=this.cursor.isActive(o.rowIndex,o.colIndex);1===s&&l||this.cursor.reset(o.rowIndex,o.colIndex)}}tryFocus(e){this.activateElements();const o=XD(e);if(o){const s=yy(o,this.meta.gridElement.nativeElement);s&&(this.cursor.reset(s.rowIndex,s.colIndex),this.deactivateElements(),this.enterCell()),o.focus()}else this.deactivateElements();return!!o}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,o){if(this.viewport=new t2(e,o),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const s=this.activeDataRow,a=s-o;e-s>0?this.cursor.reset(e+this.meta.headerRows):a>0&&this.cursor.reset(o-this.meta.headerRows)}}setColumnViewport(e,o){this.columnViewport=new t2(e,o)}focusCell(e,o){return this.mode=1,this.cursor.reset(e,o),this.activeCell}focusCellByElement(e){const o=yy(e,this.meta.gridElement.nativeElement);if(o)return this.focusCell(o.rowIndex,o.colIndex)}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,o){return!this.meta.virtualColumns||o<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,o)}focusAdjacentCell(e,o){this.focusCell();let s=e?this.moveCursorFwd():this.moveCursorBwd();if(o&&!s&&(s=e?this.cursor.moveDown(1):this.cursor.moveUp(1),s)){const r=this.cursor.row,a=e?0:this.cursor.lastCellIndex(r);this.cursor.reset(r.index,a)}return s?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const o=e.focusGroup,s=o&&o.canFocus();this.mode=s?2:1,this.cursor.announce(),s&&(this.activateRow(),o.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const o=e.focusGroup;o&&o.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(e){let o=!1;const s=e.ctrlKey||e.metaKey,r=s?5:1;if(!this.onCellKeydown(e))return;const a=this.cursor.row;switch(e.keyCode){case R.ArrowDown:o=this.cursor.moveDown(r);break;case R.ArrowUp:o=this.cursor.moveUp(r);break;case R.ArrowRight:o=this.moveCursorFwd();break;case R.ArrowLeft:o=this.moveCursorBwd();break;case R.PageDown:if(this.metadata.isVirtual&&this.viewport){let d=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&d++,d=Math.min(this.meta.maxLogicalRowIndex,d),this.cursor.reset(d),o=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),o=!0);break;case R.PageUp:if(this.metadata.isVirtual&&this.viewport){let p=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(p),o=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),o=!0);break;case R.Home:this.cursor.reset(s?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:a.index,0,!1),o=!0;break;case R.End:if(s)if(this.meta.isVirtual){let d=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&d--,this.cursor.reset(d,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const d=this.cursor.lastCellIndex(a),c=this.model.findCell(d,a);c?this.cursor.reset(c.rowIndex,c.colIndex):this.cursor.reset(a.index,d)}o=!0;break;case R.Enter:case R.F2:const l=a.groupItem;l?this.zone.run(()=>this.groupsService.toggleRow(l)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(a.dataRowIndex,a.dataItem)):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(o=!0));break;default:!e.ctrlKey&&!e.altKey&&(t=>1===t.length&&t.match(/\S/))(e.key)&&this.enterCell()}o&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const o=!e.defaultPrevented&&e.keyCode===R.Enter&&(t=>t&&pX(t)&&"text"===t.type.toLowerCase())(e.srcElement);e.keyCode===R.Escape||e.keyCode===R.F2||o?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):e2(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const o=e.keyCode===R.Enter,s=e.keyCode===R.Escape,r=e2(e.keyCode);if(o)this.editService.closeCell(e);else if(s)this.editService.closeCell(e),this.cd.detectChanges();else if(r)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const o=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&e.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(o)&&o>-1&&this.scrollRequestService.scrollTo({row:o}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const s=this.activeCell,{start:r,end:a}=this.model.cellRange(s);s||(this.virtualCell=!0),(!s&&0!==this.mode||s&&!this.columnViewport.intersects(r,a))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(e){this.mode=_y(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(On),i.LFG(Li),i.LFG(Ba),i.LFG(go),i.LFG(ws),i.LFG(ho),i.LFG(Wt),i.LFG(i.sBO),i.LFG(I),i.LFG(Qi,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([ue(10,(0,i.FiY)()),u("design:paramtypes",[i.R0b,On,Li,Ba,go,ws,ho,Wt,i.sBO,I,Qi])],t),t})(),mo=(()=>{let t=class{constructor(e,o,s){this.domEvents=e,this.localDataChangesService=o,this.navigationService=s,this.changes=new i.vpe,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const o=this.settings.selectable,s="object"==typeof o&&U(o)&&"multiple"===o.mode&&!1!==o.enabled&&!o.checkboxOnly&&o.drag;return this.active&&s}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const o=this.getIterator();this._selectAllState=!0;let s=o.next();for(;!s.done;){if(s.value&&"data"===s.value.type){const r={dataItem:s.value.data,index:s.value.index};e.rowSelected(r)?this.currentSelection[s.value.index]=r:this._selectAllState=void 0}s=o.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(e){if(this.settings&&this.active)return this.options.enabled&&U(this.currentSelection[e])}handleClick(e,o){if(this.dragging)return void(this.dragging=!1);let s;const r=o.ctrlKey||o.metaKey;"single"===this.options.mode&&r&&this.isSelected(e.index)?s=this.toggle(e):"multiple"===this.options.mode&&(r&&!o.shiftKey?s=this.toggle(e):o.shiftKey&&(s=this.addAllTo(e,r))),U(s)||(s=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(s.selectedRows.length||s.deselectedRows.length)&&(s.ctrlKey=r,s.shiftKey=o.shiftKey,this.changes.emit(s))}toggle(e){let o=[],s=[];this.lastSelectionStartIndex=e.index;const r={dataItem:e.data,index:e.index};return this.isSelected(e.index)?s.push(r):o.push(r),{deselectedRows:s,selectedRows:o}}toggleByIndex(e){const o=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);let s=o.next();for(;!s.done;){if(s.value&&"data"===s.value.type&&s.value.index===e){const r={data:s.value.data,index:s.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(r):this.select(r)}s=o.next()}}select(e){let o=[],s=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||s.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach(r=>{r.index!==e.index&&o.push(r)}),{deselectedRows:o,selectedRows:s}}deselect(e){const o=this.getIterator();let s=o.next();for(;!s.done;){if(s.value&&"data"===s.value.type&&s.value.data===e){const r={dataItem:s.value.data,index:s.value.index};this.isSelected(r.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[r],selectedRows:[]})}s=o.next()}}addAllTo(e,o){let s=[],r=[];const a=Math.min(this.lastSelectionStartIndex,e.index),l=Math.max(this.lastSelectionStartIndex,e.index),d=this.getIterator();let c=d.next();for(;!c.done;){if(c.value&&"data"===c.value.type){const p=c.value.index,m={dataItem:c.value.data,index:p};(p<a||p>l)&&this.isSelected(p)&&!o&&r.push(m),p>=a&&p<=l&&!this.isSelected(p)&&s.push(m)}c=d.next()}return{deselectedRows:r,selectedRows:s}}updateAll(e){this.selectAllChecked=e;let o=[],s=[];const r=this.getIterator();let a=r.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const d=a.value.index,c={dataItem:a.value.data,index:d};this.isSelected(d)&&!e&&s.push(c),!this.isSelected(d)&&e&&o.push(c)}a=r.next()}(o.length||s.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:s,selectedRows:o,shiftKey:!0})}selectRange(e,o){let s=[],r=[];const a=Math.min(e,o),l=Math.max(e,o),d=this.getIterator();let c=d.next();for(;!c.done;){if(c.value&&"data"===c.value.type){const p=c.value.index,m={dataItem:c.value.data,index:p};(p<a||p>l)&&this.isSelected(p)&&r.push(m),p>=a&&p<=l&&!this.isSelected(p)&&s.push(m)}c=d.next()}return{deselectedRows:r,selectedRows:s}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(e=>e.index).filter(e=>"number"==typeof e)}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return U(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&e.originalEvent.shiftKey&&this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&U(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[Uo]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(On),i.LFG(ln),i.LFG(tt))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[On,ln,tt])],t),t})();let Rn=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridCellTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),ru=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),au=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),Oa=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridEditTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),lu=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridGroupFooterTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),ig=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridHeaderTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),cu=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridFooterTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),dc=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridColumnMenuTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})();const Cy=t=>t.isSpanColumn;let pt=(()=>{class t{constructor(e,o){if(this.parent=e,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.sticky=!1,this.lockable=!0,this.stickable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new i.n_E,this.columnMenuTemplates=new i.n_E,this.idService=o,e&&o&&e.idService.gridId()===o.gridId()&&!(t=>t.isColumnGroup||Cy(t))(e))throw new Error("Columns can be nested only inside ColumnGroupComponent")}set width(e){this._width=parseInt(e,10)}get width(){return this._width}get level(){return this.parent&&Cy(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,contentQueries:function(e,o,s){if(1&e&&(i.Suo(s,cu,5),i.Suo(s,ig,4),i.Suo(s,dc,4)),2&e){let r;i.iGM(r=i.CRH())&&(o.footerTemplate=r.first),i.iGM(r=i.CRH())&&(o.headerTemplates=r),i.iGM(r=i.CRH())&&(o.columnMenuTemplates=r)}},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",sticky:"sticky",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",filterStyle:"filterStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",filterClass:"filterClass",footerClass:"footerClass"}}),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"resizable",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"reorderable",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"minResizableWidth",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"title",void 0),h([(0,i.IIB)(),u("design:type",Number),u("design:paramtypes",[Number])],t.prototype,"width",null),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"autoSize",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"locked",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"sticky",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"hidden",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"media",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"lockable",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"stickable",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"columnMenu",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"includeInChooser",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"style",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"headerStyle",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filterStyle",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"footerStyle",void 0),h([(0,i.IIB)("class"),u("design:type",Object)],t.prototype,"cssClass",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"headerClass",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filterClass",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"footerClass",void 0),h([(0,i.AcB)(ig,{descendants:!1}),u("design:type",i.n_E)],t.prototype,"headerTemplates",void 0),h([(0,i.aQ5)(cu,{static:!1}),u("design:type",cu)],t.prototype,"footerTemplate",void 0),h([(0,i.AcB)(dc),u("design:type",i.n_E)],t.prototype,"columnMenuTemplates",void 0),t})(),du=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridFilterCellTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),uu=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridFilterMenuTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),yX=0,mi=(()=>{let t=class{constructor(){this.prefix="k-grid"+yX++}gridId(){return this.prefix}cellId(e,o){return`${this.prefix}-r${e}c${o}`}selectionCheckboxId(e){return`${this.prefix}-checkbox${e}`}selectAllCheckboxId(){return`${this.prefix}-select-all`}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[])],t),t})();var wy;let Re=wy=class extends pt{constructor(n,e){super(n,e),this.sortable=!0,this.groupable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}};var Sy;function ng(t){return t.isSpanColumn}Re.\u0275fac=function(n){return new(n||Re)(i.Y36(pt,13),i.Y36(mi,8))},Re.\u0275cmp=i.Xpm({type:Re,selectors:[["kendo-grid-column"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,Rn,5),i.Suo(o,ru,5),i.Suo(o,au,5),i.Suo(o,lu,5),i.Suo(o,Oa,5),i.Suo(o,du,5),i.Suo(o,uu,5)),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s.first),i.iGM(s=i.CRH())&&(e.groupHeaderTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupHeaderColumnTemplate=s.first),i.iGM(s=i.CRH())&&(e.groupFooterTemplate=s.first),i.iGM(s=i.CRH())&&(e.editTemplate=s.first),i.iGM(s=i.CRH())&&(e.filterCellTemplate=s.first),i.iGM(s=i.CRH())&&(e.filterMenuTemplate=s.first)}},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[i._Bn([{provide:pt,useExisting:(0,i.Gpc)(()=>wy)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),h([(0,i.IIB)(),u("design:type",String)],Re.prototype,"field",void 0),h([(0,i.IIB)(),u("design:type",Object)],Re.prototype,"format",void 0),h([(0,i.IIB)(),u("design:type",Object)],Re.prototype,"sortable",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],Re.prototype,"groupable",void 0),h([(0,i.IIB)(),u("design:type",String)],Re.prototype,"editor",void 0),h([(0,i.IIB)(),u("design:type",String)],Re.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],Re.prototype,"filterable",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],Re.prototype,"editable",void 0),h([(0,i.aQ5)(Rn,{static:!1}),u("design:type",Rn)],Re.prototype,"template",void 0),h([(0,i.aQ5)(ru,{static:!1}),u("design:type",ru)],Re.prototype,"groupHeaderTemplate",void 0),h([(0,i.aQ5)(au,{static:!1}),u("design:type",au)],Re.prototype,"groupHeaderColumnTemplate",void 0),h([(0,i.aQ5)(lu,{static:!1}),u("design:type",lu)],Re.prototype,"groupFooterTemplate",void 0),h([(0,i.aQ5)(Oa,{static:!1}),u("design:type",Oa)],Re.prototype,"editTemplate",void 0),h([(0,i.aQ5)(du,{static:!1}),u("design:type",du)],Re.prototype,"filterCellTemplate",void 0),h([(0,i.aQ5)(uu,{static:!1}),u("design:type",uu)],Re.prototype,"filterMenuTemplate",void 0),Re=wy=h([ue(0,(0,i.tp0)()),ue(0,(0,i.AA_)()),ue(0,(0,i.FiY)()),ue(1,(0,i.FiY)()),u("design:paramtypes",[pt,mi])],Re);let An=Sy=class extends pt{constructor(n,e){if(super(n,e),this.isSpanColumn=!0,this.template=new i.n_E,this.editTemplate=new i.n_E,this.childColumns=new i.n_E,this.includeInChooser=!1,this._editable=!0,this._locked=!1,n&&n.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn")}set editable(n){this._editable=n}get editable(){return U(this.editTemplateRef)&&this._editable}set width(n){}get width(){return this.childColumns.reduce((n,e)=>n+e.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const n=this.template.first;return n?n.templateRef:void 0}get editTemplateRef(){const n=this.editTemplate.first;return n?n.templateRef:void 0}get colspan(){return this.childColumns.filter(n=>n.isVisible).length}set locked(n){this._locked=n}get locked(){return this._locked||this.childColumns.some(n=>n.locked)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}};An.\u0275fac=function(n){return new(n||An)(i.Y36(pt,13),i.Y36(mi,8))},An.\u0275cmp=i.Xpm({type:An,selectors:[["kendo-grid-span-column"]],contentQueries:function(n,e,o){if(1&n&&(i.Suo(o,Rn,4),i.Suo(o,Oa,4),i.Suo(o,Re,4)),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s),i.iGM(s=i.CRH())&&(e.editTemplate=s),i.iGM(s=i.CRH())&&(e.childColumns=s)}},inputs:{editable:"editable",locked:"locked"},features:[i._Bn([{provide:pt,useExisting:(0,i.Gpc)(()=>Sy)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),h([(0,i.AcB)(Rn,{descendants:!1}),u("design:type",i.n_E)],An.prototype,"template",void 0),h([(0,i.AcB)(Oa,{descendants:!1}),u("design:type",i.n_E)],An.prototype,"editTemplate",void 0),h([(0,i.AcB)(Re),u("design:type",i.n_E)],An.prototype,"childColumns",void 0),h([(0,i.IIB)(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],An.prototype,"editable",null),h([(0,i.IIB)(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],An.prototype,"locked",null),An=Sy=h([ue(0,(0,i.tp0)()),ue(0,(0,i.AA_)()),ue(0,(0,i.FiY)()),ue(1,(0,i.FiY)()),u("design:paramtypes",[pt,mi])],An);const Xo=t=>t.reduce((n,e)=>n.concat(ng(e)?e.childrenArray:[e]),[]),Ss=t=>Xo(t).filter(n=>n.isVisible),r2=t=>n=>(n||[]).reduce((e,o)=>e+(o[t]||0),0),og=(r2("width"),r2("colspan")),hu=(new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),t=>t.reduce((n,e)=>(e.isColumnGroup?n=n.concat(hu((t=>t.children.filter(n=>n!==t))(e))):e.isSpanColumn?n=n.concat(e.childrenArray):n.push(e),n),[]).filter(n=>n.isVisible)),Iy=(t,...n)=>hu(n).some(t),a2=t=>Fn(t.parent)&&ng(t.parent);var ky;function uc(t){return t.isColumnGroup}let Wo=ky=class extends pt{constructor(n,e){if(super(n,e),this.parent=n,this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,n&&n.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent")}rowspan(){return 1}get colspan(){return this.children&&1!==this.children.length?og(this.children.filter(n=>n!==this&&n.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(n=>n!==this)}get hasChildren(){return Boolean(this.firstChild)}get firstChild(){return this.children.find(n=>n!==this)}};Wo.\u0275fac=function(n){return new(n||Wo)(i.Y36(pt,13),i.Y36(mi,8))},Wo.\u0275cmp=i.Xpm({type:Wo,selectors:[["kendo-grid-column-group"]],contentQueries:function(n,e,o){if(1&n&&i.Suo(o,pt,4),2&n){let s;i.iGM(s=i.CRH())&&(e.children=s)}},features:[i._Bn([{provide:pt,useExisting:(0,i.Gpc)(()=>ky)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),h([(0,i.AcB)(pt),u("design:type",i.n_E)],Wo.prototype,"children",void 0),Wo=ky=h([ue(0,(0,i.tp0)()),ue(0,(0,i.AA_)()),ue(0,(0,i.FiY)()),ue(1,(0,i.FiY)()),u("design:paramtypes",[pt,mi])],Wo);let Ko=(()=>{let t=class{constructor(e){this.templateRef=e,this._condition=()=>!0}set showIf(e){if("function"!=typeof e)throw new Error(`showIf must be a function, but received ${JSON.stringify(e)}.`);this._condition=e}get showIf(){return this._condition}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),h([(0,i.IIB)("kendoGridDetailTemplateShowIf"),u("design:type",Function),u("design:paramtypes",[Function])],t.prototype,"showIf",null),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})();class rg{constructor(n){this.columns=n,this.allColumns=new i.n_E,this.leafColumns=new i.n_E,this.lockedColumns=new i.n_E,this.nonLockedColumns=new i.n_E,this.lockedLeafColumns=new i.n_E,this.nonLockedLeafColumns=new i.n_E,this.totalLevels=0,this.changes=new i.vpe,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}refresh(){const n=this.totalLevels,e=new Array,o=new Array,s=new Array,r=new Array,a=new Array,l=new Array,d=new Array,c=new Array,p=new Array;let m=!1,f=!1,y=!1,S=0,D=0;this.totalLevels=0,this.columns().forEach(E=>{const M=!0===E.isLocked?o:s,H=!0===E.isLocked?r:a,F=!0===E.isLocked?c:p;uc(E)||(M.push(E),e.push(E),d.push.apply(d,Ss([E])),F.push.apply(F,Ss([E])),m=m||Iy(O=>Boolean(O.groupHeaderColumnTemplateRef),E),f=f||Iy(O=>Boolean(O.groupFooterTemplateRef),E),y=y||Iy(O=>Boolean(O.footerTemplateRef),E),E.isLocked||(S+=E.width||0),E.isSpanColumn?E.childColumns.forEach(O=>{O.leafIndex=D++}):E.leafIndex=D++),H.push(E),l.push(E),this.totalLevels=E.level>this.totalLevels?E.level:this.totalLevels}),this.hasGroupHeaderColumn=m,this.hasGroupFooter=f,this.hasFooter=y,this.leafColumnsToRender=d,this.lockedColumnsToRender=c,this.nonLockedColumnsToRender=p,this.unlockedWidth=S;const P=((...t)=>{let n=!1;for(let e=0;e<t.length;e++){const[o,s]=t[e];n=n||o.length!==s.length,o.reset(s)}return n})([this.leafColumns,e],[this.lockedLeafColumns,o],[this.nonLockedLeafColumns,s],[this.lockedColumns,r],[this.allColumns,l],[this.nonLockedColumns,a])||n!==this.totalLevels;return P&&this.changes.emit(),P}}let pc=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridNoRecordsTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})();let Di=(()=>{let t=class{constructor(){this.isColumnMenu=!1,this.isPopupOpen=!1}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),it=(()=>{let t=class{constructor(e){this.changes=new Ze.xQ,this.menuTabbingService=e}filter(e){this.changes.next(e)}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Di,8))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[Di])],t),t})(),mu=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoPagerTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})();let Pa=(()=>{let t=class{constructor(e){this.ngZone=e,this.changes=new Ze.xQ,this.elements=[],this.subscriptions=new Ie.w,this.headerSubscription=new Ie.w,this.bodySubscription=new Ie.w,this.subscriptions.add(this.changes.subscribe(o=>this.scrollLeft(o)))}registerEmitter(e,o){this.unregister(o),this.elements.push({element:e,sourceType:o}),("body"===o||"header"===o)&&this.ngZone.runOutsideAngular(()=>{const s=(0,mt.R)(e,"scroll").pipe((0,xe.U)(({target:{scrollLeft:a}})=>({scrollLeft:a,sourceType:o}))),r=s.pipe((0,nB.x)((a,l)=>a.scrollLeft===l.scrollLeft),(0,ee.h)(a=>!this.source||this.source===a.sourceType),(0,ze.b)(a=>this.source=a.sourceType)).subscribe(a=>this.changes.next(a));r.add(s.pipe((0,ee.h)(a=>this.source&&this.source!==a.sourceType)).subscribe(()=>this.source=void 0)),"body"===o?this.bodySubscription.add(r):this.headerSubscription.add(r)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:o}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(s=>o!==s.sourceType).forEach(({element:s})=>s.scrollLeft=e)})}unregister(e){const o=this.elements.findIndex(s=>s.sourceType===e);o>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new Ie.w):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new Ie.w),this.elements.splice(o,1))}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[i.R0b])],t),t})();class JX extends Ma{constructor(n){super(),this.originalEvent=n}}let xs=(()=>{let t=class{constructor(e,o,s,r,a){this.popupService=e,this.renderer=o,this.ngZone=s,this.localization=a,this.onClose=new Ze.xQ,this.scrollSubscription=r.changes.subscribe(()=>this.destroy())}open(e,o,s,r="k-grid-filter-popup"){const a=U(s)&&this.popupRef===s;if(this.destroy(),!a){const l=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:l},popupAlign:{vertical:"top",horizontal:l},anchor:e,popupClass:r,content:o,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",o=>{if(!((t,n)=>{for(;t;){if(n(t))return!0;t=t.parentNode}return!1})(o.target,s=>this.popupRef.popupElement===s||s===e)){const s=new JX(o);this.onClose.next(s),s.isDefaultPrevented()||this.destroy()}}))}};return t.\u0275fac=function(e){return new(e||t)(i.LFG($e),i.LFG(i.Qsj),i.LFG(i.R0b),i.LFG(Pa),i.LFG(I))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[$e,i.Qsj,i.R0b,Pa,I])],t),t})();const KX={left:"0px",right:"0px"};let Ht=(()=>{let t=class{constructor(){this.visibilityChange=new i.vpe,this.lockedChange=new i.vpe,this.stickyChange=new i.vpe,this.columnRangeChange=new i.vpe,this.columnsContainer=new rg(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get leafNamedColumns(){const e=Xo(this.list().filterSort(o=>!o.isColumnGroup)).filter(o=>o.matchesMedia&&o.displayTitle);return ju(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}stickyColumnsStyles(e){if(this.stickyColumns||(this.stickyColumns=this.list().rootColumns().filter(s=>s.sticky&&!s.locked&&s.isVisible)),0===this.stickyColumns.length)return KX;const o=this.stickyColumns.reduce((s,r)=>(r.leafIndex<e.leafIndex?s.left+=r.width:r.leafIndex>e.leafIndex&&(s.right+=r.width),s),{left:0,right:0});return{left:`${o.left}px`,right:`${o.right}px`}}init(e,o){this.columnsContainer=e,this.list=o,this.stickyColumns=null}changeVisibility(e){this.stickyColumns=null,this.visibilityChange.emit(e)}changeLocked(e){this.stickyColumns=null,this.lockedChange.emit(e)}changeStuck(e){this.stickyColumns=null,this.stickyChange.emit(e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),Va=(()=>{class t{constructor(){this.changes=new Ze.xQ}sort(e){this.changes.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();let ug=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridCellLoadingTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})();new i.OlP("grid-scroll-service-factory");let hg=(()=>{class t extends zi{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=i.n5z(t)))(o||t)}}(),t.\u0275dir=i.lG2({type:t,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",gridLabel:"gridLabel",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel",groupCollapse:"groupCollapse",groupExpand:"groupExpand"},features:[i.qOj]}),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"groupPanelEmpty",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"noRecords",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerFirstPage",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerLastPage",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerPreviousPage",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerNextPage",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerPage",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerItemsPerPage",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerOf",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerItems",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"pagerPageNumberInputTitle",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterInputLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterMenuTitle",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterMenuOperatorsDropDownLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterMenuLogicDropDownLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterEqOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterNotEqOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterIsNullOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterIsNotNullOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterIsEmptyOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterIsNotEmptyOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterStartsWithOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterContainsOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterNotContainsOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterEndsWithOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterGteOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterGtOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterLteOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterLtOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterIsTrue",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterIsFalse",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterBooleanAll",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterAfterOrEqualOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterAfterOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterBeforeOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterBeforeOrEqualOperator",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterFilterButton",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterClearButton",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterAndLogic",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterOrLogic",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"loading",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"gridLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"columnMenu",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"setColumnPosition",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"columns",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"lock",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"unlock",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"stick",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"unstick",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"sortable",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"sortAscending",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"sortDescending",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"sortedAscending",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"sortedDescending",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"sortedDefault",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"columnsApply",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"columnsReset",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"detailExpand",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"detailCollapse",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterDateToday",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterDateToggle",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterNumericDecrement",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterNumericIncrement",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"selectionCheckboxLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"selectAllCheckboxLabel",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"groupCollapse",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"groupExpand",void 0),t})();var Ny;let fr=Ny=class extends hg{constructor(n){super(),this.service=n}};var Ly;fr.\u0275fac=function(n){return new(n||fr)(i.Y36(I))},fr.\u0275dir=i.lG2({type:fr,selectors:[["","kendoGridLocalizedMessages",""]],features:[i._Bn([{provide:hg,useExisting:(0,i.Gpc)(()=>Ny)}]),i.qOj]}),fr=Ny=h([u("design:paramtypes",[I])],fr);let gr=Ly=class extends hg{constructor(n){super(),this.service=n}get override(){return!0}};gr.\u0275fac=function(n){return new(n||gr)(i.Y36(I))},gr.\u0275cmp=i.Xpm({type:gr,selectors:[["kendo-grid-messages"]],features:[i._Bn([{provide:hg,useExisting:(0,i.Gpc)(()=>Ly)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),gr=Ly=h([u("design:paramtypes",[I])],gr);let Py=(()=>{let t=class{constructor(e,o){this.localization=e,this.columnInfoService=o,this.columns=[],this.groups=[],this.filterRowClass=!0}addStickyStyles(e){const o=e.sticky?this.columnInfoService.stickyColumnsStyles(e):null;return Object.assign({},o,e.filterStyle)}filterLabel(e){const o=this.localization.get("filterInputLabel")||"";return Ri(o,"columnName",e.title||e.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Ht))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filter-row",o.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:nq,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,o){1&e&&(i.YNc(0,oq,1,2,"td",0),i.YNc(1,sq,1,2,"td",1),i.YNc(2,rq,1,9,"td",2)),2&e&&(i.Q6J("ngForOf",o.groups),i.xp6(1),i.Q6J("ngIf",null==o.detailTemplate?null:o.detailTemplate.templateRef),i.xp6(1),i.Q6J("ngForOf",o.columns))},directives:function(){return[x.sg,x.O5,zy,vc,x.PC,x.mk]},encapsulation:2}),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"columns",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"groups",void 0),h([(0,i.IIB)(),u("design:type",Ko)],t.prototype,"detailTemplate",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"logicalRowIndex",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"lockedColumnsCount",void 0),h([(0,i.pfw)("class.k-filter-row"),u("design:type",Boolean)],t.prototype,"filterRowClass",void 0),t=h([u("design:paramtypes",[I,Ht])],t),t})();const Cu=t=>{if(t)return ns(t)?{filters:Cu(t.filters),logic:t.logic}:Array.isArray(t)?t.map(Cu):(t=>(t=>{const n={};if(Object.assign(n,t),t.constructor!==Object){const e=t.constructor.prototype;Object.getOwnPropertyNames(e).forEach(o=>{"constructor"!==o&&e.hasOwnProperty(o)&&(n[o]=t[o])})}return n})(t))(t)};let zy=(()=>{let t=class{constructor(){this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=Cu(e)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return U(this.column.filterCellTemplateRef)}get isFilterable(){return U(this.column)&&!Xt(this.column.field)&&this.column.filterable}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:aq,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&i.YNc(0,pq,3,3,"ng-template",0),2&e&&i.Q6J("ngIf",o.isFilterable)},directives:function(){return[x.O5,x.RF,x.n9,X2,x.tP]},encapsulation:2}),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"filter",null),t})();const z2=(t=>n=>Object.keys(t).reduce((e,o)=>(e[t[o]]=n.get(o),e),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),fg=t=>t.map(n=>n.toJSON());let Ge=(()=>{class t{constructor(e,o){this.operator=e,this.localization=o,this.messages=z2(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=Xt(e)?this.messages[this.operator]:e}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=z2(this.localization),e&&(this._text=this.messages[this.operator])}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,inputs:{text:"text"}}),h([(0,i.IIB)(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"text",null),t})();const hc=(t,n,e,o)=>U(n)&&U(n.filters)&&n.filters.length>t?n.filters[t]:((t,n,e)=>((n=n||{filters:[],logic:"and"}).filters[t]=e,e))(t,n,{field:e,operator:o}),fc=t=>[{text:t.get("filterAndLogic"),value:"and"},{text:t.get("filterOrLogic"),value:"or"}],Gy=t=>U(t.filters)?t.filters.reduce((n,e)=>n.concat(ns(e)?Gy(e):[e]),[]):[],G2=(t,n)=>{U(t)&&U(t.filters)&&(t.filters=t.filters.filter(e=>ns(e)?(G2(e,n),e.filters.length):e.field!==n))},wu=(t,n)=>Gy(t||{}).filter(e=>e.field===n),Vy=(t,n)=>(G2(t,n),t),gg=t=>n=>Object.keys(t).map(e=>({text:n.get(e),value:t[e]}));let gc=(()=>{class t{constructor(e){this.filterService=e,this.operatorList=new i.n_E}get hostClasses(){return!0}get operators(){return this._operators.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=Xf(this.operatorList).pipe((0,xe.U)(e=>e.toArray()),(0,xe.U)(fg)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((t,n)=>{let[e]=wu(t,n);return e})(this.filter,e)}filtersByField(e){return wu(this.filter,e)}removeFilter(e){return Vy(this.filter,e)}updateFilter(e){const o=this.filter||{filters:[],logic:"and"};let[s]=Gy(o).filter(r=>r.field===e.field);return U(s)?Object.assign(s,e):o.filters.push(e),o}applyFilter(e){this.filterService.filter(e)}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,contentQueries:function(e,o,s){if(1&e&&i.Suo(s,Ge,4),2&e){let r;i.iGM(r=i.CRH())&&(o.operatorList=r)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell",o.hostClasses)}}),h([(0,i.pfw)("class.k-filtercell"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.AcB)(Ge),u("design:type",i.n_E)],t.prototype,"operatorList",void 0),t})();const V2=gg({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let H2=(()=>{class t extends gc{constructor(e,o){super(e),this.localization=o,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=V2(this.localization)}set format(e){this._format=e}get format(){return Xt(this._format)?this.columnFormat:this._format}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!Xt(this.column.format)?fy(this.column.format):"n2"}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=V2(this.localization),this.operatorList.length&&(this.operators=fg(this.operatorList.toArray()))}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[i.qOj]}),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"operator",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"step",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"min",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"max",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"spinners",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"decimals",void 0),h([(0,i.IIB)(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"format",null),t})(),mg=(()=>{let t=class extends H2{constructor(e,o){super(e,o),this.localization=o,this.filterDelay=500,this.showOperators=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return Ri(e,"columnName",this.column.title||this.column.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[i.qOj],decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-wrapper-cell",0),i.TgZ(1,"kendo-numerictextbox",1),i._UZ(2,"kendo-numerictextbox-messages",2),i.qZA(),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("defaultOperator",o.operator)("showOperators",o.showOperators),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("filterDelay",o.filterDelay)("autoCorrect",!0)("value",null==o.currentFilter?null:o.currentFilter.value)("format",o.format)("decimals",o.decimals)("spinners",o.spinners)("min",o.min)("max",o.max)("step",o.step),i.xp6(1),i.Q6J("increment",o.messageFor("filterNumericIncrement"))("decrement",o.messageFor("filterNumericDecrement")))},directives:function(){return[mc,Ne,Qi,Xn,zs]},encapsulation:2}),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"filterDelay",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showOperators",void 0),t=h([u("design:paramtypes",[it,I])],t),t})(),Xn=(()=>{let t=class{constructor(e,o,s,r){this.element=s,this.renderer=r,this.change=new i.vpe,this.composing=!1,this.filterDelay=500,this.changeRequests=new Ze.xQ,this.accessor=e[0],o.runOutsideAngular(()=>{const a=r.listen(s.nativeElement,"compositionstart",()=>this.composing=!0),l=r.listen(s.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{a(),l()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.addAriaAttributes(),this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){ht("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe((0,Yu.b)(this.filterDelay),(0,ee.h)(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}addAriaAttributes(){const e=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&W()){const o=this.element.nativeElement.querySelector(`#${this.kendoInput.focusableId}`);this.renderer.setAttribute(o,"aria-label",e)}else this.renderer.setAttribute(this.element.nativeElement,"aria-label",e)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(X.JU,2),i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoFilterInput",""]],contentQueries:function(e,o,s){if(1&e&&i.Suo(s,qe,7),2&e){let r;i.iGM(r=i.CRH())&&(o.kendoInput=r.first)}},inputs:{filterDelay:"filterDelay",value:"value",columnLabel:"columnLabel"},features:[i.TTD]}),h([(0,i.aQ5)(qe,{static:!0}),u("design:type",Object)],t.prototype,"kendoInput",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"filterDelay",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"columnLabel",void 0),h([(0,i.IIB)(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"value",null),t=h([ue(0,(0,i.PiD)()),ue(0,(0,i.tBr)(X.JU)),u("design:paramtypes",[Array,i.R0b,i.SBq,i.Qsj])],t),t})();const MW=new Set(["isnull","isnotnull","isempty","isnotempty"]),vg=t=>MW.has(t);let Y2=(()=>{class t extends gc{constructor(e){super(e),this.operators=[]}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const o=vg(e);this.filterInputDisabled=o,o?this.applyNoValueFilter(e):!uy(e)&&U(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return Xt(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){!this.input||(this.input.disabled=e)}ngAfterContentInit(){U(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=vg(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){(!Xt(e)||this.filterByField(this.column.field))&&this.filterChange(Xt(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=vg(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){ht("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=vg(this.currentOperator))}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,contentQueries:function(e,o,s){if(1&e&&i.Suo(s,Xn,5),2&e){let r;i.iGM(r=i.CRH())&&(o.input=r.first)}},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[i.qOj,i.TTD]}),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"operators",void 0),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.aQ5)(Xn,{static:!1}),u("design:type",Xn)],t.prototype,"input",void 0),h([(0,i.IIB)(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"defaultOperator",null),t})();const EW=["isnull","isnotnull","isempty","isnotempty"];let mc=(()=>{let t=class extends Y2{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return U(e)&&(!Xt(e.value)||EW.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell-wrapper",o.hostClasses)("k-filtercell",o.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[i.qOj],ngContentSelectors:dy,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,o){1&e&&(i.F$t(),i.Hsn(0),i.TgZ(1,"kendo-grid-filter-cell-operators",0),i.NdJ("clear",function(){return o.onClear()})("valueChange",function(r){return o.currentOperator=r}),i.qZA()),2&e&&(i.xp6(1),i.Q6J("showOperators",o.showOperators)("operators",o.operators)("showButton",o.showButton)("value",o.currentOperator))},directives:function(){return[Hy]},encapsulation:2}),h([(0,i.pfw)("class.k-filtercell-wrapper"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.pfw)("class.k-filtercell"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"overrideBaseClasses",null),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showOperators",void 0),t=h([u("design:paramtypes",[it])],t),t})();const BW=gg({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let $2=(()=>{class t extends gc{constructor(e,o){super(e),this.localization=o,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=BW(this.localization),this.operatorList.length&&(this.operators=fg(this.operatorList.toArray()))}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,inputs:{operator:"operator",column:"column",filter:"filter"},features:[i.qOj]}),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"operator",void 0),t})(),Su=(()=>{let t=class extends $2{constructor(e,o){super(e,o),this.filterDelay=500,this.showOperators=!0}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return Ri(e,"columnName",this.column.title||this.column.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[i.qOj],decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-wrapper-cell",0),i._UZ(1,"input",1),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("defaultOperator",o.operator)("showOperators",o.showOperators),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("filterDelay",o.filterDelay)("ngModel",null==o.currentFilter?null:o.currentFilter.value))},directives:[mc,X.Fj,Qi,Xn,X.JJ,X.On],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"filterDelay",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showOperators",void 0),t=h([u("design:paramtypes",[it,I])],t),t})(),Hy=(()=>{let t=class{constructor(e){this.localization=e,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new i.vpe,this.clear=new i.vpe}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){(e.keyCode===R.Enter||e.keyCode===R.Space)&&this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode===R.Enter&&!this.dropdown.isOpen&&(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.localization.changes.subscribe(()=>this.clearText=this.localization.get("filterClearButton"))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,o){if(1&e&&i.Gf(hq,5),2&e){let s;i.iGM(s=i.CRH())&&(o.dropdown=s.first)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell-operator",o.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,o){1&e&&(i.YNc(0,fq,2,5,"kendo-dropdownlist",0),i.TgZ(1,"button",1),i.NdJ("click",function(){return o.clearClick()})("keydown",function(r){return o.clearKeydown(r)}),i._UZ(2,"span",2),i.qZA()),2&e&&(i.Q6J("ngIf",o.showOperators),i.xp6(1),i.Q6J("ngClass",i.VKq(3,gq,o.showButton))("title",o.clearText))},directives:[x.O5,Qi,x.mk,ce],encapsulation:2}),h([(0,i.pfw)("class.k-filtercell-operator"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.i9L)("dropdown",{static:!1}),u("design:type",ce)],t.prototype,"dropdown",void 0),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"operators",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showButton",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showOperators",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"value",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"valueChange",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"clear",void 0),t=h([u("design:paramtypes",[I])],t),t})();const FW=gg({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let J2=(()=>{let t=class extends gc{constructor(e,o,s){super(e),this.localization=s,this.showOperators=!0,this.defaultOperators=FW(this.localization),this.column=o}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it),i.Y36(Re),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[i.qOj],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-wrapper-cell",0),i._UZ(1,"kendo-autocomplete",1),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("showOperators",o.showOperators),i.xp6(1),i.Q6J("data",o.data)("valueField",o.valueField)("value",null==o.currentFilter?null:o.currentFilter.value))},directives:[mc,Te,Xn],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showOperators",void 0),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"data",void 0),h([(0,i.IIB)(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"valueField",null),t=h([u("design:paramtypes",[it,Re,I])],t),t})(),j2=(()=>{class t extends gc{constructor(e,o){super(e),this.localization=o,this.operator="eq",this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell-boolean",o.hostClasses)},inputs:{column:"column",filter:"filter"},features:[i.qOj]}),h([(0,i.pfw)("class.k-filtercell-boolean"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),t})(),_g=(()=>{let t=class extends j2{constructor(e,o,s){super(e,o),this.cd=s}localizationChange(){super.localizationChange(),this.cd.markForCheck()}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return Ri(e,"columnName",this.column.title||this.column.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it),i.Y36(I),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-boolean-filter-cell"]],features:[i.qOj],decls:2,vars:11,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-wrapper-cell",0),i._UZ(1,"kendo-dropdownlist",1),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("showOperators",!1)("defaultOperator",o.operator),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("defaultItem",o.defaultItem)("data",o.items)("popupSettings",i.DdM(10,VD))("valuePrimitive",!0)("value",null==o.currentFilter?null:o.currentFilter.value))},directives:[mc,ce,Xn,Qi],encapsulation:2}),t=h([u("design:paramtypes",[it,I,i.sBO])],t),t})();const q2=gg({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let Z2=(()=>{class t extends gc{constructor(e,o){super(e),this.localization=o,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=q2(this.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return Xt(this._format)?this.columnFormat:this._format}get columnFormat(){return this.column&&!Xt(this.column.format)?fy(this.column.format):"d"}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=q2(this.localization),this.operatorList.length&&(this.operators=fg(this.operatorList.toArray()))}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[i.qOj]}),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"operator",void 0),h([(0,i.IIB)(),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"format",null),h([(0,i.IIB)(),u("design:type",Date)],t.prototype,"min",void 0),h([(0,i.IIB)(),u("design:type",Date)],t.prototype,"max",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"formatPlaceholder",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"placeholder",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"activeView",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"bottomView",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"topView",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"weekNumber",void 0),t})(),yg=(()=>{let t=class extends Z2{constructor(e,o){super(e,o),this.localization=o,this.showOperators=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return Ri(e,"columnName",this.column.title||this.column.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[i.qOj],decls:3,vars:18,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-wrapper-cell",0),i.TgZ(1,"kendo-datepicker",1),i._UZ(2,"kendo-datepicker-messages",2),i.qZA(),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("defaultOperator",o.operator)("showOperators",o.showOperators),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("value",null==o.currentFilter?null:o.currentFilter.value)("format",o.format)("formatPlaceholder",o.formatPlaceholder)("placeholder",o.placeholder)("activeView",o.activeView)("bottomView",o.bottomView)("topView",o.topView)("min",o.min)("max",o.max)("weekNumber",o.weekNumber),i.xp6(1),i.Q6J("toggle",o.messageFor("filterDateToggle"))("today",o.messageFor("filterDateToday")))},directives:[mc,de,Xn,Qi,Xs],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showOperators",void 0),t=h([u("design:paramtypes",[it,I])],t),t})(),mr=(()=>{let t=class{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this)}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(o=>o!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,o)=>e||o.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(o=>o.toggle(e)))}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(ho))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[ho])],t),t})(),OW=0,vc=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c){this.focusGroup=e,this.element=o,this.columnInfoService=s,this.idService=r,this.navigationService=a,this.renderer=l,this.zone=d,this.cellContext=c,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=OW++}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){!this.navigationService.enabled||(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){!this.navigationService.enabled||-1===this.logicalColIndex||(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(e){if(!this.navigationService.enabled)return;const o=Object.keys(e);if(1===o.length&&"groupItem"===o[0]||-1===this.logicalColIndex)return;const s=e.logicalColIndex,r=e.logicalRowIndex,a=s&&!s.isFirstChange()?s.previousValue:this.logicalColIndex,l=r&&!r.isFirstChange()?r.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(a,l,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-state-focused")),this.headerLabelText&&e.setAttribute("aria-label","")):(this.renderer.removeClass(e,"k-state-focused"),this.headerLabelText&&e.setAttribute("aria-label",this.headerLabelText))}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(mr),i.Y36(i.SBq),i.Y36(Ht),i.Y36(mi),i.Y36(tt),i.Y36(i.Qsj),i.Y36(i.R0b),i.Y36(Ni,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,o){2&e&&i.uIk("id",o.id)("aria-colindex",o.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem",headerLabelText:"headerLabelText"},features:[i._Bn([{provide:mr,deps:[ho],useClass:mr}]),i.TTD]}),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"logicalColIndex",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"logicalRowIndex",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"logicalSlaveCell",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"colIndex",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"colSpan",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"rowSpan",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"groupItem",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"dataRowIndex",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"dataItem",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"detailExpandCell",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"headerLabelText",void 0),h([(0,i.pfw)("attr.id"),u("design:type",String),u("design:paramtypes",[])],t.prototype,"id",null),h([(0,i.pfw)("attr.aria-colindex"),u("design:type",Number),u("design:paramtypes",[])],t.prototype,"ariaColIndex",null),t=h([ue(7,(0,i.FiY)()),ue(7,(0,i.tBr)(Ni)),u("design:paramtypes",[mr,i.SBq,Ht,mi,tt,i.Qsj,i.R0b,Object])],t),t})();let Ts=(()=>{let t=class{static exports(){return[Re,An,Wo,cu,Ko,Qi]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez],Lu,Kt]}),t})();var Qy;let Ha=Qy=class extends Ge{constructor(n){super("contains",n)}};var Xy;Ha.\u0275fac=function(n){return new(n||Ha)(i.Y36(I))},Ha.\u0275cmp=i.Xpm({type:Ha,selectors:[["kendo-filter-contains-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>Qy)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Ha=Qy=h([u("design:paramtypes",[I])],Ha);let Ya=Xy=class extends Ge{constructor(n){super("doesnotcontain",n)}};var Wy;Ya.\u0275fac=function(n){return new(n||Ya)(i.Y36(I))},Ya.\u0275cmp=i.Xpm({type:Ya,selectors:[["kendo-filter-not-contains-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>Xy)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Ya=Xy=h([u("design:paramtypes",[I])],Ya);let $a=Wy=class extends Ge{constructor(n){super("endswith",n)}};var Ky;$a.\u0275fac=function(n){return new(n||$a)(i.Y36(I))},$a.\u0275cmp=i.Xpm({type:$a,selectors:[["kendo-filter-endswith-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>Wy)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),$a=Wy=h([u("design:paramtypes",[I])],$a);let Ja=Ky=class extends Ge{constructor(n){super("eq",n)}};var eb;Ja.\u0275fac=function(n){return new(n||Ja)(i.Y36(I))},Ja.\u0275cmp=i.Xpm({type:Ja,selectors:[["kendo-filter-eq-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>Ky)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Ja=Ky=h([u("design:paramtypes",[I])],Ja);let ja=eb=class extends Ge{constructor(n){super("isempty",n)}};var tb;ja.\u0275fac=function(n){return new(n||ja)(i.Y36(I))},ja.\u0275cmp=i.Xpm({type:ja,selectors:[["kendo-filter-isempty-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>eb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),ja=eb=h([u("design:paramtypes",[I])],ja);let qa=tb=class extends Ge{constructor(n){super("isnotempty",n)}};var ib;qa.\u0275fac=function(n){return new(n||qa)(i.Y36(I))},qa.\u0275cmp=i.Xpm({type:qa,selectors:[["kendo-filter-isnotempty-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>tb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),qa=tb=h([u("design:paramtypes",[I])],qa);let Za=ib=class extends Ge{constructor(n){super("isnotnull",n)}};var nb;Za.\u0275fac=function(n){return new(n||Za)(i.Y36(I))},Za.\u0275cmp=i.Xpm({type:Za,selectors:[["kendo-filter-isnotnull-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>ib)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Za=ib=h([u("design:paramtypes",[I])],Za);let Ua=nb=class extends Ge{constructor(n){super("isnull",n)}};var ob;Ua.\u0275fac=function(n){return new(n||Ua)(i.Y36(I))},Ua.\u0275cmp=i.Xpm({type:Ua,selectors:[["kendo-filter-isnull-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>nb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Ua=nb=h([u("design:paramtypes",[I])],Ua);let Qa=ob=class extends Ge{constructor(n){super("neq",n)}};var sb;Qa.\u0275fac=function(n){return new(n||Qa)(i.Y36(I))},Qa.\u0275cmp=i.Xpm({type:Qa,selectors:[["kendo-filter-neq-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>ob)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Qa=ob=h([u("design:paramtypes",[I])],Qa);let Xa=sb=class extends Ge{constructor(n){super("startswith",n)}};var rb;Xa.\u0275fac=function(n){return new(n||Xa)(i.Y36(I))},Xa.\u0275cmp=i.Xpm({type:Xa,selectors:[["kendo-filter-startswith-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>sb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Xa=sb=h([u("design:paramtypes",[I])],Xa);let Wa=rb=class extends Ge{constructor(n){super("gt",n)}};var ab;Wa.\u0275fac=function(n){return new(n||Wa)(i.Y36(I))},Wa.\u0275cmp=i.Xpm({type:Wa,selectors:[["kendo-filter-gt-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>rb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Wa=rb=h([u("design:paramtypes",[I])],Wa);let Ka=ab=class extends Ge{constructor(n){super("gte",n)}};var lb;Ka.\u0275fac=function(n){return new(n||Ka)(i.Y36(I))},Ka.\u0275cmp=i.Xpm({type:Ka,selectors:[["kendo-filter-gte-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>ab)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),Ka=ab=h([u("design:paramtypes",[I])],Ka);let el=lb=class extends Ge{constructor(n){super("lt",n)}};var cb;el.\u0275fac=function(n){return new(n||el)(i.Y36(I))},el.\u0275cmp=i.Xpm({type:el,selectors:[["kendo-filter-lt-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>lb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),el=lb=h([u("design:paramtypes",[I])],el);let tl=cb=class extends Ge{constructor(n){super("lte",n)}};var db;tl.\u0275fac=function(n){return new(n||tl)(i.Y36(I))},tl.\u0275cmp=i.Xpm({type:tl,selectors:[["kendo-filter-lte-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>cb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),tl=cb=h([u("design:paramtypes",[I])],tl);let il=db=class extends Ge{constructor(n){super("after",n)}toJSON(){return{text:this.text,value:"gt"}}};var ub;il.\u0275fac=function(n){return new(n||il)(i.Y36(I))},il.\u0275cmp=i.Xpm({type:il,selectors:[["kendo-filter-after-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>db)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),il=db=h([u("design:paramtypes",[I])],il);let nl=ub=class extends Ge{constructor(n){super("after-eq",n)}toJSON(){return{text:this.text,value:"gte"}}};var pb;nl.\u0275fac=function(n){return new(n||nl)(i.Y36(I))},nl.\u0275cmp=i.Xpm({type:nl,selectors:[["kendo-filter-after-eq-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>ub)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),nl=ub=h([u("design:paramtypes",[I])],nl);let ol=pb=class extends Ge{constructor(n){super("before-eq",n)}toJSON(){return{text:this.text,value:"lte"}}};var hb;ol.\u0275fac=function(n){return new(n||ol)(i.Y36(I))},ol.\u0275cmp=i.Xpm({type:ol,selectors:[["kendo-filter-before-eq-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>pb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),ol=pb=h([u("design:paramtypes",[I])],ol);let sl=hb=class extends Ge{constructor(n){super("before",n)}toJSON(){return{text:this.text,value:"lt"}}};sl.\u0275fac=function(n){return new(n||sl)(i.Y36(I))},sl.\u0275cmp=i.Xpm({type:sl,selectors:[["kendo-filter-before-operator"]],features:[i._Bn([{provide:Ge,useExisting:(0,i.Gpc)(()=>hb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),sl=hb=h([u("design:paramtypes",[I])],sl);const GW=[Hy,Ha,Ya,$a,Ja,ja,qa,Za,Ua,Qa,Xa,Wa,Ka,el,tl,il,nl,ol,sl],VW=[x.ez,X.UX,X.u5,Ev,Mv,Rp,pd,yn,Ts];let _c=(()=>{let t=class{static exports(){return[...GW]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[...VW],x.ez,X.UX,X.u5,Ev,Mv,Rp,pd,yn,Ts]}),t})(),Q2=(()=>{class t{constructor(e,o){this.host=e,this.resolver=o}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){bt(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:o}){const s=this.component.instance;s.column=e,s.filter=o}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,inputs:{column:"column",filter:"filter"},features:[i.TTD]}),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),t})(),X2=(()=>{let t=class extends Q2{constructor(e,o){super(e,o)}componentType(){return Xt(this.column.filter)?Su:(t=>({boolean:_g,date:yg,numeric:mg,text:Su}[this.column.filter]))()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i._Vd))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoFilterCellHost",""]],features:[i.qOj]}),t=h([u("design:paramtypes",[i.s_b,i._Vd])],t),t})(),wg=(()=>{let t=class{static exports(){return[Py,zy,du,Hy,Su,mg,J2,_g,yg,_c.exports()]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[_c],_c]}),t})(),fb=(()=>{let t=class{constructor(e,o){this.host=e,this.renderer=o}ngAfterViewInit(){this.renderer.addClass(this.host.numericInput.nativeElement,"k-pager-nav")}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ne),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridPagerInput",""]]}),t=h([u("design:paramtypes",[Ne,i.Qsj])],t),t})(),gb=(()=>{let t=class{constructor(e){this.host=e,this.keydownHandler=o=>{o.keyCode===R.Escape&&this.host.isOpen&&(o.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){this.host.wrapper.nativeElement.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ce))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridPagerDropDown",""]]}),t=h([u("design:paramtypes",[ce])],t),t})();const W2=t=>(({buttonCount:t=10,info:n=!0,type:e="numeric",pageSizes:o=!1,previousNext:s=!0,responsive:r=!0,position:a="bottom"})=>({buttonCount:t,info:n,pageSizes:!0===o?[5,10,20]:o,previousNext:s,type:e,responsive:r,position:a}))(!0===t?{}:t);let mb=(()=>{let t=class{constructor(e,o,s,r,a,l,d,c,p){this.pagerContext=e,this.navigationService=o,this.element=s,this.renderer=r,this.zone=a,this.localizationService=l,this.cellContext=d,this.focusRoot=c,this.focusGroup=p,this.total=0,this.skip=1,this.pageChange=new i.vpe,this.pagerWrapClass=!0,this.gridPagerClass=!0,this.widgetClass=!0,this.settings=W2({}),this.subscriptions=new Ie.w,this._templateContext={},this._isFocused=!1,this.resizeHandler=()=>{const m=this.element.nativeElement;if(this.template||!m)return;const f=m.offsetWidth;f<600?(this.renderer.removeClass(m,"k-pager-md"),this.renderer.addClass(m,"k-pager-sm")):f>=600&&f<768?(this.renderer.addClass(m,"k-pager-md"),this.renderer.removeClass(m,"k-pager-sm")):this.clearResponsiveClasses()}}set options(e){this.settings=W2(e)}get isFocused(){return this._isFocused}get pagerAriaLabel(){return this.navigationService.enabled?this.pagerLabel:void 0}get pagerLabel(){const e=this.localizationService.get("pagerLabel")||"";return Ri(Ri(e,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}get focusTrapTabIndex(){return this.focusGroup.isActive?"0":"-1"}onFocusIn(e){this.navigationService.enabled&&(e.target===this.element.nativeElement?(this._isFocused=!0,this.focusRoot.deactivate()):this.focusRoot.activate())}onFocusOut(){this.navigationService.enabled&&(this._isFocused=!1)}onEscape(){this.navigationService.enabled&&(this.focusRoot.deactivate(),this.element.nativeElement.focus())}onEnter(e){this.navigationService.enabled&&e.target===this.element.nativeElement&&(this.focusRoot.activate(),this.focusFirstElement())}navigateToPreviousPage(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.prevPage()}navigateToNextPage(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.nextPage()}navigateToFirstPage(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.changePage(0)}navigateToLastPage(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.changePage(this.totalPages-1)}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.navigationService.enabled&&this.focusRoot.deactivate()}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){bt(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total}),e.template&&(e.template.currentValue?this.clearResponsiveClasses():this.resizeHandler()),e.options&&(this.settings.responsive?this.resizeHandler():this.clearResponsiveClasses())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}changePage(e){this.pageChange.emit(e)}onInnerFocusIn(e,o){this.zone.onStable.pipe((0,nt.q)(1)).subscribe(()=>{"start"===o?e.relatedTarget===this.element.nativeElement?this.focusFirstElement():this.focusLastElement():this.focusFirstElement()})}clearResponsiveClasses(){const e=this.element.nativeElement;this.renderer.removeClass(e,"k-pager-sm"),this.renderer.removeClass(e,"k-pager-md")}shouldTriggerPageChange(e,o){return this.navigationService.enabled&&e===this.element.nativeElement&&o}focusFirstElement(){const e=XD(this.element.nativeElement,!0);e&&e.focus()}focusLastElement(){const e=((t,n=!0)=>((t,n,e=!0)=>{let o=null;return fo(t,s=>(n(s)&&(o=s),!1),e),o})(t,e=>su(e,n),!1))(this.element.nativeElement,!0);e&&e.focus()}updateCellContext(){this.cellContext&&(this.cellContext.focusGroup=this.focusGroup)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Li),i.Y36(tt),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b),i.Y36(I),i.Y36(Ni,8),i.Y36(ho),i.Y36(mr))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager"]],hostVars:9,hostBindings:function(e,o){1&e&&i.NdJ("focusin",function(r){return o.onFocusIn(r)})("focusout",function(){return o.onFocusOut()})("keydown.escape",function(){return o.onEscape()})("keydown.enter",function(r){return o.onEnter(r)})("keydown.arrowleft",function(r){return o.navigateToPreviousPage(r)})("keydown.pageup",function(r){return o.navigateToPreviousPage(r)})("keydown.arrowright",function(r){return o.navigateToNextPage(r)})("keydown.pagedown",function(r){return o.navigateToNextPage(r)})("keydown.home",function(r){return o.navigateToFirstPage(r)})("keydown.end",function(r){return o.navigateToLastPage(r)}),2&e&&(i.uIk("aria-label",o.pagerAriaLabel),i.ekj("k-pager-wrap",o.pagerWrapClass)("k-grid-pager",o.gridPagerClass)("k-widget",o.widgetClass)("k-state-focused",o.isFocused))},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[i._Bn([{provide:eg,useValue:!0},{provide:ho,deps:[eg],useClass:ho},{provide:mr,deps:[ho],useClass:mr}]),i.TTD],decls:5,vars:5,consts:[["class","k-sr-only",3,"tabindex","focusin",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[1,"k-sr-only",3,"tabindex","focusin"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"],["pageSizes",""],[3,"resize"]],template:function(e,o){1&e&&(i.YNc(0,wq,1,2,"div",0),i.YNc(1,Sq,1,2,"ng-container",1),i.YNc(2,Eq,7,6,"ng-container",2),i.YNc(3,Bq,1,2,"div",0),i.YNc(4,Fq,1,0,"kendo-resize-sensor",3)),2&e&&(i.Q6J("ngIf",o.navigationService.enabled),i.xp6(1),i.Q6J("ngIf",null==o.template?null:o.template.templateRef),i.xp6(1),i.Q6J("ngIf",!(null!=o.template&&o.template.templateRef)),i.xp6(1),i.Q6J("ngIf",o.navigationService.enabled),i.xp6(1),i.Q6J("ngIf",o.settings.responsive))},directives:function(){return[x.O5,x.tP,vb,yb,bb,_b,Cb,wb,ai]},encapsulation:2}),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"total",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"skip",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"pageSize",void 0),h([(0,i.IIB)(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"options",null),h([(0,i.IIB)(),u("design:type",mu)],t.prototype,"template",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"pageChange",void 0),h([(0,i.pfw)("class.k-pager-wrap"),u("design:type",Boolean)],t.prototype,"pagerWrapClass",void 0),h([(0,i.pfw)("class.k-grid-pager"),u("design:type",Boolean)],t.prototype,"gridPagerClass",void 0),h([(0,i.pfw)("class.k-widget"),u("design:type",Boolean)],t.prototype,"widgetClass",void 0),h([(0,i.pfw)("class.k-state-focused"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"isFocused",null),h([(0,i.pfw)("attr.aria-label"),u("design:type",String),u("design:paramtypes",[])],t.prototype,"pagerAriaLabel",null),h([(0,i.L6J)("focusin",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onFocusIn",null),h([(0,i.L6J)("focusout"),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],t.prototype,"onFocusOut",null),h([(0,i.L6J)("keydown.escape"),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],t.prototype,"onEscape",null),h([(0,i.L6J)("keydown.enter",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onEnter",null),h([(0,i.L6J)("keydown.arrowleft",["$event"]),(0,i.L6J)("keydown.pageup",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"navigateToPreviousPage",null),h([(0,i.L6J)("keydown.arrowright",["$event"]),(0,i.L6J)("keydown.pagedown",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"navigateToNextPage",null),h([(0,i.L6J)("keydown.home",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"navigateToFirstPage",null),h([(0,i.L6J)("keydown.end",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"navigateToLastPage",null),t=h([ue(6,(0,i.FiY)()),ue(6,(0,i.tBr)(Ni)),u("design:paramtypes",[Li,tt,i.SBq,i.Qsj,i.R0b,I,Object,ho,mr])],t),t})(),yc=(()=>{class t{constructor(e,o,s){this.localization=e,this.pagerContext=o,this.cd=s,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t}),t})(),vb=(()=>{let t=class extends yc{constructor(e,o,s,r){super(e,o,s),this.navigationService=r}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:o,pageSize:s}){this.total=e,this.skip=o,this.pageSize=s,this.cd.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Li),i.Y36(i.sBO),i.Y36(tt))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager-prev-buttons"]],features:[i.qOj],decls:4,vars:16,consts:[[3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,o){1&e&&(i.TgZ(0,"span",0),i.NdJ("click",function(){return 1!==o.currentPage&&o.changePage(0)})("keydown.enter",function(){return 1!==o.currentPage&&o.changePage(0)}),i._UZ(1,"span",1),i.qZA(),i.TgZ(2,"span",0),i.NdJ("click",function(){return 1!==o.currentPage&&o.changePage(o.currentPage-2)})("keydown.enter",function(){return 1!==o.currentPage&&o.changePage(o.currentPage-2)}),i._UZ(3,"span",1),i.qZA()),2&e&&(i.Q6J("kendoGridFocusable",!o.disabled)("title",o.textFor("pagerFirstPage"))("ngClass",i.VKq(10,Oq,o.disabled)),i.xp6(1),i.Q6J("ngClass",i.DdM(12,Rq)),i.uIk("aria-label",o.textFor("pagerFirstPage")),i.xp6(1),i.Q6J("kendoGridFocusable",!o.disabled)("title",o.textFor("pagerPreviousPage"))("ngClass",i.VKq(13,HD,o.disabled)),i.xp6(1),i.Q6J("ngClass",i.DdM(15,Aq)),i.uIk("aria-label",o.textFor("pagerPreviousPage")))},directives:[Qi,x.mk],encapsulation:2,changeDetection:0}),t=h([u("design:paramtypes",[I,Li,i.sBO,tt])],t),t})(),_b=(()=>{let t=class extends yc{constructor(e,o,s,r){super(e,o,s),this.navigationService=r}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:o,pageSize:s}){this.total=e,this.skip=o,this.pageSize=s,this.cd.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Li),i.Y36(i.sBO),i.Y36(tt))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager-next-buttons"]],features:[i.qOj],decls:4,vars:16,consts:[["tabindex","0",3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,o){1&e&&(i.TgZ(0,"span",0),i.NdJ("click",function(){return o.currentPage!==o.totalPages&&o.changePage(o.currentPage)})("keydown.enter",function(){return o.currentPage!==o.totalPages&&o.changePage(o.currentPage)}),i._UZ(1,"span",1),i.qZA(),i.TgZ(2,"span",0),i.NdJ("click",function(){return o.currentPage!==o.totalPages&&o.changePage(o.totalPages-1)})("keydown.enter",function(){return o.currentPage!==o.totalPages&&o.changePage(o.totalPages-1)}),i._UZ(3,"span",1),i.qZA()),2&e&&(i.Q6J("kendoGridFocusable",!o.disabled)("title",o.textFor("pagerNextPage"))("ngClass",i.VKq(10,HD,o.disabled)),i.xp6(1),i.Q6J("ngClass",i.DdM(12,Nq)),i.uIk("aria-label",o.textFor("pagerNextPage")),i.xp6(1),i.Q6J("kendoGridFocusable",!o.disabled)("title",o.textFor("pagerLastPage"))("ngClass",i.VKq(13,Lq,o.disabled)),i.xp6(1),i.Q6J("ngClass",i.DdM(15,Pq)),i.uIk("aria-label",o.textFor("pagerLastPage")))},directives:[Qi,x.mk],encapsulation:2,changeDetection:0}),t=h([u("design:paramtypes",[I,Li,i.sBO,tt])],t),t})(),yb=(()=>{let t=class extends yc{constructor(e,o,s){super(e,s,o),this.pagerContext=s,this.numbersWrapClass=!0}get buttons(){let e=[];for(let o=this.start;o<=this.end;o++)e.push(o);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,o=this.buttonCount;if(e>o){const s=e%o;return 0===s?e-o+1:e-s+1}return 1}pageLabel(e){const o=this.textFor("pagerPage");return o?o+" "+e:e.toString()}onSelectChange(e){const o=e.target,s=Number(o.value);Number.isNaN(s)?this.changePage("previousButtons"===o.value?this.start-2:this.end):this.changePage(s-1)}onChanges({total:e,skip:o,pageSize:s}){this.total=e,this.skip=o,this.pageSize=s,this.cd.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.sBO),i.Y36(Li))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager-numeric-buttons"]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-pager-numbers-wrap",o.numbersWrapClass)},inputs:{buttonCount:"buttonCount"},features:[i.qOj],decls:8,vars:9,consts:[["kendoGridFocusable","","tabindex","0",1,"k-dropdown","k-pager-nav",3,"value","change"],["class","k-link","value","previousButtons",4,"ngIf"],[3,"value","ngClass",4,"ngFor","ngForOf"],["value","nextButtons","class","k-link",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["value","previousButtons",1,"k-link"],[3,"value","ngClass"],["value","nextButtons",1,"k-link"],["kendoGridFocusable","","tabindex","0",1,"k-link","k-pager-nav",3,"click","keydown.enter"],["kendoGridFocusable","","tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,o){1&e&&(i.TgZ(0,"select",0),i.NdJ("change",function(r){return o.onSelectChange(r)}),i.YNc(1,zq,2,1,"option",1),i.YNc(2,Vq,2,7,"option",2),i.YNc(3,Hq,2,1,"option",3),i.qZA(),i.TgZ(4,"ul",4),i.YNc(5,Yq,3,1,"li",5),i.YNc(6,Jq,3,5,"li",6),i.YNc(7,jq,3,1,"li",5),i.qZA()),2&e&&(i.Q6J("value",o.currentPage.toString()),i.xp6(1),i.Q6J("ngIf",o.start>1),i.xp6(1),i.Q6J("ngForOf",o.buttons),i.xp6(1),i.Q6J("ngIf",o.end<o.totalPages),i.xp6(1),i.Q6J("ngClass",i.DdM(8,qq)),i.xp6(1),i.Q6J("ngIf",o.start>1),i.xp6(1),i.Q6J("ngForOf",o.buttons),i.xp6(1),i.Q6J("ngIf",o.end<o.totalPages))},directives:[Qi,x.O5,x.sg,x.mk],encapsulation:2,changeDetection:0}),h([(0,i.pfw)("class.k-pager-numbers-wrap"),u("design:type",Boolean)],t.prototype,"numbersWrapClass",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"buttonCount",void 0),t=h([u("design:paramtypes",[I,i.sBO,Li])],t),t})(),bb=(()=>{let t=class extends yc{constructor(e,o,s,r,a){super(e,o,a),this.pagerContext=o,this.zone=s,this.navigationService=r,this.handleKeyDown=l=>{let d=this.numericInput.value||this.current;l.keyCode===R.Enter&&(l.preventDefault(),d!==this.current&&this.zone.run(()=>{this.changePage(d-1)}))},this.handleBlur=()=>{const l=this.numericInput.value;l?l!==this.current&&this.zone.run(()=>{this.changePage(l-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:o,pageSize:s}){this.total=e,this.skip=o,this.pageSize=s,this.cd.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Li),i.Y36(i.R0b),i.Y36(tt),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager-input"]],viewQuery:function(e,o){if(1&e&&i.Gf(Ne,5),2&e){let s;i.iGM(s=i.CRH())&&(o.numericInput=s.first)}},features:[i.qOj],decls:4,vars:18,consts:[[3,"ngClass"],["kendoGridPagerInput","","tabindex","0","format","n0",3,"kendoGridFocusable","spinners","decimals","disabled","value","min","max","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,o){1&e&&(i.TgZ(0,"span",0),i._uU(1),i._UZ(2,"kendo-numerictextbox",1),i._uU(3),i.qZA()),2&e&&(i.Q6J("ngClass",i.DdM(14,Zq)),i.xp6(1),i.hij(" ",o.textFor("pagerPage")," "),i.xp6(1),i.Q6J("kendoGridFocusable",o.hasPages)("spinners",!1)("decimals",0)("disabled",!o.hasPages)("value",o.current)("min",o.hasPages?1:0)("max",o.totalPages)("autoCorrect",!0)("title",o.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",i.WLB(15,Uq,o.handleKeyDown,o.handleBlur)),i.xp6(1),i.AsE(" ",o.textFor("pagerOf")," ",o.totalPages," "))},directives:[x.mk,Ne,fb,Qi,kt],encapsulation:2}),h([(0,i.i9L)(Ne,{static:!1}),u("design:type",Ne)],t.prototype,"numericInput",void 0),t=h([u("design:paramtypes",[I,Li,i.R0b,tt,i.sBO])],t),t})(),Cb=(()=>{let t=class extends yc{constructor(e,o,s){super(e,s,o),this.pagerContext=s}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}get classes(){return!0}onChanges({total:e,skip:o,pageSize:s}){this.total=e,this.skip=o,this.pageSize=s,this.cd.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.sBO),i.Y36(Li))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,o){2&e&&i.ekj("k-pager-info",o.classes)("k-label",o.classes)},features:[i.qOj],decls:1,vars:5,template:function(e,o){1&e&&i._uU(0),2&e&&i.xDo("",o.currentPageText," - ",o.maxItems," ",o.textFor("pagerOf")," ",o.total," ",o.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),h([(0,i.pfw)("class.k-pager-info"),(0,i.pfw)("class.k-label"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"classes",null),t=h([u("design:paramtypes",[I,i.sBO,Li])],t),t})(),wb=(()=>{let t=class extends yc{constructor(e,o,s,r){super(e,s,o),this.pagerContext=s,this.navigationService=r,this._pageSizes=[]}get pageSizes(){return this._pageSizes}set pageSizes(e){let o=[];e.forEach(s=>{o.push("number"==typeof s?{text:s.toString(),value:s}:s)}),this.pageSize&&!o.some(s=>s.value===this.pageSize)&&(o=[{text:this.pageSize.toString(),value:this.pageSize},...o]),this._pageSizes=o}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}onChanges({total:e,skip:o,pageSize:s}){this.total=e,this.skip=o,this.pageSize="number"==typeof s?s:this.total,this.cd.markForCheck()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.sBO),i.Y36(Li),i.Y36(tt))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,o){2&e&&i.ekj("k-pager-sizes",o.classes)("k-label",o.classes)},inputs:{pageSizes:"pageSizes"},features:[i.qOj],decls:3,vars:5,consts:[["kendoGridPagerDropDown","","tabindex","0","kendoGridFocusable","","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange"],["dropdownlist",""],[3,"for","text"]],template:function(e,o){if(1&e&&(i.TgZ(0,"kendo-dropdownlist",0,1),i.NdJ("valueChange",function(r){return o.pageSizeChange(r)}),i.qZA(),i._UZ(2,"kendo-label",2)),2&e){const s=i.MAs(1);i.Q6J("data",o.pageSizes)("valuePrimitive",!0)("value",o.pageSize),i.xp6(2),i.Q6J("for",s)("text",o.textFor("pagerItemsPerPage"))}},directives:[ce,gb,Qi,ik],encapsulation:2,changeDetection:0}),h([(0,i.IIB)(),u("design:type",Array),u("design:paramtypes",[Array])],t.prototype,"pageSizes",null),h([(0,i.pfw)("class.k-pager-sizes"),(0,i.pfw)("class.k-label"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"classes",null),t=h([u("design:paramtypes",[I,i.sBO,Li,tt])],t),t})();const $W=[x.ez,Rp,QG,m8,_o,Ts];let K2=(()=>{let t=class{static exports(){return[mb,vb,_b,yb,bb,Cb,wb,mu,gb,fb]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[...$W]]}),t})();Wf(({target:t,field:n})=>t.field===n,gy(({target:t})=>t.lastTarget,({groups:t,field:n})=>t.map(e=>e.field).indexOf(n)===t.length-1));const Sg=t=>n=>new RegExp(`(^| )${t}( |$)`).test(n.className),eK=Wf(Sg("k-i-group-delete"),Sg("k-button-icon")),tK=Wf(Sg("k-i-sort-asc-sm"),Sg("k-i-sort-desc-sm"));gy(ou(eK),ou(tK),ou(su),ou(Ai("label")));let oM=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Ig=(()=>{let t=class{static exports(){return[ru,au,lu]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Ts,oM]]}),t})();const oK={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},Ib=(...t)=>Object.assign({},oK,...t),sM=(t,n)=>!1!==t.filter&&n.field&&n.filterable,rM=(t,n)=>!1!==t.sort&&n.field&&n.sortable,aM=(t,n)=>t.lock&&n.lockable&&!(n.parent&&!n.parent.isSpanColumn),lM=t=>!1!==t.columnChooser;let al=(()=>{let t=class{constructor(e){this.closeMenu=new i.vpe,this.menuTabbingService=e}close(){this.closeMenu.emit()}};return t.\u0275fac=function(e){return new(e||t)(i.LFG(Di))},t.\u0275prov=i.Yz7({token:t,factory:function(n){return t.\u0275fac(n)}}),t=h([u("design:paramtypes",[Di])],t),t})(),ku=(()=>{let t=class{constructor(e,o,s,r){this.popupService=e,this.localization=o,this.service=s,this.navigationService=r,this.standalone=!0,this.settings={},this.sortable=!0,this.tabIndex="-1",this.expandedFilter=!1,this.expandedColumns=!1,this.expandedPosition=!1,this.closeSubscription=s.closeMenu.subscribe(this.close.bind(this))}get isActive(){return this.hasFilter&&wu(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return sM(this.settings,this.column)}get hasSort(){return rM(this.settings,this.column)}get hasColumnChooser(){return lM(this.settings)}get hasLock(){return aM(this.settings,this.column)}get hasStick(){return((t,n)=>this.settings.stick&&n.stickable&&!(n.parent&&!n.parent.isSpanColumn))(0,this.column)}get hasPosition(){return((t,n)=>this.settings.setColumnPosition&&(n.stickable||n.lockable)&&!(n.parent&&!n.parent.isSpanColumn))(0,this.column)}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,o,s){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(o,s,this.popupRef,"k-grid-columnmenu-popup"),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus())}close(){this.popupService.destroy(),this.popupRef=null,this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}get columnMenuTitle(){const e=this.localization.get("columnMenu")||"";return Ri(e,"columnName",this.column.title||this.column.field)}getExpandedState(e){return"object"==typeof e&&e.expanded}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(xs),i.Y36(I),i.Y36(al),i.Y36(tt))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-column-menu"]],viewQuery:function(e,o){if(1&e&&(i.Gf($D,7),i.Gf(JD,7,i.Rgc)),2&e){let s;i.iGM(s=i.CRH())&&(o.anchor=s.first),i.iGM(s=i.CRH())&&(o.template=s.first)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-grid-column-menu-standalone",o.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",tabIndex:"tabIndex",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[i._Bn([al,Di]),i.TTD],decls:7,vars:5,consts:[["href","#",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"keydown.escape","keydown.enter"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],["sortItem",""],["lockItem",""],["stickItem",""],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],["positionItem",""],[3,"kendoGridColumnMenuItem","service","expanded"],["chooserItem",""],["filterItem",""]],template:function(e,o){if(1&e){const s=i.EpF();i.TgZ(0,"a",0,1),i.NdJ("click",function(a){i.CHM(s);const l=i.MAs(1),d=i.MAs(4);return o.toggle(a,l,d)})("keydown.enter",function(a){return a.stopImmediatePropagation()}),i._UZ(2,"span",2),i.qZA(),i.YNc(3,_Z,1,5,"ng-template",null,3,i.W1O),i.YNc(5,kZ,7,6,"ng-template",null,4,i.W1O)}2&e&&(i.Q6J("ngClass",i.VKq(3,xZ,o.isActive))("tabindex",o.tabIndex),i.uIk("title",o.columnMenuTitle))},directives:function(){return[x.mk,x.tP,Mb,x.O5,Db,Mu,Og,Ag,Rg,Fg,Du]},encapsulation:2}),h([(0,i.pfw)("class.k-grid-column-menu-standalone"),(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"standalone",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"settings",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"sort",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"sortable",void 0),h([(0,i.IIB)(),u("design:type",i.Rgc)],t.prototype,"columnMenuTemplate",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"tabIndex",void 0),h([(0,i.i9L)("anchor",{static:!0}),u("design:type",i.SBq)],t.prototype,"anchor",void 0),h([(0,i.i9L)("template",{static:!0,read:i.Rgc}),u("design:type",i.Rgc)],t.prototype,"template",void 0),t=h([u("design:paramtypes",[xs,I,al,tt])],t),t})();const cM=(t,n)=>t.parent===n.parent||a2(n)&&cM(t,n.parent);gy(({draggable:t})=>["column","columnGroup"].indexOf(t.context.type)>=0,({draggable:t})=>t.context.column.reorderable,({draggable:t})=>!a2(t.context.column),({draggable:t,target:n})=>t.element.nativeElement!==n.element.nativeElement,({draggable:t,target:n})=>cM(t.context.column,n.context.column),ou(({draggable:t})=>!Fn(t.context.column.locked)&&(({parent:t})=>!Fn(t))(t.context.column)&&t.context.lastColumn),({draggable:t,target:n})=>!1!==t.context.column.lockable||t.context.column.isLocked===n.context.column.isLocked);let kb=(()=>{let t=class{constructor(e,o,s,r){this.selectionService=e,this.el=o,this.renderer=s,this.ngZone=r,this.selectAllChange=new i.vpe,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this))})}ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){const o=!(!(()=>{if(!W())return;const t=window.navigator.userAgent,n=t.indexOf("MSIE "),e=t.indexOf("Trident/");return n>0||e>0})()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,s=this.selectionService.options;this.selectAllChange.emit(o?"checked":"unchecked"),s.enabled&&"multiple"===s.mode&&this.ngZone.run(()=>{this.selectionService.updateAll(o)})}setState(){const e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,o=this.el.nativeElement;this.renderer.setProperty(o,"indeterminate",!U(e)),this.renderer.setProperty(o,"checked",!!U(e)&&e)}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(mo),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,o){2&e&&i.uIk("type",o.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[i.TTD]}),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"state",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"selectAllChange",void 0),h([(0,i.pfw)("attr.type"),u("design:type",String)],t.prototype,"type",void 0),t=h([u("design:paramtypes",[mo,i.SBq,i.Qsj,i.R0b])],t),t})();const gM=({value:t,operator:n})=>!Xt(t)||(t=>"isnull"===t||"isnotnull"===t||"isempty"===t||"isnotempty"===t)(n),mM=(t,n,e)=>t.reduce((o,s)=>o||(s.filters?mM(s.filters,n,s):s.field===n?e:o),void 0),TK=(t,n,e="and")=>{const o=mM((t||{}).filters||[],n);return U(o)?o.logic:e};let xb=(()=>{let t=class{constructor(e,o,s,r,a){this.parentService=e,this.childService=o,this.localization=s,this.cd=r,this.close=new i.vpe,this.actionsClass="k-action-buttons k-button-group",this._templateContext={},this.menuTabbingService=a}get filter(){return this._filter}set filter(e){this._filter=Cu(e)}get childFilter(){return U(this._childFilter)||(this._childFilter={filters:wu(this.filter,(this.column||{}).field),logic:TK(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngAfterViewChecked(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.disabled?this.resetButton.nativeElement:this.filterButton.nativeElement)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}get disabled(){return!this.childFilter.filters.some(gM)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return U(this.column)&&U(this.column.filterMenuTemplateRef)}submit(){const e=(t=>(t.filters=t.filters.filter(gM),t))(this.childFilter);if(e.filters.length){const o=this.filter||{filters:[],logic:"and"};Vy(o,this.column.field),o.filters.push(e),this.parentService.filter(o)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};Vy(e,this.column.field),this.parentService.filter(e),this.close.emit()}onTab(e,o){this.menuTabbingService.firstFocusable&&(!this.menuTabbingService.isColumnMenu||this.isLast)&&(e.preventDefault(),"reset"===o?this.disabled?this.menuTabbingService.firstFocusable.focus():this.filterButton.nativeElement.focus():this.menuTabbingService.firstFocusable.focus())}get clearText(){return this.localization.get("filterClearButton")}get filterText(){return this.localization.get("filterFilterButton")}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(it,4),i.Y36(it),i.Y36(I),i.Y36(i.sBO),i.Y36(Di))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(e,o){if(1&e&&(i.Gf(tU,5),i.Gf(iU,5)),2&e){let s;i.iGM(s=i.CRH())&&(o.resetButton=s.first),i.iGM(s=i.CRH())&&(o.filterButton=s.first)}},inputs:{actionsClass:"actionsClass",menuTabbingService:"menuTabbingService",filter:"filter",column:"column",isLast:"isLast",isExpanded:"isExpanded"},outputs:{close:"close"},features:[i._Bn([it,Di])],decls:12,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button",3,"keydown.tab"],["resetButton",""],["type","submit",1,"k-button","k-primary",3,"disabled","keydown.tab"],["filterButton",""],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0),i.NdJ("submit",function(){return o.submit()})("reset",function(){return o.reset()}),i.TgZ(1,"div",1),i.ynx(2,2),i.YNc(3,nU,2,4,"ng-container",3),i.YNc(4,rU,2,1,"ng-container",3),i.BQk(),i.TgZ(5,"div",4),i.TgZ(6,"button",5,6),i.NdJ("keydown.tab",function(r){return o.onTab(r,"reset")}),i._uU(8),i.qZA(),i.TgZ(9,"button",7,8),i.NdJ("keydown.tab",function(r){return o.onTab(r,"filter")}),i._uU(11),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("ngSwitch",o.hasTemplate),i.xp6(1),i.Q6J("ngSwitchCase",!1),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngClass",o.actionsClass),i.xp6(3),i.Oqu(o.clearText),i.xp6(1),i.Q6J("disabled",o.disabled),i.xp6(2),i.Oqu(o.filterText))},directives:function(){return[X._Y,X.JL,X.F,x.RF,x.n9,x.mk,yM,x.O5,x.tP]},encapsulation:2}),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"close",void 0),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isLast",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isExpanded",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),h([(0,i.IIB)(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"filter",null),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"actionsClass",void 0),h([(0,i.i9L)("resetButton",{static:!1}),u("design:type",i.SBq)],t.prototype,"resetButton",void 0),h([(0,i.i9L)("filterButton",{static:!1}),u("design:type",i.SBq)],t.prototype,"filterButton",void 0),t=h([ue(0,(0,i.tp0)()),u("design:paramtypes",[it,it,I,i.sBO,Di])],t),t})(),Tg=(()=>{let t=class extends Y2{constructor(e){super(null),this.localizationService=e}get hostClasses(){return!1}ngAfterViewInit(){this.isFirstDropDown&&this.filterService&&this.filterService.menuTabbingService&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.firstOperatorDropDown.focus())}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onShiftTab(e){e.stopImmediatePropagation(),(!this.menuTabbingService||!this.menuTabbingService.isColumnMenu)&&this.isFirstDropDown&&this.filterService.menuTabbingService.lastFocusable&&(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get filterMenuDropDownLabel(){const e=this.localizationService.get("filterMenuOperatorsDropDownLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(e,o){if(1&e&&i.Gf(ce,5),2&e){let s;i.iGM(s=i.CRH())&&(o.firstOperatorDropDown=s.first)}},inputs:{currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},features:[i.qOj],ngContentSelectors:dy,decls:2,vars:4,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","value","valuePrimitive","valueChange","keydown.shift.tab"]],template:function(e,o){1&e&&(i.F$t(),i.TgZ(0,"kendo-dropdownlist",0),i.NdJ("valueChange",function(r){return o.operatorChange(r)})("keydown.shift.tab",function(r){return o.onShiftTab(r)}),i.qZA(),i.Hsn(1)),2&e&&i.Q6J("filterMenuDropDownLabel",o.filterMenuDropDownLabel)("data",o.operators)("value",o.currentOperator)("valuePrimitive",!0)},directives:function(){return[ce,bc]},encapsulation:2}),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isFirstDropDown",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),h([(0,i.i9L)(ce,{static:!1}),u("design:type",ce)],t.prototype,"firstOperatorDropDown",void 0),h([(0,i.IIB)(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"currentFilter",null),t=h([u("design:paramtypes",[I])],t),t})(),vM=(()=>{let t=class{constructor(e){this.localizationService=e,this.operators=[]}get columnLabel(){const e=this.localizationService.get("filterInputLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},decls:2,vars:11,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-menu-input-wrapper",0),i._UZ(1,"input",1),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("defaultOperator",o.operator)("currentFilter",o.currentFilter)("filterService",o.filterService)("isFirstDropDown",o.isFirstDropDown)("menuTabbingService",o.menuTabbingService),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("filterDelay",0)("ngModel",null==o.currentFilter?null:o.currentFilter.value))},directives:[Tg,X.Fj,Xn,X.JJ,X.On],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"operators",void 0),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"operator",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"currentFilter",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isFirstDropDown",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),t=h([u("design:paramtypes",[I])],t),t})(),xu=(()=>{let t=class extends $2{constructor(e){super(null,e),this.logicOperators=fc(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return hc(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return hc(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=fc(this.localization),super.localizationChange()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell",o.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[i.qOj],decls:3,vars:9,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService"]],template:function(e,o){1&e&&(i._UZ(0,"kendo-grid-string-filter-menu-input",0),i.YNc(1,aU,1,4,"kendo-dropdownlist",1),i.YNc(2,lU,1,6,"kendo-grid-string-filter-menu-input",2)),2&e&&(i.Q6J("currentFilter",o.firstFilter)("operators",o.operators)("filterService",o.filterService)("column",o.column)("filter",o.filter)("isFirstDropDown",!0)("menuTabbingService",o.menuTabbingService),i.xp6(1),i.Q6J("ngIf",o.extra),i.xp6(1),i.Q6J("ngIf",o.extra))},directives:function(){return[vM,x.O5,ce,bc]},encapsulation:2}),h([(0,i.pfw)("class.k-filtercell"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"extra",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),t=h([u("design:paramtypes",[I])],t),t})(),Dg=(()=>{let t=class extends H2{constructor(e){super(null,e),this.logicOperators=fc(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return hc(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return hc(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=fc(this.localization),super.localizationChange()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell",o.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[i.qOj],decls:3,vars:15,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService"]],template:function(e,o){1&e&&(i._UZ(0,"kendo-grid-numeric-filter-menu-input",0),i.YNc(1,cU,1,4,"kendo-dropdownlist",1),i.YNc(2,dU,1,12,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(i.Q6J("currentFilter",o.firstFilter)("operators",o.operators)("filterService",o.filterService)("column",o.column)("filter",o.filter)("format",o.format)("decimals",o.decimals)("spinners",o.spinners)("min",o.min)("max",o.max)("step",o.step)("menuTabbingService",o.menuTabbingService)("isFirstDropDown",!0),i.xp6(1),i.Q6J("ngIf",o.extra),i.xp6(1),i.Q6J("ngIf",o.extra))},directives:function(){return[_M,x.O5,ce,bc]},encapsulation:2}),h([(0,i.pfw)("class.k-filtercell"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"extra",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),t=h([u("design:paramtypes",[I])],t),t})(),_M=(()=>{let t=class{constructor(e){this.localization=e,this.operators=[],this.step=1,this.spinners=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:3,vars:20,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-filter-menu-input-wrapper",0),i.TgZ(1,"kendo-numerictextbox",1),i._UZ(2,"kendo-numerictextbox-messages",2),i.qZA(),i.qZA()),2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("defaultOperator",o.operator)("currentFilter",o.currentFilter)("filterService",o.filterService)("isFirstDropDown",o.isFirstDropDown)("menuTabbingService",o.menuTabbingService),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("filterDelay",0)("autoCorrect",!0)("value",null==o.currentFilter?null:o.currentFilter.value)("format",o.format)("decimals",o.decimals)("spinners",o.spinners)("min",o.min)("max",o.max)("step",o.step),i.xp6(1),i.Q6J("increment",o.messageFor("filterNumericIncrement"))("decrement",o.messageFor("filterNumericDecrement")))},directives:[Tg,Ne,Xn,zs],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"operators",void 0),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"operator",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"currentFilter",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isFirstDropDown",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"step",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"min",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"max",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"spinners",void 0),h([(0,i.IIB)(),u("design:type",Number)],t.prototype,"decimals",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"format",void 0),t=h([u("design:paramtypes",[I])],t),t})(),Mg=(()=>{let t=class extends Z2{constructor(e){super(null,e),this.logicOperators=fc(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return hc(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return hc(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=fc(this.localization),super.localizationChange()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell",o.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[i.qOj],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(e,o){1&e&&(i._UZ(0,"kendo-grid-date-filter-menu-input",0),i.YNc(1,uU,1,4,"kendo-dropdownlist",1),i.YNc(2,pU,1,15,"kendo-grid-date-filter-menu-input",2)),2&e&&(i.Q6J("currentFilter",o.firstFilter)("operators",o.operators)("filterService",o.filterService)("column",o.column)("filter",o.filter)("activeView",o.activeView)("bottomView",o.bottomView)("topView",o.topView)("format",o.format)("formatPlaceholder",o.formatPlaceholder)("placeholder",o.placeholder)("min",o.min)("max",o.max)("weekNumber",o.weekNumber)("isFirstDropDown",!0)("menuTabbingService",o.menuTabbingService),i.xp6(1),i.Q6J("ngIf",o.extra),i.xp6(1),i.Q6J("ngIf",o.extra))},directives:function(){return[bM,x.O5,ce,bc]},encapsulation:2}),h([(0,i.pfw)("class.k-filtercell"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"extra",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),t=h([u("design:paramtypes",[I])],t),t})(),Tu=(()=>{let t=class{constructor(e,o){this.hostElement=e,this.renderer=o}ngAfterViewInit(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"}}),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"columnLabel",void 0),t=h([u("design:paramtypes",[i.SBq,i.Qsj])],t),t})(),Eg=(()=>{let t=class extends j2{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=Ve()}get hostClasses(){return!1}ngAfterViewInit(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.radioButtons.first.radioButtonEl.focus()}radioId(e){return`${this.idPrefix}_${e}`}onChange(e,o){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e})),this.filterService.menuTabbingService.firstFocusable=o}isSelected(e){return this.filtersByField(this.column.field).some(({value:o})=>o===e)}onShiftTab(e){(!this.menuTabbingService||!this.menuTabbingService.isColumnMenu)&&this.filterService.menuTabbingService.lastFocusable&&(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return Ri(e,"columnName",this.column.title||this.column.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(e,o){if(1&e&&i.Gf(Tu,5),2&e){let s;i.iGM(s=i.CRH())&&(o.radioButtons=s)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-filtercell",o.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[i.qOj],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio","kendoFilterMenuRadioButton","",1,"k-radio",3,"columnLabel","name","checked","change","keydown.shift.tab"],["input",""],[1,"k-radio-label"]],template:function(e,o){1&e&&(i.TgZ(0,"ul",0),i.YNc(1,hU,5,6,"li",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",o.items))},directives:[x.sg,Tu],encapsulation:2}),h([(0,i.pfw)("class.k-filtercell"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"hostClasses",null),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),h([(0,i.vR)(Tu),u("design:type",i.n_E)],t.prototype,"radioButtons",void 0),t=h([u("design:paramtypes",[I])],t),t})(),yM=(()=>{let t=class extends Q2{constructor(e,o){super(e,o)}componentType(){return U(this.column)&&!Xt(this.column.filter)?(t=>({boolean:Eg,date:Mg,numeric:Dg,text:xu}[this.column.filter]))():xu}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i._Vd))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[i.qOj]}),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),t=h([u("design:paramtypes",[i.s_b,i._Vd])],t),t})(),bM=(()=>{let t=class{constructor(e,o){this.popupService=e,this.localizationService=o,this.operators=[]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(e){this.subscription=this.popupService.onClose.pipe((0,ee.h)(()=>e.isActive)).subscribe(o=>o.preventDefault())}messageFor(e){return this.localizationService.get(e)}get columnLabel(){const e=this.localizationService.get("filterInputLabel")||"";return Ri(e,"columnName",this.column?this.column.title||this.column.field:"")}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(xs),i.Y36(I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},decls:4,vars:22,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""],[3,"toggle","today"]],template:function(e,o){if(1&e){const s=i.EpF();i.TgZ(0,"kendo-grid-filter-menu-input-wrapper",0),i.TgZ(1,"kendo-datepicker",1,2),i.NdJ("open",function(){i.CHM(s);const a=i.MAs(2);return o.open(a)}),i._UZ(3,"kendo-datepicker-messages",3),i.qZA(),i.qZA()}2&e&&(i.Q6J("column",o.column)("filter",o.filter)("operators",o.operators)("defaultOperator",o.operator)("currentFilter",o.currentFilter)("filterService",o.filterService)("isFirstDropDown",o.isFirstDropDown)("menuTabbingService",o.menuTabbingService),i.xp6(1),i.Q6J("columnLabel",o.columnLabel)("filterDelay",0)("value",null==o.currentFilter?null:o.currentFilter.value)("placeholder",o.placeholder)("formatPlaceholder",o.formatPlaceholder)("format",o.format)("min",o.min)("max",o.max)("activeView",o.activeView)("bottomView",o.bottomView)("topView",o.topView)("weekNumber",o.weekNumber),i.xp6(2),i.Q6J("toggle",o.messageFor("filterDateToggle"))("today",o.messageFor("filterDateToday")))},directives:[Tg,de,Xn,Xs],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Array)],t.prototype,"operators",void 0),h([(0,i.IIB)(),u("design:type",Re)],t.prototype,"column",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"filter",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"operator",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"currentFilter",void 0),h([(0,i.IIB)(),u("design:type",it)],t.prototype,"filterService",void 0),h([(0,i.IIB)(),u("design:type",Di)],t.prototype,"menuTabbingService",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"format",void 0),h([(0,i.IIB)(),u("design:type",Object)],t.prototype,"formatPlaceholder",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"placeholder",void 0),h([(0,i.IIB)(),u("design:type",Date)],t.prototype,"min",void 0),h([(0,i.IIB)(),u("design:type",Date)],t.prototype,"max",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"activeView",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"bottomView",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"topView",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"weekNumber",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isFirstDropDown",void 0),t=h([u("design:paramtypes",[xs,I])],t),t})(),bc=(()=>{let t=class{constructor(e){this.host=e,this.keydownHandler=o=>{o.keyCode===R.Escape&&this.host.isOpen&&(o.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;e.setAttribute("aria-label",this.filterMenuDropDownLabel),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(ce))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"}}),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"filterMenuDropDownLabel",void 0),t=h([u("design:paramtypes",[ce])],t),t})(),Bg=(()=>{let t=class{static exports(){return[xu,uu,Dg,Mg,Eg,bc,Tu,_c.exports()]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[_c],_c]}),t})(),Tb=(()=>{let t=class{constructor(e,o,s){this.element=e,this.ngZone=o,this.renderer=s,this.reset=new i.vpe,this.apply=new i.vpe,this.columnChange=new i.vpe,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}get className(){return!0}set columns(e){this._columns=e.filter(o=>!1!==o.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(o=>o!==e&&!o.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}ngOnInit(){!this.element||this.ngZone.runOutsideAngular(()=>{this.domSubscriptions=this.renderer.listen(this.element.nativeElement,"click",e=>{if(Da(e.target,"k-checkbox"))if(this.autoSync){const o=parseInt(e.target.getAttribute("data-index"),10),s=this.columns[o],r=!e.target.checked;Boolean(s.hidden)!==r&&this.ngZone.run(()=>{s.hidden=r,this.columnChange.emit([s])})}else this.updateDisabled()})})}ngOnChanges(e){!this.service||(e.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),e.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}ngOnDestroy(){this.domSubscriptions&&this.domSubscriptions()}cancelChanges(){this.forEachCheckBox((e,o)=>{e.checked=!this.columns[o].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((o,s)=>{const r=this.columns[s],a=!o.checked;Boolean(r.hidden)!==a&&(r.hidden=a,e.push(r))}),this.updateDisabled(),this.apply.emit(e)}onTab(e){this.isLast&&(e.preventDefault(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}forEachCheckBox(e){const o=this.element.nativeElement.getElementsByClassName("k-checkbox"),s=o.length;for(let r=0;r<s;r++)e(o[r],r)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((o,s)=>{o.checked&&e.push({checkbox:o,index:s}),o.disabled=!1}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const o=this.columns,s=e.filter(r=>!o[r.index].locked);1===s.length&&(s[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}updateColumnState(){this.hasLocked=this.allColumns.filter(o=>o.locked&&(!o.hidden||!1!==o.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(o=>o.locked&&!o.hidden).length>0,this.unlockedCount=this.columns.filter(o=>!o.locked&&!o.hidden).length;const e=this.allColumns.filter(o=>!1===o.includeInChooser&&!o.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(o=>!o.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnlist"]],viewQuery:function(e,o){if(1&e&&i.Gf(fU,5),2&e){let s;i.iGM(s=i.CRH())&&(o.applyButton=s.first)}},hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-column-list-wrapper",o.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},features:[i.TTD],decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"keydown.tab","click"],["applyButton",""]],template:function(e,o){1&e&&(i.TgZ(0,"div",0),i.YNc(1,gU,4,4,"label",1),i.qZA(),i.YNc(2,mU,6,3,"div",2)),2&e&&(i.xp6(1),i.Q6J("ngForOf",o.columns),i.xp6(1),i.Q6J("ngIf",!o.autoSync))},directives:[x.sg,x.O5,x.mk],encapsulation:2}),h([(0,i.pfw)("class.k-column-list-wrapper"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"className",null),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"reset",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"apply",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"columnChange",void 0),h([(0,i.IIB)(),u("design:type",Array),u("design:paramtypes",[Array])],t.prototype,"columns",null),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"autoSync",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"allowHideAll",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"applyText",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"resetText",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"actionsClass",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isLast",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isExpanded",void 0),h([(0,i.IIB)(),u("design:type",al)],t.prototype,"service",void 0),h([(0,i.i9L)("applyButton",{static:!1}),u("design:type",i.SBq)],t.prototype,"applyButton",void 0),t=h([u("design:paramtypes",[i.SBq,i.R0b,i.Qsj])],t),t})(),CM=(()=>{let t=class{constructor(e,o,s,r,a,l){this.localization=e,this.columnInfoService=o,this.popupService=s,this.ngZone=r,this.renderer=a,this.changeDetector=l,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,o){if(this.popupRef)this.close();else{const s=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:o,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:s},popupAlign:{vertical:"top",horizontal:s}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:r})=>{Ui(r,a=>a===this.popupRef.popupElement||a===e)||this.close()}))}}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}close(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Ht),i.Y36($e),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,o){if(1&e){const s=i.EpF();i.TgZ(0,"button",0,1),i.NdJ("click",function(){i.CHM(s);const a=i.MAs(1),l=i.MAs(4);return o.toggle(a,l)}),i._UZ(2,"span",2),i.qZA(),i.YNc(3,vU,3,6,"ng-template",null,3,i.W1O)}2&e&&i.uIk("title",o.localization.get("columns"))},directives:[Tb],encapsulation:2}),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"autoSync",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"allowHideAll",void 0),t=h([u("design:paramtypes",[I,Ht,$e,i.R0b,i.Qsj,i.sBO])],t),t})(),Cc=(()=>{class t{constructor(){this.hostClass=!0}ngOnInit(){if((0,i.X6Q)()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}close(){this.service.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,hostVars:2,hostBindings:function(e,o){2&e&&i.ekj("k-columnmenu-item-wrapper",o.hostClass)},inputs:{service:"service"}}),h([(0,i.IIB)(),u("design:type",al)],t.prototype,"service",void 0),h([(0,i.pfw)("class.k-columnmenu-item-wrapper"),u("design:type",Boolean)],t.prototype,"hostClass",void 0),t})(),Fg=(()=>{let t=class extends Cc{constructor(e,o,s,r){super(),this.localization=e,this.columnInfoService=o,this.changeDetector=s,this.hostElement=r,this.expand=new i.vpe,this.collapse=new i.vpe,this.expanded=!1,this.isLast=!1,this.actionsClass="k-columnmenu-actions"}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Ht),i.Y36(i.sBO),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[i.qOj],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service","apply"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-columnmenu-item",0),i.NdJ("collapse",function(){return o.onCollapse()})("expand",function(){return o.onExpand()}),i.YNc(1,_U,1,9,"ng-template",1),i.qZA()),2&e&&i.Q6J("text",o.localization.get("columns"))("expanded",o.expanded)},directives:function(){return[_r,vr,Tb]},encapsulation:2}),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"expand",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"collapse",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"expanded",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isLast",void 0),t=h([u("design:paramtypes",[I,Ht,i.sBO,i.SBq])],t),t})(),Du=(()=>{let t=class extends Cc{constructor(e,o){super(),this.localization=e,this.hostElement=o,this.expand=new i.vpe,this.collapse=new i.vpe,this.expanded=!1,this.isLast=!1,this.actionsClass="k-columnmenu-actions"}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[i.qOj],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","menuTabbingService","filter","actionsClass","isLast","isExpanded","keydown.shift.tab","close"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-columnmenu-item",0),i.NdJ("collapse",function(){return o.onCollapse()})("expand",function(){return o.onExpand()}),i.YNc(1,yU,1,6,"ng-template",1),i.qZA()),2&e&&i.Q6J("text",o.localization.get("filter"))("expanded",o.expanded)},directives:function(){return[_r,vr,xb]},encapsulation:2}),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"expand",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"collapse",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"expanded",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"isLast",void 0),t=h([u("design:paramtypes",[I,i.SBq])],t),t})(),vr=(()=>{let t=class{constructor(e){this.templateRef=e}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),t=h([ue(0,(0,i.FiY)()),u("design:paramtypes",[i.Rgc])],t),t})(),_r=(()=>{let t=class{constructor(){this.itemClick=new i.vpe,this.expand=new i.vpe,this.collapse=new i.vpe,this.contentState="collapsed"}get iconClass(){return`k-i-${this.icon}`}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,o,s){if(1&e&&i.Suo(s,vr,5),2&e){let r;i.iGM(r=i.CRH())&&(o.contentTemplate=r.first)}},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[i.TTD],decls:4,vars:8,consts:[["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,o){1&e&&(i.TgZ(0,"div",0),i.NdJ("click",function(r){return o.onClick(r)})("keydown.enter",function(r){return o.onClick(r)}),i.YNc(1,bU,1,1,"span",1),i._uU(2),i.qZA(),i.YNc(3,CU,3,2,"div",2)),2&e&&(i.ekj("k-state-selected",o.selected)("k-state-disabled",o.disabled),i.uIk("aria-expanded",o.expanded),i.xp6(1),i.Q6J("ngIf",o.icon),i.xp6(1),i.hij(" ",o.text," "),i.xp6(1),i.Q6J("ngIf",o.contentTemplate))},directives:[x.O5,x.mk,x.tP],encapsulation:2,data:{animation:[(0,Le.X$)("state",[(0,Le.SB)("collapsed",(0,Le.oB)({display:"none"})),(0,Le.SB)("expanded",(0,Le.oB)({display:"block"})),(0,Le.eR)("collapsed => expanded",[(0,Le.oB)({height:"0px",display:"block"}),(0,Le.jt)("100ms ease-in",(0,Le.oB)({height:"*"}))]),(0,Le.eR)("expanded => collapsed",[(0,Le.oB)({height:"*"}),(0,Le.jt)("100ms ease-in",(0,Le.oB)({height:"0px"}))])])]}}),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"itemClick",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"expand",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"collapse",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"icon",void 0),h([(0,i.IIB)(),u("design:type",String)],t.prototype,"text",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"selected",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"disabled",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"expanded",void 0),h([(0,i.aQ5)(vr,{static:!1}),u("design:type",vr)],t.prototype,"contentTemplate",void 0),t})(),Db=(()=>{let t=class extends Cc{constructor(e,o,s){super(),this.localization=e,this.sortService=o,this.renderer=s}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const o=this.service.column.field,{mode:s,allowUnsort:r}=Ib(this.service.sortable),a=this.descriptor,l="multiple"===s?this.service.sort.filter(d=>d.field!==o):[];if(a&&a.dir===e){if(!r)return}else l.push({field:o,dir:e});this.sortService.sort(l),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Va),i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-sort"]],features:[i.qOj],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-columnmenu-item",0),i.NdJ("itemClick",function(){return o.toggleSort("asc")}),i.qZA(),i.TgZ(1,"kendo-grid-columnmenu-item",1),i.NdJ("itemClick",function(){return o.toggleSort("desc")}),i.qZA()),2&e&&(i.Q6J("text",o.localization.get("sortAscending"))("selected",o.sortedAsc),i.xp6(1),i.Q6J("text",o.localization.get("sortDescending"))("selected",o.sortedDesc))},directives:[_r],encapsulation:2}),t=h([u("design:paramtypes",[I,Va,i.Qsj])],t),t})(),Og=(()=>{let t=class extends Cc{constructor(e,o,s){super(),this.localization=e,this.columnInfoService=o,this.changeDetector=s}get text(){return this.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let o=this.service.column;for(;o.parent;)o=o.parent;const s=[o],r=[];for(;s.length;){const a=s.shift();a.locked=e,r.push(a),a.hasChildren&&s.push(...a.childrenArray)}this.columnInfoService.changeLocked(r)}get locked(){return this.service.column.locked}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Ht),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-lock"]],features:[i.qOj],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-columnmenu-item",0),i.NdJ("itemClick",function(){return o.toggleColumn()}),i.qZA()),2&e&&i.Q6J("text",o.text)("icon",o.icon)("disabled",o.disabled)},directives:[_r],encapsulation:2}),t=h([u("design:paramtypes",[I,Ht,i.sBO])],t),t})(),Rg=(()=>{let t=class extends Cc{constructor(e,o){super(),this.localization=e,this.hostElement=o,this.expand=new i.vpe,this.collapse=new i.vpe,this.expanded=!1,this.actionsClass="k-columnmenu-actions",this._isLast=!1}set isLast(e){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=e}get isLast(){return this._isLast}onTab(e,o){this.isLast&&o&&(e.preventDefault(),e.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}onExpand(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}getLastFocusableItem(){const e=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return e[this.expanded?e.length-1:0]}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",isLast:"isLast",showLock:"showLock",showStick:"showStick"},outputs:{expand:"expand",collapse:"collapse"},features:[i.qOj],decls:2,vars:2,consts:[["icon","set-column-position",3,"text","expanded","keydown.tab","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"service","keydown.tab"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-columnmenu-item",0),i.NdJ("keydown.tab",function(r){return o.onTab(r,!o.expanded)})("collapse",function(){return o.onCollapse()})("expand",function(){return o.onExpand()}),i.YNc(1,IU,2,2,"ng-template",1),i.qZA()),2&e&&i.Q6J("text",o.localization.get("setColumnPosition"))("expanded",o.expanded)},directives:function(){return[_r,vr,x.O5,Og,Ag]},encapsulation:2}),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"expand",void 0),h([(0,i.r_U)(),u("design:type",i.vpe)],t.prototype,"collapse",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"expanded",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showLock",void 0),h([(0,i.IIB)(),u("design:type",Boolean)],t.prototype,"showStick",void 0),h([(0,i.IIB)(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"isLast",null),t=h([u("design:paramtypes",[I,i.SBq])],t),t})(),Mu=(()=>{let t=class{constructor(e,o,s){this.hostElement=e,this.renderer=o,this.ngZone=s,this._isFirst=!1,this._isLast=!1,this.subs=new Ie.w,this.onTab=r=>{if(r.keyCode===R.Tab&&(this.isFirst&&r.shiftKey&&r.target===this.columnMenuItems[0]&&(r.preventDefault(),this.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),this.isLast&&!r.shiftKey)){const a=this.getLastColumnMenuItem(),l=this.menuItemComponent.expanded;a===r.target&&!l&&(r.preventDefault(),this.menuItemComponent.service.menuTabbingService.firstFocusable.focus())}}}set isFirst(e){if(e){const o=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=o,this.ngZone.runOutsideAngular(()=>{const s=this.renderer.listen(o,"keydown",this.onTab);this.subs.add(s)})}this._isFirst=e}get isFirst(){return this._isFirst}set isLast(e){if(this.columnMenuItems){if(e){const o=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=o,this.ngZone.runOutsideAngular(()=>{const s=this.renderer.listen(o,"keydown",this.onTab);this.subs.add(s)}),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0)}this._isLast=e}}get isLast(){return this._isLast}ngAfterViewInit(){this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach(e=>this.renderer.setAttribute(e,"tabindex","0")),this.menuItemComponent instanceof Du&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}getLastColumnMenuItem(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}isExpandableItem(){return this.menuItemComponent instanceof Du||this.menuItemComponent instanceof Fg||this.menuItemComponent instanceof Rg}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:["kendoGridColumnMenuItem","menuItemComponent"]}}),h([(0,i.IIB)("kendoGridColumnMenuItem"),u("design:type",Object)],t.prototype,"menuItemComponent",void 0),t=h([u("design:paramtypes",[i.SBq,i.Qsj,i.R0b])],t),t})(),Mb=(()=>{let t=class{constructor(e,o){this.service=e,this.ngZone=o}ngAfterContentInit(){!this.columnMenuItems.length||(this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0,this.ngZone.onStable.pipe((0,nt.q)(1)).subscribe(()=>this.service.menuTabbingService.firstFocusable.focus()))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(al),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(e,o,s){if(1&e&&i.Suo(s,Mu,5),2&e){let r;i.iGM(r=i.CRH())&&(o.columnMenuItems=r)}},ngContentSelectors:dy,decls:1,vars:0,template:function(e,o){1&e&&(i.F$t(),i.Hsn(0))},encapsulation:2}),h([(0,i.AcB)(Mu,{descendants:!0}),u("design:type",i.n_E)],t.prototype,"columnMenuItems",void 0),t=h([u("design:paramtypes",[al,i.R0b])],t),t})(),Ag=(()=>{let t=class extends Cc{constructor(e,o,s){super(),this.localization=e,this.columnInfoService=o,this.changeDetector=s}get text(){return this.localization.get(this.sticky?"unstick":"stick")}get icon(){return this.sticky?"unstick":"stick"}get disabled(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let o=this.service.column;for(;o.parent;)o=o.parent;const s=[o],r=[];for(;s.length;){const a=s.shift();a.sticky=e,r.push(a),a.hasChildren&&s.push(...a.childrenArray)}this.columnInfoService.changeStuck(r)}get sticky(){return this.service.column.sticky}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(I),i.Y36(Ht),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["kendo-grid-columnmenu-stick"]],features:[i.qOj],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,o){1&e&&(i.TgZ(0,"kendo-grid-columnmenu-item",0),i.NdJ("itemClick",function(){return o.toggleColumn()}),i.qZA()),2&e&&i.Q6J("text",o.text)("icon",o.icon)("disabled",o.disabled)},directives:[_r],encapsulation:2}),t=h([u("design:paramtypes",[I,Ht,i.sBO])],t),t})(),Eb=(()=>{let t=class{static exports(){return[CM,Du,_r,vr,Db,Og,Ag,Rg,Fg,dc,Mb,Mu,ku]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Bg]]}),t})();const MK=[x.ez,Ig,wg,Bg,Ts,oM,Eb];let wM=(()=>{let t=class{static exports(){return[ig,kb]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[...MK]]}),t})();var Bb;let es=Bb=class extends pt{constructor(n,e){super(n,e),this.parent=n}get templateRef(){return this.template?this.template.templateRef:void 0}};var Fb;es.\u0275fac=function(n){return new(n||es)(i.Y36(pt,13),i.Y36(mi,8))},es.\u0275cmp=i.Xpm({type:es,selectors:[["kendo-grid-command-column"]],contentQueries:function(n,e,o){if(1&n&&i.Suo(o,Rn,5),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s.first)}},features:[i._Bn([{provide:pt,useExisting:(0,i.Gpc)(()=>Bb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),h([(0,i.aQ5)(Rn,{static:!1}),u("design:type",Rn)],es.prototype,"template",void 0),es=Bb=h([ue(0,(0,i.tp0)()),ue(0,(0,i.AA_)()),ue(0,(0,i.FiY)()),ue(1,(0,i.FiY)()),u("design:paramtypes",[pt,mi])],es);let ts=Fb=class extends pt{constructor(n,e){super(n,e),this.parent=n,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}};ts.\u0275fac=function(n){return new(n||ts)(i.Y36(pt,13),i.Y36(mi,8))},ts.\u0275cmp=i.Xpm({type:ts,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(n,e,o){if(1&n&&i.Suo(o,Rn,5),2&n){let s;i.iGM(s=i.CRH())&&(e.template=s.first)}},inputs:{showSelectAll:"showSelectAll"},features:[i._Bn([{provide:pt,useExisting:(0,i.Gpc)(()=>Fb)}]),i.qOj],decls:0,vars:0,template:function(n,e){},encapsulation:2}),h([(0,i.IIB)(),u("design:type",Boolean)],ts.prototype,"showSelectAll",void 0),h([(0,i.aQ5)(Rn,{static:!1}),u("design:type",Rn)],ts.prototype,"template",void 0),ts=Fb=h([ue(0,(0,i.tp0)()),ue(0,(0,i.AA_)()),ue(0,(0,i.FiY)()),ue(1,(0,i.FiY)()),u("design:paramtypes",[pt,mi])],ts);let Ob=(()=>{let t=class{constructor(e,o,s,r){this.selectionService=e,this.el=o,this.renderer=s,this.ngZone=r,this.type="checkbox",this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(){this.selectionService.options.enabled&&this.ngZone.run(()=>{const e=this.selectionService.toggleByIndex(this.itemIndex);e.ctrlKey=!0,e.shiftKey=!1,this.selectionService.changes.emit(e)})}onKeyDown(e){e.keyCode===R.Enter&&this.onClick()}setCheckedState(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(mo),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,o){2&e&&i.uIk("type",o.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),h([(0,i.IIB)("kendoGridSelectionCheckbox"),u("design:type",Number)],t.prototype,"itemIndex",void 0),h([(0,i.pfw)("attr.type"),u("design:type",String)],t.prototype,"type",void 0),t=h([u("design:paramtypes",[mo,i.SBq,i.Qsj,i.R0b])],t),t})(),IM=(()=>{let t=class extends lo{constructor(e,o,s,r,a,l){super(s,r,null,a,l),this.editService=e,this.cellContext=o,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Wt),i.Y36(Ni),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(I),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,o){1&e&&i.NdJ("click",function(r){return o.onClick(r)}),2&e&&(i.Udp("display",o.visible),i.ekj("k-grid-edit-command",o.commandClass))},features:[i.qOj]}),h([(0,i.pfw)("style.display"),u("design:type",String),u("design:paramtypes",[])],t.prototype,"visible",null),h([(0,i.pfw)("class.k-grid-edit-command"),u("design:type",Boolean)],t.prototype,"commandClass",void 0),h([(0,i.L6J)("click",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onClick",null),t=h([ue(1,(0,i.tBr)(Ni)),u("design:paramtypes",[Wt,Object,i.SBq,i.Qsj,I,i.R0b])],t),t})(),kM=(()=>{let t=class extends lo{constructor(e,o,s,r,a,l){super(s,r,null,a,l),this.editService=e,this.cellContext=o,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Wt),i.Y36(Ni),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(I),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,o){1&e&&i.NdJ("click",function(r){return o.onClick(r)}),2&e&&(i.Udp("display",o.visible),i.ekj("k-grid-cancel-command",o.commandClass))},features:[i.qOj]}),h([(0,i.pfw)("style.display"),u("design:type",String),u("design:paramtypes",[])],t.prototype,"visible",null),h([(0,i.pfw)("class.k-grid-cancel-command"),u("design:type",Boolean)],t.prototype,"commandClass",void 0),h([(0,i.L6J)("click",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onClick",null),t=h([ue(1,(0,i.tBr)(Ni)),u("design:paramtypes",[Wt,Object,i.SBq,i.Qsj,I,i.R0b])],t),t})(),xM=(()=>{let t=class extends lo{constructor(e,o,s,r,a,l){super(s,r,null,a,l),this.editService=e,this.cellContext=o,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Wt),i.Y36(Ni),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(I),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,o){1&e&&i.NdJ("click",function(r){return o.onClick(r)}),2&e&&(i.Udp("display",o.visible),i.ekj("k-grid-save-command",o.commandClass))},features:[i.qOj]}),h([(0,i.pfw)("style.display"),u("design:type",String),u("design:paramtypes",[])],t.prototype,"visible",null),h([(0,i.pfw)("class.k-grid-save-command"),u("design:type",Boolean)],t.prototype,"commandClass",void 0),h([(0,i.L6J)("click",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onClick",null),t=h([ue(1,(0,i.tBr)(Ni)),u("design:paramtypes",[Wt,Object,i.SBq,i.Qsj,I,i.R0b])],t),t})(),TM=(()=>{let t=class extends lo{constructor(e,o,s,r,a,l){super(s,r,null,a,l),this.editService=e,this.cellContext=o,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.remove(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Wt),i.Y36(Ni),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(I),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,o){1&e&&i.NdJ("click",function(r){return o.onClick(r)}),2&e&&(i.Udp("display",o.visible),i.ekj("k-grid-remove-command",o.commandClass))},features:[i.qOj]}),h([(0,i.pfw)("style.display"),u("design:type",String),u("design:paramtypes",[])],t.prototype,"visible",null),h([(0,i.pfw)("class.k-grid-remove-command"),u("design:type",Boolean)],t.prototype,"commandClass",void 0),h([(0,i.L6J)("click",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onClick",null),t=h([ue(1,(0,i.tBr)(Ni)),u("design:paramtypes",[Wt,Object,i.SBq,i.Qsj,I,i.R0b])],t),t})(),DM=(()=>{let t=class extends lo{constructor(e,o,s,r,a){super(o,s,null,r,a),this.editService=e}onClick(e){e.preventDefault(),this.editService.beginAdd()}get commandClass(){return!0}};return t.\u0275fac=function(e){return new(e||t)(i.Y36(Wt),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(I),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,o){1&e&&i.NdJ("click",function(r){return o.onClick(r)}),2&e&&i.ekj("k-grid-add-command",o.commandClass)},features:[i.qOj]}),h([(0,i.L6J)("click",["$event"]),u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],t.prototype,"onClick",null),h([(0,i.pfw)("class.k-grid-add-command"),u("design:type",Boolean),u("design:paramtypes",[])],t.prototype,"commandClass",null),t=h([u("design:paramtypes",[Wt,i.SBq,i.Qsj,I,i.R0b])],t),t})();const BK=[x.ez,X.UX,X.u5,Ts,Ig,Xm,pd,_o];let Ab=(()=>{let t=class{static exports(){return[es,ts,Ob,Rn,pc,Oa,IM,kM,xM,TM,DM,ug]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[...BK]]}),t})();const FK=[x.ez,Ts];let EM=(()=>{let t=class{static exports(){return[]}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[...FK]]}),t})();Ig.exports(),Ts.exports(),Ab.exports(),wM.exports(),EM.exports(),K2.exports(),wg.exports(),Bg.exports(),Eb.exports();let PK=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[x.ez,Ig,Ts,Ab,wM,EM,K2,wg,Bg,_o,Eb]]}),t})();Ai("KENDO-GRID-LIST"),Ai("TABLE");var Ds=ke(3065);class WK{call(n,e){return e.subscribe(new KK(n))}}class KK extends zn.L{_next(n){}}class tee{call(n,e){return e.subscribe(new iee(n))}}class iee extends zn.L{constructor(n){super(n)}_next(n){this.destination.next(Ic.P.createNext(n))}_error(n){const e=this.destination;e.next(Ic.P.createError(n)),e.complete()}_complete(){const n=this.destination;n.next(Ic.P.createComplete()),n.complete()}}function UM(t,n,e,o){return s=>s.lift(new nee(t,n,e,o))}class nee{constructor(n,e,o,s){this.keySelector=n,this.elementSelector=e,this.durationSelector=o,this.subjectSelector=s}call(n,e){return e.subscribe(new oee(n,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class oee extends zn.L{constructor(n,e,o,s,r){super(n),this.keySelector=e,this.elementSelector=o,this.durationSelector=s,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(n){let e;try{e=this.keySelector(n)}catch(o){return void this.error(o)}this._group(n,e)}_group(n,e){let o=this.groups;o||(o=this.groups=new Map);let r,s=o.get(e);if(this.elementSelector)try{r=this.elementSelector(n)}catch(a){this.error(a)}else r=n;if(!s){s=this.subjectSelector?this.subjectSelector():new Ze.xQ,o.set(e,s);const a=new QM(e,s,this);if(this.destination.next(a),this.durationSelector){let l;try{l=this.durationSelector(new QM(e,s))}catch(d){return void this.error(d)}this.add(l.subscribe(new see(e,s,this)))}}s.closed||s.next(r)}_error(n){const e=this.groups;e&&(e.forEach((o,s)=>{o.error(n)}),e.clear()),this.destination.error(n)}_complete(){const n=this.groups;n&&(n.forEach((e,o)=>{e.complete()}),n.clear()),this.destination.complete()}removeGroup(n){this.groups.delete(n)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class see extends zn.L{constructor(n,e,o){super(e),this.key=n,this.group=e,this.parent=o}_next(n){this.complete()}_unsubscribe(){const{parent:n,key:e}=this;this.key=this.parent=null,n&&n.removeGroup(e)}}class QM extends Kn.y{constructor(n,e,o){super(),this.key=n,this.groupSubject=e,this.refCountSubscription=o}_subscribe(n){const e=new Ie.w,{refCountSubscription:o,groupSubject:s}=this;return o&&!o.closed&&e.add(new ree(o)),e.add(s.subscribe(n)),e}}class ree extends Ie.w{constructor(n){super(),this.parent=n,n.count++}unsubscribe(){const n=this.parent;!n.closed&&!this.closed&&(super.unsubscribe(),n.count-=1,0===n.count&&n.attemptedToUnsubscribe&&n.unsubscribe())}}var XM=ke(9773);function WM(t,n){return n?e=>e.pipe(WM((o,s)=>(0,Es.D)(t(o,s)).pipe((0,xe.U)((r,a)=>n(o,r,s,a))))):e=>e.lift(new aee(t))}class aee{constructor(n){this.project=n}call(n,e){return e.subscribe(new lee(n,this.project))}}class lee extends is.Ds{constructor(n,e){super(n),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(n){this.hasSubscription||this.tryNext(n)}tryNext(n){let e;const o=this.index++;try{e=this.project(n,o)}catch(s){return void this.destination.error(s)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(n){const e=new is.IY(this),o=this.destination;o.add(e);const s=(0,is.ft)(n,e);s!==e&&o.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(n){this.destination.next(n)}notifyError(n){this.destination.error(n)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class dee{call(n,e){return e.subscribe(new uee(n))}}class uee extends zn.L{constructor(n){super(n)}_next(n){n.observe(this.destination)}}const Pg="__@ngrx/effects_create__";function pee(t){return Object.getOwnPropertyNames(t).filter(o=>!(!t[o]||!t[o].hasOwnProperty(Pg))&&t[o][Pg].hasOwnProperty("dispatch")).map(o=>Object.assign({propertyName:o},t[o][Pg]))}function $b(t){return Object.getPrototypeOf(t)}const zg="__@ngrx/effects__";function hee(t){return(0,Ds.qC)(gee,$b)(t)}function gee(t){return function(t){return t.constructor.hasOwnProperty(zg)}(t)?t.constructor[zg]:[]}function mee(t,n,e){const o=$b(t).constructor.name,s=function(t){return[hee,pee].reduce((e,o)=>e.concat(o(t)),[])}(t).map(({propertyName:r,dispatch:a,useEffectsErrorHandler:l})=>{const d="function"==typeof t[r]?t[r]():t[r],c=l?e(d,n):d;return!1===a?c.pipe(function(n){return n.lift(new WK)}):c.pipe(function(n){return n.lift(new tee)}).pipe((0,xe.U)(m=>({effect:t[r],notification:m,propertyName:r,sourceName:o,sourceInstance:t})))});return(0,We.T)(...s)}function iE(t,n,e=10){return t.pipe((0,tp.K)(o=>(n&&n.handleError(o),e<=1?t:iE(t,n,e-1))))}let _ee=(()=>{class t extends Kn.y{constructor(e){super(),e&&(this.source=e)}lift(e){const o=new t;return o.source=this,o.operator=e,o}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ds.Y$))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Dee(t){return Jb(t,"ngrxOnInitEffects")}function Jb(t,n){return t&&n in t&&"function"==typeof t[n]}const nE=new i.OlP("@ngrx/effects Internal Root Guard"),Gg=new i.OlP("@ngrx/effects User Provided Effects"),jb=new i.OlP("@ngrx/effects Internal Root Effects"),oE=new i.OlP("@ngrx/effects Root Effects"),sE=new i.OlP("@ngrx/effects Internal Feature Effects"),rE=new i.OlP("@ngrx/effects Feature Effects"),aE=new i.OlP("@ngrx/effects Effects Error Handler");let qb=(()=>{class t extends Ze.xQ{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(UM($b),(0,XM.zg)(e=>e.pipe(UM(Mee))),(0,XM.zg)(e=>{const o=e.pipe(WM(r=>function(t,n){return e=>{const o=mee(e,t,n);return function(t){return Jb(t,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(o):o}}(this.errorHandler,this.effectsErrorHandler)(r)),(0,xe.U)(r=>(function(t,n){if("N"===t.notification.kind){const e=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(e)&&n.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:n,sourceName:e}){const o="function"==typeof n[t];return`"${e}.${String(t)}${o?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(n){return t}}(e)}`))}}(r,this.errorHandler),r.notification)),(0,ee.h)(r=>"N"===r.kind&&null!=r.value),function(n){return n.lift(new dee)}),s=e.pipe((0,nt.q)(1),(0,ee.h)(Dee),(0,xe.U)(r=>r.ngrxOnInitEffects()));return(0,We.T)(o,s)}))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.qLn),i.LFG(aE))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Mee(t){return function(t){return Jb(t,"ngrxOnIdentifyEffects")}(t)?t.ngrxOnIdentifyEffects():""}let Zb=(()=>{class t{constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qb),i.LFG(Ds.yh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const lE="@ngrx/effects/init";(0,Ds.PH)(lE);let cE=(()=>{class t{constructor(e,o,s,r,a,l,d){this.sources=e,o.start(),r.forEach(c=>e.addEffects(c)),s.dispatch({type:lE})}addEffects(e){this.sources.addEffects(e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qb),i.LFG(Zb),i.LFG(Ds.yh),i.LFG(oE),i.LFG(Ds.cr,8),i.LFG(Ds.CK,8),i.LFG(nE,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Bee=(()=>{class t{constructor(e,o,s,r){o.forEach(a=>a.forEach(l=>e.addEffects(l)))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(cE),i.LFG(rE),i.LFG(Ds.cr,8),i.LFG(Ds.CK,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Fee=(()=>{class t{static forFeature(e=[]){return{ngModule:Bee,providers:[e,{provide:sE,multi:!0,useValue:e},{provide:Gg,multi:!0,useValue:[]},{provide:rE,multi:!0,useFactory:dE,deps:[i.zs3,sE,Gg]}]}}static forRoot(e=[]){return{ngModule:cE,providers:[{provide:aE,useValue:iE},Zb,qb,_ee,e,{provide:jb,useValue:[e]},{provide:nE,useFactory:Ree,deps:[[Zb,new i.FiY,new i.tp0],[jb,new i.PiD]]},{provide:Gg,multi:!0,useValue:[]},{provide:oE,useFactory:dE,deps:[i.zs3,jb,Gg]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function dE(t,n,e){const o=[];for(const s of n)o.push(...s);for(const s of e)o.push(...s);return function(t,n){return n.map(e=>t.get(e))}(t,o)}function Ree(t,n){if((1!==n.length||0!==n[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let Aee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[x.ez,PK,wg,Fee.forFeature([]),Ab]]}),t})()}}]);